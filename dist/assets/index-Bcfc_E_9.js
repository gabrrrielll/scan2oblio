import{r as e,g as t,a as n,u as r,R as s}from"./zxing-vendor-dTGNytzA.js";import{r as l}from"./react-vendor-BF6Pw691.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var o,a,i={exports:{}},c={};var u,d,p,f,m=(a||(a=1,i.exports=function(){if(o)return c;o=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var s=null;if(void 0!==r&&(s=""+r),void 0!==n.key&&(s=""+n.key),"key"in n)for(var l in r={},n)"key"!==l&&(r[l]=n[l]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:s,ref:void 0!==n?n:null,props:r}}return c.Fragment=t,c.jsx=n,c.jsxs=n,c}()),i.exports),h={exports:{}},g={},x={exports:{}},b={};function y(){return d||(d=1,x.exports=(u||(u=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,l=e[r];if(!(0<s(l,t)))break e;e[r]=t,e[n]=l,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,l=e.length,o=l>>>1;r<o;){var a=2*(r+1)-1,i=e[a],c=a+1,u=e[c];if(0>s(i,n))c<l&&0>s(u,i)?(e[r]=u,e[c]=n,r=c):(e[r]=i,e[a]=n,r=a);else{if(!(c<l&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var i=[],c=[],u=1,d=null,p=3,f=!1,m=!1,h=!1,g=!1,x="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var s=n(c);null!==s;){if(null===s.callback)r(c);else{if(!(s.startTime<=e))break;r(c),s.sortIndex=s.expirationTime,t(i,s)}s=n(c)}}function w(e){if(h=!1,v(e),!m)if(null!==n(i))m=!0,S||(S=!0,N());else{var t=n(c);null!==t&&_(w,t.startTime-e)}}var N,S=!1,E=-1,C=5,j=-1;function k(){return!(!g&&e.unstable_now()-j<C)}function A(){if(g=!1,S){var t=e.unstable_now();j=t;var s=!0;try{e:{m=!1,h&&(h=!1,b(E),E=-1),f=!0;var l=p;try{t:{for(v(t),d=n(i);null!==d&&!(d.expirationTime>t&&k());){var o=d.callback;if("function"==typeof o){d.callback=null,p=d.priorityLevel;var a=o(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof a){d.callback=a,v(t),s=!0;break t}d===n(i)&&r(i),v(t)}else r(i);d=n(i)}if(null!==d)s=!0;else{var u=n(c);null!==u&&_(w,u.startTime-t),s=!1}}break e}finally{d=null,p=l,f=!1}s=void 0}}finally{s?N():S=!1}}}if("function"==typeof y)N=function(){y(A)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,T=I.port2;I.port1.onmessage=A,N=function(){T.postMessage(null)}}else N=function(){x(A,0)};function _(t,n){E=x(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_scheduleCallback=function(r,s,l){var o=e.unstable_now();switch(l="object"==typeof l&&null!==l&&"number"==typeof(l=l.delay)&&0<l?o+l:o,r){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return r={id:u++,callback:s,priorityLevel:r,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>o?(r.sortIndex=l,t(c,r),null===n(i)&&r===n(c)&&(h?(b(E),E=-1):h=!0,_(w,l-o))):(r.sortIndex=a,t(i,r),m||f||(m=!0,S||(S=!0,N()))),r},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}}(b)),b)),x.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function v(){if(p)return g;p=1;var t=y(),n=e(),r=l();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function a(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function i(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(a(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function O(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=_&&e[_]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case b:return"Fragment";case w:return"Profiler";case v:return"StrictMode";case C:return"Suspense";case j:return"SuspenseList";case I:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case x:return"Portal";case S:return e.displayName||"Context";case N:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}var D=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},F=[],z=-1;function q(e){return{current:e}}function G(e){0>z||(e.current=F[z],F[z]=null,z--)}function H(e,t){z++,F[z]=e.current,e.current=t}var V,B,$=q(null),J=q(null),W=q(null),Y=q(null);function K(e,t){switch(H(W,t),H(J,e),H($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vd(t=yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G($),H($,e)}function X(){G($),G(J),G(W)}function Q(e){null!==e.memoizedState&&H(Y,e);var t=$.current,n=vd(t,e.type);t!==n&&(H(J,e),H($,n))}function Z(e){J.current===e&&(G($),G(J)),Y.current===e&&(G(Y),pp._currentValue=U)}function ee(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||"",B=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+V+e+B}var te=!1;function ne(e,t){if(!e||te)return"";te=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var r=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(l){r=l}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"==typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=r.DetermineComponentFrameRoot(),o=l[0],a=l[1];if(o&&a){var i=o.split("\n"),c=a.split("\n");for(s=r=0;r<i.length&&!i[r].includes("DetermineComponentFrameRoot");)r++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(r===i.length||s===c.length)for(r=i.length-1,s=c.length-1;1<=r&&0<=s&&i[r]!==c[s];)s--;for(;1<=r&&0<=s;r--,s--)if(i[r]!==c[s]){if(1!==r||1!==s)do{if(r--,0>--s||i[r]!==c[s]){var u="\n"+i[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=s);break}}}finally{te=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ee(n):""}function re(e,t){switch(e.tag){case 26:case 27:case 5:return ee(e.type);case 16:return ee("Lazy");case 13:return e.child!==t&&null!==t?ee("Suspense Fallback"):ee("Suspense");case 19:return ee("SuspenseList");case 0:case 15:return ne(e.type,!1);case 11:return ne(e.type.render,!1);case 1:return ne(e.type,!0);case 31:return ee("Activity");default:return""}}function se(e){try{var t="",n=null;do{t+=re(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var le=Object.prototype.hasOwnProperty,oe=t.unstable_scheduleCallback,ae=t.unstable_cancelCallback,ie=t.unstable_shouldYield,ce=t.unstable_requestPaint,ue=t.unstable_now,de=t.unstable_getCurrentPriorityLevel,pe=t.unstable_ImmediatePriority,fe=t.unstable_UserBlockingPriority,me=t.unstable_NormalPriority,he=t.unstable_LowPriority,ge=t.unstable_IdlePriority,xe=t.log,be=t.unstable_setDisableYieldValue,ye=null,ve=null;function we(e){if("function"==typeof xe&&be(e),ve&&"function"==typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var Ne=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Se(e)/Ee|0)|0},Se=Math.log,Ee=Math.LN2;var Ce=256,je=262144,ke=4194304;function Ae(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ie(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var s=0,l=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~l)?s=Ae(r):0!==(o&=a)?s=Ae(o):n||0!==(n=a&~e)&&(s=Ae(n)):0!==(a=r&~l)?s=Ae(a):0!==o?s=Ae(o):n||0!==(n=r&~e)&&(s=Ae(n)),0===s?0:0!==t&&t!==s&&0===(t&l)&&((l=s&-s)>=(n=t&-t)||32===l&&4194048&n)?t:s}function Te(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function _e(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Oe(){var e=ke;return!(62914560&(ke<<=1))&&(ke=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ne(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Me(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ne(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function Le(e,t){var n=t&-t;return 0!==((n=42&n?1:Ue(n))&(e.suspendedLanes|t))?0:n}function Ue(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function ze(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Ap(e.type)}function qe(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Ge=Math.random().toString(36).slice(2),He="__reactFiber$"+Ge,Ve="__reactProps$"+Ge,Be="__reactContainer$"+Ge,$e="__reactEvents$"+Ge,Je="__reactListeners$"+Ge,We="__reactHandles$"+Ge,Ye="__reactResources$"+Ge,Ke="__reactMarker$"+Ge;function Xe(e){delete e[He],delete e[Ve],delete e[$e],delete e[Je],delete e[We]}function Qe(e){var t=e[He];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Be]||n[He]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ud(e);null!==e;){if(n=e[He])return n;e=Ud(e)}return t}n=(e=n).parentNode}return null}function Ze(e){if(e=e[He]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function et(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function tt(e){var t=e[Ye];return t||(t=e[Ye]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Ke]=!0}var rt=new Set,st={};function lt(e,t){ot(e,t),ot(e+"Capture",t)}function ot(e,t){for(st[e]=t,e=0;e<t.length;e++)rt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},ct={};function ut(e,t,n){if(s=t,le.call(ct,s)||!le.call(it,s)&&(at.test(s)?ct[s]=!0:(it[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function dt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function pt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function mt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){if(!e._valueTracker){var t=mt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var s=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){n=""+e,l.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function gt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function xt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var bt=/[\n"\\]/g;function yt(e){return e.replace(bt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,s,l,o,a){e.name="",null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ft(t)):e.value!==""+ft(t)&&(e.value=""+ft(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?Nt(e,o,ft(t)):null!=n?Nt(e,o,ft(n)):null!=r&&e.removeAttribute("value"),null==s&&null!=l&&(e.defaultChecked=!!l),null!=s&&(e.checked=s&&"function"!=typeof s&&"symbol"!=typeof s),null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.name=""+ft(a):e.removeAttribute("name")}function wt(e,t,n,r,s,l,o,a){if(null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l&&(e.type=l),null!=t||null!=n){if(("submit"===l||"reset"===l)&&null==t)return void ht(e);n=null!=n?""+ft(n):"",t=null!=t?""+ft(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:s)&&"symbol"!=typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.name=o),ht(e)}function Nt(e,t,n){"number"===t&&xt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function St(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ft(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function Et(e,t,n){null==t||((t=""+ft(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ft(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Ct(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(D(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ft(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ht(e)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function At(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function It(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var l in t)r=t[l],t.hasOwnProperty(l)&&n[l]!==r&&At(e,l,r)}else for(var o in t)t.hasOwnProperty(o)&&At(e,o,t[o])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ot=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Ot.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var Dt=null;function Mt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Ut=null;function Ft(e){var t=Ze(e);if(t&&(e=t.stateNode)){var n=e[Ve]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=r[Ve]||null;if(!l)throw Error(s(90));vt(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&gt(r)}break e;case"textarea":Et(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&St(e,!!n.multiple,t,!1)}}}var zt=!1;function qt(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Lt||null!==Ut)&&(tu(),Lt&&(t=Lt,e=Ut,Ut=Lt=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function Gt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ve]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var Ht=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Vt=!1;if(Ht)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Zp){Vt=!1}var $t=null,Jt=null,Wt=null;function Yt(){if(Wt)return Wt;var e,t,n=Jt,r=n.length,s="value"in $t?$t.value:$t.textContent,l=s.length;for(e=0;e<r&&n[e]===s[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===s[l-t];t++);return Wt=s.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Xt(){return!0}function Qt(){return!1}function Zt(e){function t(t,n,r,s,l){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=l,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Xt:Qt,this.isPropagationStopped=Qt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Xt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Xt)},persist:function(){},isPersistent:Xt}),t}var en,tn,nn,rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=Zt(rn),ln=f({},rn,{view:0,detail:0}),on=Zt(ln),an=f({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(nn&&"mousemove"===e.type?(en=e.screenX-nn.screenX,tn=e.screenY-nn.screenY):tn=en=0,nn=e),en)},movementY:function(e){return"movementY"in e?e.movementY:tn}}),cn=Zt(an),un=Zt(f({},an,{dataTransfer:0})),dn=Zt(f({},ln,{relatedTarget:0})),pn=Zt(f({},rn,{animationName:0,elapsedTime:0,pseudoElement:0})),fn=Zt(f({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),mn=Zt(f({},rn,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function yn(){return bn}var vn=Zt(f({},ln,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),wn=Zt(f({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=Zt(f({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),Sn=Zt(f({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=Zt(f({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Cn=Zt(f({},rn,{newState:0,oldState:0})),jn=[9,13,27,32],kn=Ht&&"CompositionEvent"in window,An=null;Ht&&"documentMode"in document&&(An=document.documentMode);var In=Ht&&"TextEvent"in window&&!An,Tn=Ht&&(!kn||An&&8<An&&11>=An),_n=String.fromCharCode(32),On=!1;function Pn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mn[e.type]:"textarea"===t}function Un(e,t,n,r){Lt?Ut?Ut.push(r):Ut=[r]:Lt=r,0<(t=ld(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,zn=null;function qn(e){Xu(e,0)}function Gn(e){if(gt(et(e)))return e}function Hn(e,t){if("change"===e)return t}var Vn=!1;if(Ht){var Bn;if(Ht){var $n="oninput"in document;if(!$n){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),$n="function"==typeof Jn.oninput}Bn=$n}else Bn=!1;Vn=Bn&&(!document.documentMode||9<document.documentMode)}function Wn(){Fn&&(Fn.detachEvent("onpropertychange",Yn),zn=Fn=null)}function Yn(e){if("value"===e.propertyName&&Gn(zn)){var t=[];Un(t,zn,e,Mt(e)),qt(qn,t)}}function Kn(e,t,n){"focusin"===e?(Wn(),zn=n,(Fn=t).attachEvent("onpropertychange",Yn)):"focusout"===e&&Wn()}function Xn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(zn)}function Qn(e,t){if("click"===e)return Gn(t)}function Zn(e,t){if("input"===e||"change"===e)return Gn(t)}var er="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function tr(e,t){if(er(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!le.call(t,s)||!er(e[s],t[s]))return!1}return!0}function nr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rr(e,t){var n,r=nr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nr(r)}}function sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(e){for(var t=xt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=xt((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=Ht&&"documentMode"in document&&11>=document.documentMode,ir=null,cr=null,ur=null,dr=!1;function pr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;dr||null==ir||ir!==xt(r)||("selectionStart"in(r=ir)&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ur&&tr(ur,r)||(ur=r,0<(r=ld(cr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function fr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mr={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},hr={},gr={};function xr(e){if(hr[e])return hr[e];if(!mr[e])return e;var t,n=mr[e];for(t in n)if(n.hasOwnProperty(t)&&t in gr)return hr[e]=n[t];return e}Ht&&(gr=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);var br=xr("animationend"),yr=xr("animationiteration"),vr=xr("animationstart"),wr=xr("transitionrun"),Nr=xr("transitionstart"),Sr=xr("transitioncancel"),Er=xr("transitionend"),Cr=new Map,jr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){Cr.set(e,t),lt(t,[e])}jr.push("scrollEnd");var Ar="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Ir=[],Tr=0,_r=0;function Or(){for(var e=Tr,t=_r=Tr=0;t<e;){var n=Ir[t];Ir[t++]=null;var r=Ir[t];Ir[t++]=null;var s=Ir[t];Ir[t++]=null;var l=Ir[t];if(Ir[t++]=null,null!==r&&null!==s){var o=r.pending;null===o?s.next=s:(s.next=o.next,o.next=s),r.pending=s}0!==l&&Mr(n,s,l)}}function Pr(e,t,n,r){Ir[Tr++]=e,Ir[Tr++]=t,Ir[Tr++]=n,Ir[Tr++]=r,_r|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Pr(e,t,n,r),Lr(e)}function Dr(e,t){return Pr(e,null,null,t),Lr(e)}function Mr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var s=!1,l=e.return;null!==l;)l.childLanes|=n,null!==(r=l.alternate)&&(r.childLanes|=n),22===l.tag&&(null===(e=l.stateNode)||1&e._visibility||(s=!0)),e=l,l=l.return;return 3===e.tag?(l=e.stateNode,s&&null!==t&&(s=31-Ne(n),null===(r=(e=l.hiddenUpdates)[s])?e[s]=[t]:r.push(t),t.lane=536870912|n),l):null}function Lr(e){if(50<$c)throw $c=0,Jc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ur={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Fr(e,t,n,r)}function qr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gr(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Hr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,l,o){var a=0;if(r=e,"function"==typeof e)qr(e)&&(a=1);else if("string"==typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case I:return(e=zr(31,n,t,l)).elementType=I,e.lanes=o,e;case b:return Br(n.children,l,o,t);case v:a=8,l|=24;break;case w:return(e=zr(12,n,t,2|l)).elementType=w,e.lanes=o,e;case C:return(e=zr(13,n,t,l)).elementType=C,e.lanes=o,e;case j:return(e=zr(19,n,t,l)).elementType=j,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case N:a=9;break e;case E:a=11;break e;case k:a=14;break e;case A:a=16,r=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=zr(a,n,t,l)).elementType=e,t.type=r,t.lanes=o,t}function Br(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function $r(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Jr(e){var t=zr(18,null,null,0);return t.stateNode=e,t}function Wr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yr=new WeakMap;function Kr(e,t){if("object"==typeof e&&null!==e){var n=Yr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:se(t)},Yr.set(e,t),t)}return{value:e,source:t,stack:se(t)}}var Xr=[],Qr=0,Zr=null,es=0,ts=[],ns=0,rs=null,ss=1,ls="";function os(e,t){Xr[Qr++]=es,Xr[Qr++]=Zr,Zr=e,es=t}function as(e,t,n){ts[ns++]=ss,ts[ns++]=ls,ts[ns++]=rs,rs=e;var r=ss;e=ls;var s=32-Ne(r)-1;r&=~(1<<s),n+=1;var l=32-Ne(t)+s;if(30<l){var o=s-s%5;l=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ss=1<<32-Ne(t)+s|n<<s|r,ls=l+e}else ss=1<<l|n<<s|r,ls=e}function is(e){null!==e.return&&(os(e,1),as(e,1,0))}function cs(e){for(;e===Zr;)Zr=Xr[--Qr],Xr[Qr]=null,es=Xr[--Qr],Xr[Qr]=null;for(;e===rs;)rs=ts[--ns],ts[ns]=null,ls=ts[--ns],ts[ns]=null,ss=ts[--ns],ts[ns]=null}function us(e,t){ts[ns++]=ss,ts[ns++]=ls,ts[ns++]=rs,ss=t.id,ls=t.overflow,rs=e}var ds=null,ps=null,fs=!1,ms=null,hs=!1,gs=Error(s(519));function xs(e){throw Ss(Kr(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),gs}function bs(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[He]=e,t[Ve]=r,n){case"dialog":Qu("cancel",t),Qu("close",t);break;case"iframe":case"object":case"embed":Qu("load",t);break;case"video":case"audio":for(n=0;n<Yu.length;n++)Qu(Yu[n],t);break;case"source":Qu("error",t);break;case"img":case"image":case"link":Qu("error",t),Qu("load",t);break;case"details":Qu("toggle",t);break;case"input":Qu("invalid",t),wt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Qu("invalid",t);break;case"textarea":Qu("invalid",t),Ct(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||dd(t.textContent,n)?(null!=r.popover&&(Qu("beforetoggle",t),Qu("toggle",t)),null!=r.onScroll&&Qu("scroll",t),null!=r.onScrollEnd&&Qu("scrollend",t),null!=r.onClick&&(t.onclick=Rt),t=!0):t=!1,t||xs(e,!0)}function ys(e){for(ds=e.return;ds;)switch(ds.tag){case 5:case 31:case 13:return void(hs=!1);case 27:case 3:return void(hs=!0);default:ds=ds.return}}function vs(e){if(e!==ds)return!1;if(!fs)return ys(e),fs=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wd(e.type,e.memoizedProps)),t=!t),t&&ps&&xs(e),ys(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ps=Ld(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ps=Ld(e)}else 27===n?(n=ps,Ad(e.type)?(e=Md,Md=null,ps=e):ps=n):ps=ds?Dd(e.stateNode.nextSibling):null;return!0}function ws(){ps=ds=null,fs=!1}function Ns(){var e=ms;return null!==e&&(null===Oc?Oc=e:Oc.push.apply(Oc,e),ms=null),e}function Ss(e){null===ms?ms=[e]:ms.push(e)}var Es=q(null),Cs=null,js=null;function ks(e,t,n){H(Es,t._currentValue),t._currentValue=n}function As(e){e._currentValue=Es.current,G(Es)}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ts(e,t,n,r){var l=e.child;for(null!==l&&(l.return=e);null!==l;){var o=l.dependencies;if(null!==o){var a=l.child;o=o.firstContext;e:for(;null!==o;){var i=o;o=l;for(var c=0;c<t.length;c++)if(i.context===t[c]){o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),Is(o.return,n,e),r||(a=null);break e}o=i.next}}else if(18===l.tag){if(null===(a=l.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),Is(a,n,e),a=null}else a=l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===e){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}}function _s(e,t,n,r){e=null;for(var l=t,o=!1;null!==l;){if(!o)if(524288&l.flags)o=!0;else if(262144&l.flags)break;if(10===l.tag){var a=l.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var i=l.type;er(l.pendingProps.value,a.value)||(null!==e?e.push(i):e=[i])}}else if(l===Y.current){if(null===(a=l.alternate))throw Error(s(387));a.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(null!==e?e.push(pp):e=[pp])}l=l.return}null!==e&&Ts(t,e,n,r),t.flags|=262144}function Os(e){for(e=e.firstContext;null!==e;){if(!er(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ps(e){Cs=e,js=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Rs(e){return Ms(Cs,e)}function Ds(e,t){return null===Cs&&Ps(e),Ms(e,t)}function Ms(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===js){if(null===e)throw Error(s(308));js=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else js=js.next=t;return n}var Ls="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Us=t.unstable_scheduleCallback,Fs=t.unstable_NormalPriority,zs={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qs(){return{controller:new Ls,data:new Map,refCount:0}}function Gs(e){e.refCount--,0===e.refCount&&Us(Fs,function(){e.controller.abort()})}var Hs=null,Vs=0,Bs=0,$s=null;function Js(){if(0===--Vs&&null!==Hs){null!==$s&&($s.status="fulfilled");var e=Hs;Hs=null,Bs=0,$s=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ws=M.S;M.S=function(e,t){Dc=ue(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Hs){var n=Hs=[];Vs=0,Bs=Vu(),$s={status:"pending",value:void 0,then:function(e){n.push(e)}}}Vs++,t.then(Js,Js)}(0,t),null!==Ws&&Ws(e,t)};var Ys=q(null);function Ks(){var e=Ys.current;return null!==e?e:gc.pooledCache}function Xs(e,t){H(Ys,null===t?Ys.current:t.pool)}function Qs(){var e=Ks();return null===e?null:{parent:zs._currentValue,pool:e}}var Zs=Error(s(460)),el=Error(s(474)),tl=Error(s(542)),nl={then:function(){}};function rl(e){return"fulfilled"===(e=e.status)||"rejected"===e}function sl(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Rt,Rt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw il(e=t.reason),e;default:if("string"==typeof t.status)t.then(Rt,Rt);else{if(null!==(e=gc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw il(e=t.reason),e}throw ol=t,Zs}}function ll(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw ol=t,Zs;throw t}}var ol=null;function al(){if(null===ol)throw Error(s(459));var e=ol;return ol=null,e}function il(e){if(e===Zs||e===tl)throw Error(s(483))}var cl=null,ul=0;function dl(e){var t=ul;return ul+=1,null===cl&&(cl=[]),sl(cl,e,t)}function pl(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function fl(e,t){if(t.$$typeof===m)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ml(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function l(e,t){return(e=Gr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function i(e,t,n,r){return null===t||6!==t.tag?((t=$r(n,e.mode,r)).return=e,t):((t=l(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===b?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===A&&ll(s)===t.type)?(pl(t=l(t,n.props),n),t.return=e,t):(pl(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=l(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Br(n,e.mode,r,s)).return=e,t):((t=l(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=$r(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case h:return pl(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case x:return(t=Wr(t,e.mode,n)).return=e,t;case A:return p(e,t=ll(t),n)}if(D(t)||O(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return p(e,dl(t),n);if(t.$$typeof===S)return p(e,Ds(e,t),n);fl(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==s?null:i(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===s?c(e,t,n,r):null;case x:return n.key===s?u(e,t,n,r):null;case A:return f(e,t,n=ll(n),r)}if(D(n)||O(n))return null!==s?null:d(e,t,n,r,null);if("function"==typeof n.then)return f(e,t,dl(n),r);if(n.$$typeof===S)return f(e,t,Ds(e,n),r);fl(e,n)}return null}function m(e,t,n,r,s){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return i(t,e=e.get(n)||null,""+r,s);if("object"==typeof r&&null!==r){switch(r.$$typeof){case h:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case A:return m(e,t,n,r=ll(r),s)}if(D(r)||O(r))return d(t,e=e.get(n)||null,r,s,null);if("function"==typeof r.then)return m(e,t,n,dl(r),s);if(r.$$typeof===S)return m(e,t,n,Ds(t,r),s);fl(t,r)}return null}function g(i,c,u,d){if("object"==typeof u&&null!==u&&u.type===b&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case h:e:{for(var y=u.key;null!==c;){if(c.key===y){if((y=u.type)===b){if(7===c.tag){n(i,c.sibling),(d=l(c,u.props.children)).return=i,i=d;break e}}else if(c.elementType===y||"object"==typeof y&&null!==y&&y.$$typeof===A&&ll(y)===c.type){n(i,c.sibling),pl(d=l(c,u.props),u),d.return=i,i=d;break e}n(i,c);break}t(i,c),c=c.sibling}u.type===b?((d=Br(u.props.children,i.mode,d,u.key)).return=i,i=d):(pl(d=Vr(u.type,u.key,u.props,null,i.mode,d),u),d.return=i,i=d)}return a(i);case x:e:{for(y=u.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(i,c.sibling),(d=l(c,u.children||[])).return=i,i=d;break e}n(i,c);break}t(i,c),c=c.sibling}(d=Wr(u,i.mode,d)).return=i,i=d}return a(i);case A:return g(i,c,u=ll(u),d)}if(D(u))return function(s,l,a,i){for(var c=null,u=null,d=l,h=l=0,g=null;null!==d&&h<a.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var x=f(s,d,a[h],i);if(null===x){null===d&&(d=g);break}e&&d&&null===x.alternate&&t(s,d),l=o(x,l,h),null===u?c=x:u.sibling=x,u=x,d=g}if(h===a.length)return n(s,d),fs&&os(s,h),c;if(null===d){for(;h<a.length;h++)null!==(d=p(s,a[h],i))&&(l=o(d,l,h),null===u?c=d:u.sibling=d,u=d);return fs&&os(s,h),c}for(d=r(d);h<a.length;h++)null!==(g=m(d,s,h,a[h],i))&&(e&&null!==g.alternate&&d.delete(null===g.key?h:g.key),l=o(g,l,h),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(s,e)}),fs&&os(s,h),c}(i,c,u,d);if(O(u)){if("function"!=typeof(y=O(u)))throw Error(s(150));return function(l,a,i,c){if(null==i)throw Error(s(151));for(var u=null,d=null,h=a,g=a=0,x=null,b=i.next();null!==h&&!b.done;g++,b=i.next()){h.index>g?(x=h,h=null):x=h.sibling;var y=f(l,h,b.value,c);if(null===y){null===h&&(h=x);break}e&&h&&null===y.alternate&&t(l,h),a=o(y,a,g),null===d?u=y:d.sibling=y,d=y,h=x}if(b.done)return n(l,h),fs&&os(l,g),u;if(null===h){for(;!b.done;g++,b=i.next())null!==(b=p(l,b.value,c))&&(a=o(b,a,g),null===d?u=b:d.sibling=b,d=b);return fs&&os(l,g),u}for(h=r(h);!b.done;g++,b=i.next())null!==(b=m(h,l,g,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?g:b.key),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b);return e&&h.forEach(function(e){return t(l,e)}),fs&&os(l,g),u}(i,c,u=y.call(u),d)}if("function"==typeof u.then)return g(i,c,dl(u),d);if(u.$$typeof===S)return g(i,c,Ds(i,u),d);fl(i,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(i,c.sibling),(d=l(c,u)).return=i,i=d):(n(i,c),(d=$r(u,i.mode,d)).return=i,i=d),a(i)):n(i,c)}return function(e,t,n,r){try{ul=0;var s=g(e,t,n,r);return cl=null,s}catch(o){if(o===Zs||o===tl)throw o;var l=zr(29,o,null,e.mode);return l.lanes=r,l.return=e,l}}}var hl=ml(!0),gl=ml(!1),xl=!1;function bl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wl(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&hc){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=Lr(e),Mr(e,null,n),t}return Pr(e,r,t,n),Lr(e)}function Nl(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Me(e,n)}}function Sl(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,l=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===l?s=l=o:l=l.next=o,n=n.next}while(null!==n);null===l?s=l=t:l=l.next=t}else s=l=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var El=!1;function Cl(){if(El){if(null!==$s)throw $s}}function jl(e,t,n,r){El=!1;var s=e.updateQueue;xl=!1;var l=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(null!==a){s.shared.pending=null;var i=a,c=i.next;i.next=null,null===o?l=c:o.next=c,o=i;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=i))}if(null!==l){var d=s.baseState;for(o=0,u=c=i=null,a=l;;){var p=-536870913&a.lane,m=p!==a.lane;if(m?(bc&p)===p:(r&p)===p){0!==p&&p===Bs&&(El=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var h=e,g=a;p=t;var x=n;switch(g.tag){case 1:if("function"==typeof(h=g.payload)){d=h.call(x,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=g.payload)?h.call(x,d,p):h))break e;d=f({},d,p);break e;case 2:xl=!0}}null!==(p=a.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=s.callbacks)?s.callbacks=[p]:m.push(p))}else m={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=m,i=d):u=u.next=m,o|=p;if(null===(a=a.next)){if(null===(a=s.shared.pending))break;a=(m=a).next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}null===u&&(i=d),s.baseState=i,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null===l&&(s.shared.lanes=0),jc|=o,e.lanes=o,e.memoizedState=d}}function kl(e,t){if("function"!=typeof e)throw Error(s(191,e));e.call(t)}function Al(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)kl(n[e],t)}var Il=q(null),Tl=q(0);function _l(e,t){H(Tl,e=Ec),H(Il,t),Ec=e|t.baseLanes}function Ol(){H(Tl,Ec),H(Il,Il.current)}function Pl(){Ec=Tl.current,G(Il),G(Tl)}var Rl=q(null),Dl=null;function Ml(e){var t=e.alternate;H(ql,1&ql.current),H(Rl,e),null===Dl&&(null===t||null!==Il.current||null!==t.memoizedState)&&(Dl=e)}function Ll(e){H(ql,ql.current),H(Rl,e),null===Dl&&(Dl=e)}function Ul(e){22===e.tag?(H(ql,ql.current),H(Rl,e),null===Dl&&(Dl=e)):Fl()}function Fl(){H(ql,ql.current),H(Rl,Rl.current)}function zl(e){G(Rl),Dl===e&&(Dl=null),G(ql)}var ql=q(0);function Gl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Pd(n)||Rd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hl=0,Vl=null,Bl=null,$l=null,Jl=!1,Wl=!1,Yl=!1,Kl=0,Xl=0,Ql=null,Zl=0;function eo(){throw Error(s(321))}function to(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!er(e[n],t[n]))return!1;return!0}function no(e,t,n,r,s,l){return Hl=l,Vl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?ba:ya,Yl=!1,l=n(r,s),Yl=!1,Wl&&(l=so(t,n,r,s)),ro(e),l}function ro(e){M.H=xa;var t=null!==Bl&&null!==Bl.next;if(Hl=0,$l=Bl=Vl=null,Jl=!1,Xl=0,Ql=null,t)throw Error(s(300));null===e||Da||null!==(e=e.dependencies)&&Os(e)&&(Da=!0)}function so(e,t,n,r){Vl=e;var l=0;do{if(Wl&&(Ql=null),Xl=0,Wl=!1,25<=l)throw Error(s(301));if(l+=1,$l=Bl=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}M.H=va,o=t(n,r)}while(Wl);return o}function lo(){var e=M.H,t=e.useState()[0];return t="function"==typeof t.then?po(t):t,e=e.useState()[0],(null!==Bl?Bl.memoizedState:null)!==e&&(Vl.flags|=1024),t}function oo(){var e=0!==Kl;return Kl=0,e}function ao(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function io(e){if(Jl){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Jl=!1}Hl=0,$l=Bl=Vl=null,Wl=!1,Xl=Kl=0,Ql=null}function co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===$l?Vl.memoizedState=$l=e:$l=$l.next=e,$l}function uo(){if(null===Bl){var e=Vl.alternate;e=null!==e?e.memoizedState:null}else e=Bl.next;var t=null===$l?Vl.memoizedState:$l.next;if(null!==t)$l=t,Bl=e;else{if(null===e){if(null===Vl.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Bl=e).memoizedState,baseState:Bl.baseState,baseQueue:Bl.baseQueue,queue:Bl.queue,next:null},null===$l?Vl.memoizedState=$l=e:$l=$l.next=e}return $l}function po(e){var t=Xl;return Xl+=1,null===Ql&&(Ql=[]),e=sl(Ql,e,t),t=Vl,null===(null===$l?t.memoizedState:$l.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?ba:ya),e}function fo(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return po(e);if(e.$$typeof===S)return Rs(e)}throw Error(s(438,String(e)))}function mo(e){var t=null,n=Vl.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Vl.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Vl.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function ho(e,t){return"function"==typeof t?t(e):t}function go(e){return xo(uo(),Bl,e)}function xo(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var l=e.baseQueue,o=r.pending;if(null!==o){if(null!==l){var a=l.next;l.next=o.next,o.next=a}t.baseQueue=l=o,r.pending=null}if(o=e.baseState,null===l)e.memoizedState=o;else{var i=a=null,c=null,u=t=l.next,d=!1;do{var p=-536870913&u.lane;if(p!==u.lane?(bc&p)===p:(Hl&p)===p){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),p===Bs&&(d=!0);else{if((Hl&f)===f){u=u.next,f===Bs&&(d=!0);continue}p={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(i=c=p,a=o):c=c.next=p,Vl.lanes|=f,jc|=f}p=u.action,Yl&&n(o,p),o=u.hasEagerState?u.eagerState:n(o,p)}else f={lane:p,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(i=c=f,a=o):c=c.next=f,Vl.lanes|=p,jc|=p;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=i,!er(o,e.memoizedState)&&(Da=!0,d&&null!==(n=$s)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,r.lastRenderedState=o}return null===l&&(r.lanes=0),[e.memoizedState,r.dispatch]}function bo(e){var t=uo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(null!==l){n.pending=null;var a=l=l.next;do{o=e(o,a.action),a=a.next}while(a!==l);er(o,t.memoizedState)||(Da=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function yo(e,t,n){var r=Vl,l=uo(),o=fs;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!er((Bl||l).memoizedState,n);if(a&&(l.memoizedState=n,Da=!0),l=l.queue,Vo(No.bind(null,r,l,e),[e]),l.getSnapshot!==t||a||null!==$l&&1&$l.memoizedState.tag){if(r.flags|=2048,Fo(9,{destroy:void 0},wo.bind(null,r,l,n,t),null),null===gc)throw Error(s(349));o||127&Hl||vo(r,t,n)}return n}function vo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Vl.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Vl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function wo(e,t,n,r){t.value=n,t.getSnapshot=r,So(t)&&Eo(e)}function No(e,t,n){return n(function(){So(t)&&Eo(e)})}function So(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!er(e,n)}catch(r){return!0}}function Eo(e){var t=Dr(e,2);null!==t&&Kc(t,e,2)}function Co(e){var t=co();if("function"==typeof e){var n=e;if(e=n(),Yl){we(!0);try{n()}finally{we(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:e},t}function jo(e,t,n,r){return e.baseState=n,xo(e,Bl,"function"==typeof r?r:ho)}function ko(e,t,n,r,l){if(ma(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==M.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,Ao(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Ao(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var l=M.T,o={};M.T=o;try{var a=n(s,r),i=M.S;null!==i&&i(o,a),Io(e,t,a)}catch(c){_o(e,t,c)}finally{null!==l&&null!==o.types&&(l.types=o.types),M.T=l}}else try{Io(e,t,l=n(s,r))}catch(u){_o(e,t,u)}}function Io(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){To(e,t,n)},function(n){return _o(e,t,n)}):To(e,t,n)}function To(e,t,n){t.status="fulfilled",t.value=n,Oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ao(e,n)))}function _o(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Oo(t),t=t.next}while(t!==r)}e.action=null}function Oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Po(e,t){return t}function Ro(e,t){if(fs){var n=gc.formState;if(null!==n){e:{var r=Vl;if(fs){if(ps){t:{for(var s=ps,l=hs;8!==s.nodeType;){if(!l){s=null;break t}if(null===(s=Dd(s.nextSibling))){s=null;break t}}s="F!"===(l=s.data)||"F"===l?s:null}if(s){ps=Dd(s.nextSibling),r="F!"===s.data;break e}}xs(r)}r=!1}r&&(t=n[0])}}return(n=co()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:t},n.queue=r,n=da.bind(null,Vl,r),r.dispatch=n,r=Co(!1),l=fa.bind(null,Vl,!1,r.queue),s={state:t,dispatch:null,action:e,pending:null},(r=co()).queue=s,n=ko.bind(null,Vl,s,l,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function Do(e){return Mo(uo(),Bl,e)}function Mo(e,t,n){if(t=xo(e,t,Po)[0],e=go(ho)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=po(t)}catch(o){if(o===Zs)throw tl;throw o}else r=t;var s=(t=uo()).queue,l=s.dispatch;return n!==t.memoizedState&&(Vl.flags|=2048,Fo(9,{destroy:void 0},Lo.bind(null,s,n),null)),[r,l,e]}function Lo(e,t){e.action=t}function Uo(e){var t=uo(),n=Bl;if(null!==n)return Mo(t,n,e);uo(),t=t.memoizedState;var r=(n=uo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Fo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Vl.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Vl.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return uo().memoizedState}function qo(e,t,n,r){var s=co();Vl.flags|=e,s.memoizedState=Fo(1|t,{destroy:void 0},n,void 0===r?null:r)}function Go(e,t,n,r){var s=uo();r=void 0===r?null:r;var l=s.memoizedState.inst;null!==Bl&&null!==r&&to(r,Bl.memoizedState.deps)?s.memoizedState=Fo(t,l,n,r):(Vl.flags|=e,s.memoizedState=Fo(1|t,l,n,r))}function Ho(e,t){qo(8390656,8,e,t)}function Vo(e,t){Go(2048,8,e,t)}function Bo(e){var t=uo().memoizedState;return function(e){Vl.flags|=4;var t=Vl.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Vl.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&hc)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function $o(e,t){return Go(4,2,e,t)}function Jo(e,t){return Go(4,4,e,t)}function Wo(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Yo(e,t,n){n=null!=n?n.concat([e]):null,Go(4,4,Wo.bind(null,t,e),n)}function Ko(){}function Xo(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&to(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&to(t,r[1]))return r[0];if(r=e(),Yl){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r}function Zo(e,t,n){return void 0===n||1073741824&Hl&&!(261930&bc)?e.memoizedState=t:(e.memoizedState=n,e=Yc(),Vl.lanes|=e,jc|=e,n)}function ea(e,t,n,r){return er(n,t)?n:null!==Il.current?(e=Zo(e,n,r),er(e,t)||(Da=!0),e):42&Hl&&(!(1073741824&Hl)||261930&bc)?(e=Yc(),Vl.lanes|=e,jc|=e,t):(Da=!0,e.memoizedState=n)}function ta(e,t,n,r,s){var l=L.p;L.p=0!==l&&8>l?l:8;var o,a,i,c=M.T,u={};M.T=u,fa(e,!1,t,n);try{var d=s(),p=M.S;if(null!==p&&p(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)pa(e,t,(o=r,a=[],i={status:"pending",value:null,reason:null,then:function(e){a.push(e)}},d.then(function(){i.status="fulfilled",i.value=o;for(var e=0;e<a.length;e++)(0,a[e])(o)},function(e){for(i.status="rejected",i.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)}),i),Wc());else pa(e,t,r,Wc())}catch(f){pa(e,t,{then:function(){},status:"rejected",reason:f},Wc())}finally{L.p=l,null!==c&&null!==u.types&&(c.types=u.types),M.T=c}}function na(){}function ra(e,t,n,r){if(5!==e.tag)throw Error(s(476));var l=sa(e).queue;ta(e,l,t,U,null===n?na:function(){return la(e),n(r)})}function sa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:U},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function la(e){var t=sa(e);null===t.next&&(t=e.alternate.memoizedState),pa(e,t.next.queue,{},Wc())}function oa(){return Rs(pp)}function aa(){return uo().memoizedState}function ia(){return uo().memoizedState}function ca(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Wc(),r=wl(t,e=vl(n),n);return null!==r&&(Kc(r,t,n),Nl(r,t,n)),t={cache:qs()},void(e.payload=t)}t=t.return}}function ua(e,t,n){var r=Wc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ma(e)?ha(t,n):null!==(n=Rr(e,t,n,r))&&(Kc(n,e,r),ga(n,t,r))}function da(e,t,n){pa(e,t,n,Wc())}function pa(e,t,n,r){var s={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ma(e))ha(t,s);else{var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=l(o,n);if(s.hasEagerState=!0,s.eagerState=a,er(a,o))return Pr(e,t,s,0),null===gc&&Or(),!1}catch(i){}if(null!==(n=Rr(e,t,s,r)))return Kc(n,e,r),ga(n,t,r),!0}return!1}function fa(e,t,n,r){if(r={lane:2,revertLane:Vu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ma(e)){if(t)throw Error(s(479))}else null!==(t=Rr(e,n,r,2))&&Kc(t,e,2)}function ma(e){var t=e.alternate;return e===Vl||null!==t&&t===Vl}function ha(e,t){Wl=Jl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ga(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Me(e,n)}}var xa={readContext:Rs,use:fo,useCallback:eo,useContext:eo,useEffect:eo,useImperativeHandle:eo,useLayoutEffect:eo,useInsertionEffect:eo,useMemo:eo,useReducer:eo,useRef:eo,useState:eo,useDebugValue:eo,useDeferredValue:eo,useTransition:eo,useSyncExternalStore:eo,useId:eo,useHostTransitionStatus:eo,useFormState:eo,useActionState:eo,useOptimistic:eo,useMemoCache:eo,useCacheRefresh:eo};xa.useEffectEvent=eo;var ba={readContext:Rs,use:fo,useCallback:function(e,t){return co().memoizedState=[e,void 0===t?null:t],e},useContext:Rs,useEffect:Ho,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,qo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qo(4194308,4,e,t)},useInsertionEffect:function(e,t){qo(4,2,e,t)},useMemo:function(e,t){var n=co();t=void 0===t?null:t;var r=e();if(Yl){we(!0);try{e()}finally{we(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=co();if(void 0!==n){var s=n(t);if(Yl){we(!0);try{n(t)}finally{we(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=ua.bind(null,Vl,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},co().memoizedState=e},useState:function(e){var t=(e=Co(e)).queue,n=da.bind(null,Vl,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ko,useDeferredValue:function(e,t){return Zo(co(),e,t)},useTransition:function(){var e=Co(!1);return e=ta.bind(null,Vl,e.queue,!0,!1),co().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Vl,l=co();if(fs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===gc)throw Error(s(349));127&bc||vo(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,Ho(No.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,{destroy:void 0},wo.bind(null,r,o,n,t),null),n},useId:function(){var e=co(),t=gc.identifierPrefix;if(fs){var n=ls;t="_"+t+"R_"+(n=(ss&~(1<<32-Ne(ss)-1)).toString(32)+n),0<(n=Kl++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zl++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:oa,useFormState:Ro,useActionState:Ro,useOptimistic:function(e){var t=co();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=fa.bind(null,Vl,!0,n),n.dispatch=t,[e,t]},useMemoCache:mo,useCacheRefresh:function(){return co().memoizedState=ca.bind(null,Vl)},useEffectEvent:function(e){var t=co(),n={impl:e};return t.memoizedState=n,function(){if(2&hc)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},ya={readContext:Rs,use:fo,useCallback:Xo,useContext:Rs,useEffect:Vo,useImperativeHandle:Yo,useInsertionEffect:$o,useLayoutEffect:Jo,useMemo:Qo,useReducer:go,useRef:zo,useState:function(){return go(ho)},useDebugValue:Ko,useDeferredValue:function(e,t){return ea(uo(),Bl.memoizedState,e,t)},useTransition:function(){var e=go(ho)[0],t=uo().memoizedState;return["boolean"==typeof e?e:po(e),t]},useSyncExternalStore:yo,useId:aa,useHostTransitionStatus:oa,useFormState:Do,useActionState:Do,useOptimistic:function(e,t){return jo(uo(),0,e,t)},useMemoCache:mo,useCacheRefresh:ia};ya.useEffectEvent=Bo;var va={readContext:Rs,use:fo,useCallback:Xo,useContext:Rs,useEffect:Vo,useImperativeHandle:Yo,useInsertionEffect:$o,useLayoutEffect:Jo,useMemo:Qo,useReducer:bo,useRef:zo,useState:function(){return bo(ho)},useDebugValue:Ko,useDeferredValue:function(e,t){var n=uo();return null===Bl?Zo(n,e,t):ea(n,Bl.memoizedState,e,t)},useTransition:function(){var e=bo(ho)[0],t=uo().memoizedState;return["boolean"==typeof e?e:po(e),t]},useSyncExternalStore:yo,useId:aa,useHostTransitionStatus:oa,useFormState:Uo,useActionState:Uo,useOptimistic:function(e,t){var n=uo();return null!==Bl?jo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:mo,useCacheRefresh:ia};function wa(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}va.useEffectEvent=Bo;var Na={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wc(),s=vl(r);s.payload=t,null!=n&&(s.callback=n),null!==(t=wl(e,s,r))&&(Kc(t,e,r),Nl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wc(),s=vl(r);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=wl(e,s,r))&&(Kc(t,e,r),Nl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wc(),r=vl(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=wl(e,r,n))&&(Kc(t,e,n),Nl(t,e,n))}};function Sa(e,t,n,r,s,l,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,l,o):!t.prototype||!t.prototype.isPureReactComponent||(!tr(n,r)||!tr(s,l))}function Ea(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Na.enqueueReplaceState(t,t.state,null)}function Ca(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var s in n===t&&(n=f({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}function ja(e){Ar(e)}function ka(e){console.error(e)}function Aa(e){Ar(e)}function Ia(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ta(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function _a(e,t,n){return(n=vl(n)).tag=3,n.payload={element:null},n.callback=function(){Ia(e,t)},n}function Oa(e){return(e=vl(e)).tag=3,e}function Pa(e,t,n,r){var s=n.type.getDerivedStateFromError;if("function"==typeof s){var l=r.value;e.payload=function(){return s(l)},e.callback=function(){Ta(t,n,r)}}var o=n.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){Ta(t,n,r),"function"!=typeof s&&(null===Uc?Uc=new Set([this]):Uc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ra=Error(s(461)),Da=!1;function Ma(e,t,n,r){t.child=null===e?gl(t,null,n,r):hl(t,e.child,n,r)}function La(e,t,n,r,s){n=n.render;var l=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return Ps(t),r=no(e,t,n,o,l,s),a=oo(),null===e||Da?(fs&&a&&is(t),t.flags|=1,Ma(e,t,r,s),t.child):(ao(e,t,s),oi(e,t,s))}function Ua(e,t,n,r,s){if(null===e){var l=n.type;return"function"!=typeof l||qr(l)||void 0!==l.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=l,Fa(e,t,l,r,s))}if(l=e.child,!ai(e,s)){var o=l.memoizedProps;if((n=null!==(n=n.compare)?n:tr)(o,r)&&e.ref===t.ref)return oi(e,t,s)}return t.flags|=1,(e=Gr(l,r)).ref=t.ref,e.return=t,t.child=e}function Fa(e,t,n,r,s){if(null!==e){var l=e.memoizedProps;if(tr(l,r)&&e.ref===t.ref){if(Da=!1,t.pendingProps=r=l,!ai(e,s))return t.lanes=e.lanes,oi(e,t,s);131072&e.flags&&(Da=!0)}}return $a(e,t,n,r,s)}function za(e,t,n,r){var s=r.children,l=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(l=null!==l?l.baseLanes|n:n,null!==e){for(r=t.child=e.child,s=0;null!==r;)s=s|r.lanes|r.childLanes,r=r.sibling;r=s&~l}else r=0,t.child=null;return Ga(e,t,l,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Ga(e,t,null!==l?l.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xs(0,null!==l?l.cachePool:null),null!==l?_l(t,l):Ol(),Ul(t)}else null!==l?(Xs(0,l.cachePool),_l(t,l),Fl(),t.memoizedState=null):(null!==e&&Xs(0,null),Ol(),Fl());return Ma(e,t,s,n),t.child}function qa(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ga(e,t,n,r,s){var l=Ks();return l=null===l?null:{parent:zs._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},null!==e&&Xs(0,null),Ol(),Ul(t),null!==e&&_s(e,t,r,!0),t.childLanes=s,null}function Ha(e,t){return(t=ti({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Va(e,t,n){return hl(t,e.child,null,n),(e=Ha(t,t.pendingProps)).flags|=2,zl(t),t.memoizedState=null,e}function Ba(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function $a(e,t,n,r,s){return Ps(t),n=no(e,t,n,r,void 0,s),r=oo(),null===e||Da?(fs&&r&&is(t),t.flags|=1,Ma(e,t,n,s),t.child):(ao(e,t,s),oi(e,t,s))}function Ja(e,t,n,r,s,l){return Ps(t),t.updateQueue=null,n=so(t,r,n,s),ro(e),r=oo(),null===e||Da?(fs&&r&&is(t),t.flags|=1,Ma(e,t,n,l),t.child):(ao(e,t,l),oi(e,t,l))}function Wa(e,t,n,r,s){if(Ps(t),null===t.stateNode){var l=Ur,o=n.contextType;"object"==typeof o&&null!==o&&(l=Rs(o)),l=new n(r,l),t.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,l.updater=Na,t.stateNode=l,l._reactInternals=t,(l=t.stateNode).props=r,l.state=t.memoizedState,l.refs={},bl(t),o=n.contextType,l.context="object"==typeof o&&null!==o?Rs(o):Ur,l.state=t.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(wa(t,n,o,r),l.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof l.getSnapshotBeforeUpdate||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||(o=l.state,"function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),o!==l.state&&Na.enqueueReplaceState(l,l.state,null),jl(t,r,l,s),Cl(),l.state=t.memoizedState),"function"==typeof l.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){l=t.stateNode;var a=t.memoizedProps,i=Ca(n,a);l.props=i;var c=l.context,u=n.contextType;o=Ur,"object"==typeof u&&null!==u&&(o=Rs(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof l.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(a||c!==o)&&Ea(t,l,r,o),xl=!1;var p=t.memoizedState;l.state=p,jl(t,r,l,s),Cl(),c=t.memoizedState,a||p!==c||xl?("function"==typeof d&&(wa(t,n,d,r),c=t.memoizedState),(i=xl||Sa(t,n,i,r,p,c,o))?(u||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||("function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"==typeof l.componentDidMount&&(t.flags|=4194308)):("function"==typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=o,r=i):("function"==typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,yl(e,t),u=Ca(n,o=t.memoizedProps),l.props=u,d=t.pendingProps,p=l.context,c=n.contextType,i=Ur,"object"==typeof c&&null!==c&&(i=Rs(c)),(c="function"==typeof(a=n.getDerivedStateFromProps)||"function"==typeof l.getSnapshotBeforeUpdate)||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(o!==d||p!==i)&&Ea(t,l,r,i),xl=!1,p=t.memoizedState,l.state=p,jl(t,r,l,s),Cl();var f=t.memoizedState;o!==d||p!==f||xl||null!==e&&null!==e.dependencies&&Os(e.dependencies)?("function"==typeof a&&(wa(t,n,a,r),f=t.memoizedState),(u=xl||Sa(t,n,u,r,p,f,i)||null!==e&&null!==e.dependencies&&Os(e.dependencies))?(c||"function"!=typeof l.UNSAFE_componentWillUpdate&&"function"!=typeof l.componentWillUpdate||("function"==typeof l.componentWillUpdate&&l.componentWillUpdate(r,f,i),"function"==typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,f,i)),"function"==typeof l.componentDidUpdate&&(t.flags|=4),"function"==typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof l.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),l.props=r,l.state=f,l.context=i,r=u):("function"!=typeof l.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return l=r,Ba(e,t),r=!!(128&t.flags),l||r?(l=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:l.render(),t.flags|=1,null!==e&&r?(t.child=hl(t,e.child,null,s),t.child=hl(t,null,n,s)):Ma(e,t,n,s),t.memoizedState=l.state,e=t.child):e=oi(e,t,s),e}function Ya(e,t,n,r){return ws(),t.flags|=256,Ma(e,t,n,r),t.child}var Ka={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xa(e){return{baseLanes:e,cachePool:Qs()}}function Qa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ic),e}function Za(e,t,n){var r,l=t.pendingProps,o=!1,a=!!(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&!!(2&ql.current)),r&&(o=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(fs){if(o?Ml(t):Fl(),(e=ps)?null!==(e=null!==(e=Od(e,hs))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==rs?{id:ss,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},(n=Jr(e)).return=t,t.child=n,ds=t,ps=null):e=null,null===e)throw xs(t);return Rd(e)?t.lanes=32:t.lanes=536870912,null}var i=l.children;return l=l.fallback,o?(Fl(),i=ti({mode:"hidden",children:i},o=t.mode),l=Br(l,o,n,null),i.return=t,l.return=t,i.sibling=l,t.child=i,(l=t.child).memoizedState=Xa(n),l.childLanes=Qa(e,r,n),t.memoizedState=Ka,qa(null,l)):(Ml(t),ei(t,i))}var c=e.memoizedState;if(null!==c&&null!==(i=c.dehydrated)){if(a)256&t.flags?(Ml(t),t.flags&=-257,t=ni(e,t,n)):null!==t.memoizedState?(Fl(),t.child=e.child,t.flags|=128,t=null):(Fl(),i=l.fallback,o=t.mode,l=ti({mode:"visible",children:l.children},o),(i=Br(i,o,n,null)).flags|=2,l.return=t,i.return=t,l.sibling=i,t.child=l,hl(t,e.child,null,n),(l=t.child).memoizedState=Xa(n),l.childLanes=Qa(e,r,n),t.memoizedState=Ka,t=qa(null,l));else if(Ml(t),Rd(i)){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;r=u,(l=Error(s(419))).stack="",l.digest=r,Ss({value:l,source:null,stack:null}),t=ni(e,t,n)}else if(Da||_s(e,t,n,!1),r=0!==(n&e.childLanes),Da||r){if(null!==(r=gc)&&(0!==(l=Le(r,n))&&l!==c.retryLane))throw c.retryLane=l,Dr(e,l),Kc(r,e,l),Ra;Pd(i)||iu(),t=ni(e,t,n)}else Pd(i)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ps=Dd(i.nextSibling),ds=t,fs=!0,ms=null,hs=!1,null!==e&&us(t,e),(t=ei(t,l.children)).flags|=4096);return t}return o?(Fl(),i=l.fallback,o=t.mode,u=(c=e.child).sibling,(l=Gr(c,{mode:"hidden",children:l.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?i=Gr(u,i):(i=Br(i,o,n,null)).flags|=2,i.return=t,l.return=t,l.sibling=i,t.child=l,qa(null,l),l=t.child,null===(i=e.child.memoizedState)?i=Xa(n):(null!==(o=i.cachePool)?(c=zs._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Qs(),i={baseLanes:i.baseLanes|n,cachePool:o}),l.memoizedState=i,l.childLanes=Qa(e,r,n),t.memoizedState=Ka,qa(e.child,l)):(Ml(t),e=(n=e.child).sibling,(n=Gr(n,{mode:"visible",children:l.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function ei(e,t){return(t=ti({mode:"visible",children:t},e.mode)).return=e,e.child=t}function ti(e,t){return(e=zr(22,e,null,t)).lanes=0,e}function ni(e,t,n){return hl(t,e.child,null,n),(e=ei(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ri(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function si(e,t,n,r,s,l){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s,treeForkCount:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s,o.treeForkCount=l)}function li(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;r=r.children;var o=ql.current,a=!!(2&o);if(a?(o=1&o|2,t.flags|=128):o&=1,H(ql,o),Ma(e,t,r,n),r=fs?es:0,!a&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ri(e,n,t);else if(19===e.tag)ri(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===Gl(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),si(t,!1,s,n,l,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===Gl(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}si(t,!0,n,null,l,r);break;case"together":si(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function oi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(_s(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Gr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ai(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Os(e))}function ii(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Da=!0;else{if(!(ai(e,n)||128&t.flags))return Da=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),ks(0,zs,e.memoizedState.cache),ws();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:ks(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ll(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ml(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Za(e,t,n):(Ml(t),null!==(e=oi(e,t,n))?e.sibling:null);Ml(t);break;case 19:var s=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(_s(e,t,n,!1),r=0!==(n&t.childLanes)),s){if(r)return li(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(ql,ql.current),r)break;return null;case 22:return t.lanes=0,za(e,t,n,t.pendingProps);case 24:ks(0,zs,e.memoizedState.cache)}return oi(e,t,n)}(e,t,n);Da=!!(131072&e.flags)}else Da=!1,fs&&1048576&t.flags&&as(t,es,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ll(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var l=e.$$typeof;if(l===E){t.tag=11,t=La(null,t,e,r,n);break e}if(l===k){t.tag=14,t=Ua(null,t,e,r,n);break e}}throw t=R(e)||e,Error(s(306,t,""))}qr(e)?(r=Ca(e,r),t.tag=1,t=Wa(null,t,e,r,n)):(t.tag=0,t=$a(null,t,e,r,n))}return t;case 0:return $a(e,t,t.type,t.pendingProps,n);case 1:return Wa(e,t,r=t.type,l=Ca(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var o=t.memoizedState;l=o.element,yl(e,t),jl(t,r,null,n);var a=t.memoizedState;if(r=a.cache,ks(0,zs,r),r!==o.cache&&Ts(t,[zs],n,!0),Cl(),r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ya(e,t,r,n);break e}if(r!==l){Ss(l=Kr(Error(s(424)),t)),t=Ya(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ps=Dd(e.firstChild),ds=t,fs=!0,ms=null,hs=!0,n=gl(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ws(),r===l){t=oi(e,t,n);break e}Ma(e,t,r,n)}t=t.child}return t;case 26:return Ba(e,t),null===e?(n=Jd(t.type,null,t.pendingProps,null))?t.memoizedState=n:fs||(n=t.type,e=t.pendingProps,(r=bd(W.current).createElement(n))[He]=t,r[Ve]=e,md(r,n,e),nt(r),t.stateNode=r):t.memoizedState=Jd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&fs&&(r=t.stateNode=Fd(t.type,t.pendingProps,W.current),ds=t,hs=!0,l=ps,Ad(t.type)?(Md=l,ps=Dd(r.firstChild)):ps=l),Ma(e,t,t.pendingProps.children,n),Ba(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&fs&&((l=r=ps)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(l=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(l!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((l=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var l=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===l)return e}if(null===(e=Dd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,hs))?(t.stateNode=r,ds=t,ps=Dd(r.firstChild),hs=!1,l=!0):l=!1),l||xs(t)),Q(t),l=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,r=o.children,wd(l,o)?r=null:null!==a&&wd(l,a)&&(t.flags|=32),null!==t.memoizedState&&(l=no(e,t,lo,null,null,n),pp._currentValue=l),Ba(e,t),Ma(e,t,r,n),t.child;case 6:return null===e&&fs&&((e=n=ps)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}(n,t.pendingProps,hs))?(t.stateNode=n,ds=t,ps=null,e=!0):e=!1),e||xs(t)),null;case 13:return Za(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=hl(t,null,r,n):Ma(e,t,r,n),t.child;case 11:return La(e,t,t.type,t.pendingProps,n);case 7:return Ma(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ma(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ks(0,t.type,r.value),Ma(e,t,r.children,n),t.child;case 9:return l=t.type._context,r=t.pendingProps.children,Ps(t),r=r(l=Rs(l)),t.flags|=1,Ma(e,t,r,n),t.child;case 14:return Ua(e,t,t.type,t.pendingProps,n);case 15:return Fa(e,t,t.type,t.pendingProps,n);case 19:return li(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,l=!!(128&t.flags);if(t.flags&=-129,null===e){if(fs){if("hidden"===r.mode)return e=Ha(t,r),t.lanes=536870912,qa(null,e);if(Ll(t),(e=ps)?null!==(e=null!==(e=Od(e,hs))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==rs?{id:ss,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},(n=Jr(e)).return=t,t.child=n,ds=t,ps=null):e=null,null===e)throw xs(t);return t.lanes=536870912,null}return Ha(t,r)}var o=e.memoizedState;if(null!==o){var a=o.dehydrated;if(Ll(t),l)if(256&t.flags)t.flags&=-257,t=Va(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Da||_s(e,t,n,!1),l=0!==(n&e.childLanes),Da||l){if(null!==(r=gc)&&0!==(a=Le(r,n))&&a!==o.retryLane)throw o.retryLane=a,Dr(e,a),Kc(r,e,a),Ra;iu(),t=Va(e,t,n)}else e=o.treeContext,ps=Dd(a.nextSibling),ds=t,fs=!0,ms=null,hs=!1,null!==e&&us(t,e),(t=Ha(t,r)).flags|=4096;return t}return(e=Gr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return za(e,t,n,t.pendingProps);case 24:return Ps(t),r=Rs(zs),null===e?(null===(l=Ks())&&(l=gc,o=qs(),l.pooledCache=o,o.refCount++,null!==o&&(l.pooledCacheLanes|=n),l=o),t.memoizedState={parent:r,cache:l},bl(t),ks(0,zs,l)):(0!==(e.lanes&n)&&(yl(e,t),jl(t,null,null,n),Cl()),l=e.memoizedState,o=t.memoizedState,l.parent!==r?(l={parent:r,cache:r},t.memoizedState=l,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=l),ks(0,zs,r)):(r=o.cache,ks(0,zs,r),r!==l.cache&&Ts(t,[zs],n,!0))),Ma(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function ci(e){e.flags|=4}function ui(e,t,n,r,s){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&s)===s)if(e.stateNode.complete)e.flags|=8192;else{if(!lu())throw ol=nl,el;e.flags|=8192}}else e.flags&=-16777217}function di(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!op(t)){if(!lu())throw ol=nl,el;e.flags|=8192}}function pi(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Oe():536870912,e.lanes|=t,Tc|=t)}function fi(e,t){if(!fs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function mi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=65011712&s.subtreeFlags,r|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hi(e,t,n){var r=t.pendingProps;switch(cs(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return mi(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),As(zs),X(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(vs(t)?ci(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Ns())),mi(t),null;case 26:var l=t.type,o=t.memoizedState;return null===e?(ci(t),null!==o?(mi(t),di(t,o)):(mi(t),ui(t,l,0,0,n))):o?o!==e.memoizedState?(ci(t),mi(t),di(t,o)):(mi(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ci(t),mi(t),ui(t,l,0,0,n)),null;case 27:if(Z(t),n=W.current,l=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ci(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return mi(t),null}e=$.current,vs(t)?bs(t):(e=Fd(l,r,n),t.stateNode=e,ci(t))}return mi(t),null;case 5:if(Z(t),l=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ci(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return mi(t),null}if(o=$.current,vs(t))bs(t);else{var a=bd(W.current);switch(o){case 1:o=a.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:o=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":o=a.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":o=a.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":(o=a.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"==typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o="string"==typeof r.is?a.createElement(l,{is:r.is}):a.createElement(l)}}o[He]=t,o[Ve]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)o.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=o;e:switch(md(o,l,r),l){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ci(t)}}return mi(t),ui(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ci(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));if(e=W.current,vs(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(l=ds))switch(l.tag){case 27:case 5:r=l.memoizedProps}e[He]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||dd(e.nodeValue,n)))||xs(t,!0)}else(e=bd(e).createTextNode(r))[He]=t,t.stateNode=e}return mi(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=vs(t),null!==n){if(null===e){if(!r)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[He]=t}else ws(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mi(t),e=!1}else n=Ns(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(zl(t),t):(zl(t),null);if(128&t.flags)throw Error(s(558))}return mi(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(l=vs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(s(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(s(317));l[He]=t}else ws(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;mi(t),l=!1}else l=Ns(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return 256&t.flags?(zl(t),t):(zl(t),null)}return zl(t),128&t.flags?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(l=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(l=r.alternate.memoizedState.cachePool.pool),o=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==l&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),pi(t,t.updateQueue),mi(t),null);case 4:return X(),null===e&&td(t.stateNode.containerInfo),mi(t),null;case 10:return As(t.type),mi(t),null;case 19:if(G(ql),null===(r=t.memoizedState))return mi(t),null;if(l=!!(128&t.flags),null===(o=r.rendering))if(l)fi(r,!1);else{if(0!==Cc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=Gl(e))){for(t.flags|=128,fi(r,!1),e=o.updateQueue,t.updateQueue=e,pi(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Hr(n,e),n=n.sibling;return H(ql,1&ql.current|2),fs&&os(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&ue()>Mc&&(t.flags|=128,l=!0,fi(r,!1),t.lanes=4194304)}else{if(!l)if(null!==(e=Gl(o))){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,pi(t,e),fi(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!fs)return mi(t),null}else 2*ue()-r.renderingStartTime>Mc&&536870912!==n&&(t.flags|=128,l=!0,fi(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ue(),e.sibling=null,n=ql.current,H(ql,l?1&n|2:1&n),fs&&os(t,r.treeForkCount),e):(mi(t),null);case 22:case 23:return zl(t),Pl(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(mi(t),6&t.subtreeFlags&&(t.flags|=8192)):mi(t),null!==(n=t.updateQueue)&&pi(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&G(Ys),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),As(zs),mi(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function gi(e,t){switch(cs(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return As(zs),X(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 31:if(null!==t.memoizedState){if(zl(t),null===t.alternate)throw Error(s(340));ws()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zl(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ws()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return G(ql),null;case 4:return X(),null;case 10:return As(t.type),null;case 22:case 23:return zl(t),Pl(),null!==e&&G(Ys),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return As(zs),null;default:return null}}function xi(e,t){switch(cs(t),t.tag){case 3:As(zs),X();break;case 26:case 27:case 5:Z(t);break;case 4:X();break;case 31:null!==t.memoizedState&&zl(t);break;case 13:zl(t);break;case 19:G(ql);break;case 10:As(t.type);break;case 22:case 23:zl(t),Pl(),null!==e&&G(Ys);break;case 24:As(zs)}}function bi(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var l=n.create,o=n.inst;r=l(),o.destroy=r}n=n.next}while(n!==s)}}catch(a){Cu(t,t.return,a)}}function yi(e,t,n){try{var r=t.updateQueue,s=null!==r?r.lastEffect:null;if(null!==s){var l=s.next;r=l;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,s=t;var i=n,c=a;try{c()}catch(u){Cu(s,i,u)}}}r=r.next}while(r!==l)}}catch(u){Cu(t,t.return,u)}}function vi(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Al(t,n)}catch(r){Cu(e,e.return,r)}}}function wi(e,t,n){n.props=Ca(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Cu(e,t,r)}}function Ni(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(s){Cu(e,t,s)}}function Si(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(s){Cu(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(l){Cu(e,t,l)}else n.current=null}function Ei(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){Cu(e,e.return,s)}}function Ci(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,o=null,a=null,i=null,c=null,u=null,d=null;for(m in n){var p=n[m];if(n.hasOwnProperty(m)&&null!=p)switch(m){case"checked":case"value":break;case"defaultValue":c=p;default:r.hasOwnProperty(m)||pd(e,t,m,null,r,p)}}for(var f in r){var m=r[f];if(p=n[f],r.hasOwnProperty(f)&&(null!=m||null!=p))switch(f){case"type":o=m;break;case"name":l=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":a=m;break;case"defaultValue":i=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(s(137,t));break;default:m!==p&&pd(e,t,f,m,r,p)}}return void vt(e,a,i,c,u,d,o,l);case"select":for(o in m=a=i=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(o)||pd(e,t,o,null,r,c)}for(l in r)if(o=r[l],c=n[l],r.hasOwnProperty(l)&&(null!=o||null!=c))switch(l){case"value":f=o;break;case"defaultValue":i=o;break;case"multiple":a=o;default:o!==c&&pd(e,t,l,o,r,c)}return t=i,n=a,r=m,void(null!=f?St(e,!!n,f,!1):!!r!=!!n&&(null!=t?St(e,!!n,t,!0):St(e,!!n,n?[]:"",!1)));case"textarea":for(i in m=f=null,n)if(l=n[i],n.hasOwnProperty(i)&&null!=l&&!r.hasOwnProperty(i))switch(i){case"value":case"children":break;default:pd(e,t,i,null,r,l)}for(a in r)if(l=r[a],o=n[a],r.hasOwnProperty(a)&&(null!=l||null!=o))switch(a){case"value":f=l;break;case"defaultValue":m=l;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:l!==o&&pd(e,t,a,l,r,o)}return void Et(e,f,m);case"option":for(var h in n)if(f=n[h],n.hasOwnProperty(h)&&null!=f&&!r.hasOwnProperty(h))if("selected"===h)e.selected=!1;else pd(e,t,h,null,r,f);for(c in r)if(f=r[c],m=n[c],r.hasOwnProperty(c)&&f!==m&&(null!=f||null!=m))if("selected"===c)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else pd(e,t,c,f,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&pd(e,t,g,null,r,f);for(u in r)if(f=r[u],m=n[u],r.hasOwnProperty(u)&&f!==m&&(null!=f||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:pd(e,t,u,f,r,m)}return;default:if(Tt(t)){for(var x in n)f=n[x],n.hasOwnProperty(x)&&void 0!==f&&!r.hasOwnProperty(x)&&fd(e,t,x,void 0,r,f);for(d in r)f=r[d],m=n[d],!r.hasOwnProperty(d)||f===m||void 0===f&&void 0===m||fd(e,t,d,f,r,m);return}}for(var b in n)f=n[b],n.hasOwnProperty(b)&&null!=f&&!r.hasOwnProperty(b)&&pd(e,t,b,null,r,f);for(p in r)f=r[p],m=n[p],!r.hasOwnProperty(p)||f===m||null==f&&null==m||pd(e,t,p,f,r,m)}(r,e.type,n,t),r[Ve]=t}catch(l){Cu(e,e.return,l)}}function ji(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Ad(e.type)||4===e.tag}function ki(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ji(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Ad(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ai(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Rt));else if(4!==r&&(27===r&&Ad(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Ai(e,t,n),e=e.sibling;null!==e;)Ai(e,t,n),e=e.sibling}function Ii(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Ad(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Ii(e,t,n),e=e.sibling;null!==e;)Ii(e,t,n),e=e.sibling}function Ti(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);md(t,r,n),t[He]=e,t[Ve]=n}catch(l){Cu(e,e.return,l)}}var _i=!1,Oi=!1,Pi=!1,Ri="function"==typeof WeakSet?WeakSet:Set,Di=null;function Mi(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ki(e,n),4&r&&bi(5,n);break;case 1:if(Ki(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){Cu(n,n.return,o)}else{var s=Ca(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Cu(n,n.return,a)}}64&r&&vi(n),512&r&&Ni(n,n.return);break;case 3:if(Ki(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Al(e,t)}catch(o){Cu(n,n.return,o)}}break;case 27:null===t&&4&r&&Ti(n);case 26:case 5:Ki(e,n),null===t&&4&r&&Ei(n),512&r&&Ni(n,n.return);break;case 12:Ki(e,n);break;case 31:Ki(e,n),4&r&&Gi(e,n);break;case 13:Ki(e,n),4&r&&Hi(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Iu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||_i)){t=null!==t&&null!==t.memoizedState||Oi,s=_i;var l=Oi;_i=r,(Oi=t)&&!l?Qi(e,n,!!(8772&n.subtreeFlags)):Ki(e,n),_i=s,Oi=l}break;case 30:break;default:Ki(e,n)}}function Li(e){var t=e.alternate;null!==t&&(e.alternate=null,Li(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Xe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ui=null,Fi=!1;function zi(e,t,n){for(n=n.child;null!==n;)qi(e,t,n),n=n.sibling}function qi(e,t,n){if(ve&&"function"==typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(l){}switch(n.tag){case 26:Oi||Si(n,t),zi(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Oi||Si(n,t);var r=Ui,s=Fi;Ad(n.type)&&(Ui=n.stateNode,Fi=!1),zi(e,t,n),zd(n.stateNode),Ui=r,Fi=s;break;case 5:Oi||Si(n,t);case 6:if(r=Ui,s=Fi,Ui=null,zi(e,t,n),Fi=s,null!==(Ui=r))if(Fi)try{(9===Ui.nodeType?Ui.body:"HTML"===Ui.nodeName?Ui.ownerDocument.body:Ui).removeChild(n.stateNode)}catch(o){Cu(n,t,o)}else try{Ui.removeChild(n.stateNode)}catch(o){Cu(n,t,o)}break;case 18:null!==Ui&&(Fi?(Id(9===(e=Ui).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),$p(e)):Id(Ui,n.stateNode));break;case 4:r=Ui,s=Fi,Ui=n.stateNode.containerInfo,Fi=!0,zi(e,t,n),Ui=r,Fi=s;break;case 0:case 11:case 14:case 15:yi(2,n,t),Oi||yi(4,n,t),zi(e,t,n);break;case 1:Oi||(Si(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&wi(n,t,r)),zi(e,t,n);break;case 21:zi(e,t,n);break;case 22:Oi=(r=Oi)||null!==n.memoizedState,zi(e,t,n),Oi=r;break;default:zi(e,t,n)}}function Gi(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{$p(e)}catch(n){Cu(t,t.return,n)}}}function Hi(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{$p(e)}catch(n){Cu(t,t.return,n)}}function Vi(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ri),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ri),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Tu.bind(null,e,t);t.then(r,r)}})}function Bi(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var l=n[r],o=e,a=t,i=a;e:for(;null!==i;){switch(i.tag){case 27:if(Ad(i.type)){Ui=i.stateNode,Fi=!1;break e}break;case 5:Ui=i.stateNode,Fi=!1;break e;case 3:case 4:Ui=i.stateNode.containerInfo,Fi=!0;break e}i=i.return}if(null===Ui)throw Error(s(160));qi(o,a,l),Ui=null,Fi=!1,null!==(o=l.alternate)&&(o.return=null),l.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Ji(t,e),t=t.sibling}var $i=null;function Ji(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bi(t,e),Wi(e),4&r&&(yi(3,e,e.return),bi(3,e),yi(5,e,e.return));break;case 1:Bi(t,e),Wi(e),512&r&&(Oi||null===n||Si(n,n.return)),64&r&&_i&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var l=$i;if(Bi(t,e),Wi(e),512&r&&(Oi||null===n||Si(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(r){case"title":(!(o=l.getElementsByTagName("title")[0])||o[Ke]||o[He]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=l.createElement(r),l.head.insertBefore(o,l.querySelector("head > title"))),md(o,r,n),o[He]=e,nt(o),r=o;break e;case"link":var a=sp("link","href",l).get(r+(n.href||""));if(a)for(var i=0;i<a.length;i++)if((o=a[i]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(i,1);break t}md(o=l.createElement(r),r,n),l.head.appendChild(o);break;case"meta":if(a=sp("meta","content",l).get(r+(n.content||"")))for(i=0;i<a.length;i++)if((o=a[i]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(i,1);break t}md(o=l.createElement(r),r,n),l.head.appendChild(o);break;default:throw Error(s(468,r))}o[He]=e,nt(o),r=o}e.stateNode=r}else lp(l,e.type,e.stateNode);else e.stateNode=Zd(l,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?lp(l,e.type,e.stateNode):Zd(l,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Ci(e,e.memoizedProps,n.memoizedProps)}break;case 27:Bi(t,e),Wi(e),512&r&&(Oi||null===n||Si(n,n.return)),null!==n&&4&r&&Ci(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Bi(t,e),Wi(e),512&r&&(Oi||null===n||Si(n,n.return)),32&e.flags){l=e.stateNode;try{jt(l,"")}catch(h){Cu(e,e.return,h)}}4&r&&null!=e.stateNode&&Ci(e,l=e.memoizedProps,null!==n?n.memoizedProps:l),1024&r&&(Pi=!0);break;case 6:if(Bi(t,e),Wi(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(h){Cu(e,e.return,h)}}break;case 3:if(rp=null,l=$i,$i=Hd(t.containerInfo),Bi(t,e),$i=l,Wi(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{$p(t.containerInfo)}catch(h){Cu(e,e.return,h)}Pi&&(Pi=!1,Yi(e));break;case 4:r=$i,$i=Hd(e.stateNode.containerInfo),Bi(t,e),Wi(e),$i=r;break;case 12:default:Bi(t,e),Wi(e);break;case 31:case 19:Bi(t,e),Wi(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Vi(e,r)));break;case 13:Bi(t,e),Wi(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Rc=ue()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Vi(e,r)));break;case 22:l=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=_i,d=Oi;if(_i=u||l,Oi=d||c,Bi(t,e),Oi=d,_i=u,Wi(e),8192&r)e:for(t=e.stateNode,t._visibility=l?-2&t._visibility:1|t._visibility,l&&(null===n||c||_i||Oi||Xi(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,l)"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{i=c.stateNode;var p=c.memoizedProps.style,f=null!=p&&p.hasOwnProperty("display")?p.display:null;i.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(h){Cu(c,c.return,h)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(h){Cu(c,c.return,h)}}}else if(18===t.tag){if(null===n){c=t;try{var m=c.stateNode;l?Td(m,!0):Td(c.stateNode,!1)}catch(h){Cu(c,c.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Vi(e,n))));case 30:case 21:}}function Wi(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ji(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var l=n.stateNode;Ii(e,ki(e),l);break;case 5:var o=n.stateNode;32&n.flags&&(jt(o,""),n.flags&=-33),Ii(e,ki(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;Ai(e,ki(e),a);break;default:throw Error(s(161))}}catch(i){Cu(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Yi(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Yi(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ki(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Mi(e,t.alternate,t),t=t.sibling}function Xi(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yi(4,t,t.return),Xi(t);break;case 1:Si(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&wi(t,t.return,n),Xi(t);break;case 27:zd(t.stateNode);case 26:case 5:Si(t,t.return),Xi(t);break;case 22:null===t.memoizedState&&Xi(t);break;default:Xi(t)}e=e.sibling}}function Qi(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,s=e,l=t,o=l.flags;switch(l.tag){case 0:case 11:case 15:Qi(s,l,n),bi(4,l);break;case 1:if(Qi(s,l,n),"function"==typeof(s=(r=l).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){Cu(r,r.return,c)}if(null!==(s=(r=l).updateQueue)){var a=r.stateNode;try{var i=s.shared.hiddenCallbacks;if(null!==i)for(s.shared.hiddenCallbacks=null,s=0;s<i.length;s++)kl(i[s],a)}catch(c){Cu(r,r.return,c)}}n&&64&o&&vi(l),Ni(l,l.return);break;case 27:Ti(l);case 26:case 5:Qi(s,l,n),n&&null===r&&4&o&&Ei(l),Ni(l,l.return);break;case 12:Qi(s,l,n);break;case 31:Qi(s,l,n),n&&4&o&&Gi(s,l);break;case 13:Qi(s,l,n),n&&4&o&&Hi(s,l);break;case 22:null===l.memoizedState&&Qi(s,l,n),Ni(l,l.return);break;case 30:break;default:Qi(s,l,n)}t=t.sibling}}function Zi(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Gs(n))}function ec(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Gs(e))}function tc(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)nc(e,t,n,r),t=t.sibling}function nc(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:tc(e,t,n,r),2048&s&&bi(9,t);break;case 1:case 31:case 13:default:tc(e,t,n,r);break;case 3:tc(e,t,n,r),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Gs(e)));break;case 12:if(2048&s){tc(e,t,n,r),e=t.stateNode;try{var l=t.memoizedProps,o=l.id,a=l.onPostCommit;"function"==typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(i){Cu(t,t.return,i)}}else tc(e,t,n,r);break;case 23:break;case 22:l=t.stateNode,o=t.alternate,null!==t.memoizedState?2&l._visibility?tc(e,t,n,r):sc(e,t):2&l._visibility?tc(e,t,n,r):(l._visibility|=2,rc(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&s&&Zi(o,t);break;case 24:tc(e,t,n,r),2048&s&&ec(t.alternate,t)}}function rc(e,t,n,r,s){for(s=s&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var l=e,o=t,a=n,i=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:rc(l,o,a,i,s),bi(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?rc(l,o,a,i,s):sc(l,o):(u._visibility|=2,rc(l,o,a,i,s)),s&&2048&c&&Zi(o.alternate,o);break;case 24:rc(l,o,a,i,s),s&&2048&c&&ec(o.alternate,o);break;default:rc(l,o,a,i,s)}t=t.sibling}}function sc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:sc(n,r),2048&s&&Zi(r.alternate,r);break;case 24:sc(n,r),2048&s&&ec(r.alternate,r);break;default:sc(n,r)}t=t.sibling}}var lc=8192;function oc(e,t,n){if(e.subtreeFlags&lc)for(e=e.child;null!==e;)ac(e,t,n),e=e.sibling}function ac(e,t,n){switch(e.tag){case 26:oc(e,t,n),e.flags&lc&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var s=Wd(r.href),l=t.querySelector(Yd(s));if(l)return null!==(t=l._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=ip.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=l,void nt(l);l=t.ownerDocument||t,r=Kd(r),(s=qd.get(s))&&tp(r,s),nt(l=l.createElement("link"));var o=l;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),md(l,"link",r),n.instance=l}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=ip.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,$i,e.memoizedState,e.memoizedProps);break;case 5:default:oc(e,t,n);break;case 3:case 4:var r=$i;$i=Hd(e.stateNode.containerInfo),oc(e,t,n),$i=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=lc,lc=16777216,oc(e,t,n),lc=r):oc(e,t,n))}}function ic(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function cc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Di=r,pc(r,e)}ic(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)uc(e),e=e.sibling}function uc(e){switch(e.tag){case 0:case 11:case 15:cc(e),2048&e.flags&&yi(9,e,e.return);break;case 3:case 12:default:cc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,dc(e)):cc(e)}}function dc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Di=r,pc(r,e)}ic(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yi(8,t,t.return),dc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,dc(t));break;default:dc(t)}e=e.sibling}}function pc(e,t){for(;null!==Di;){var n=Di;switch(n.tag){case 0:case 11:case 15:yi(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Gs(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Di=r;else e:for(n=e;null!==Di;){var s=(r=Di).sibling,l=r.return;if(Li(r),r===n){Di=null;break e}if(null!==s){s.return=l,Di=s;break e}Di=l}}}var fc={getCacheForType:function(e){var t=Rs(zs),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Rs(zs).controller.signal}},mc="function"==typeof WeakMap?WeakMap:Map,hc=0,gc=null,xc=null,bc=0,yc=0,vc=null,wc=!1,Nc=!1,Sc=!1,Ec=0,Cc=0,jc=0,kc=0,Ac=0,Ic=0,Tc=0,_c=null,Oc=null,Pc=!1,Rc=0,Dc=0,Mc=1/0,Lc=null,Uc=null,Fc=0,zc=null,qc=null,Gc=0,Hc=0,Vc=null,Bc=null,$c=0,Jc=null;function Wc(){return 2&hc&&0!==bc?bc&-bc:null!==M.T?Vu():ze()}function Yc(){if(0===Ic)if(536870912&bc&&!fs)Ic=536870912;else{var e=je;!(3932160&(je<<=1))&&(je=262144),Ic=e}return null!==(e=Rl.current)&&(e.flags|=32),Ic}function Kc(e,t,n){(e!==gc||2!==yc&&9!==yc)&&null===e.cancelPendingCommit||(ru(e,0),eu(e,bc,Ic,!1)),Re(e,n),2&hc&&e===gc||(e===gc&&(!(2&hc)&&(kc|=n),4===Cc&&eu(e,bc,Ic,!1)),Lu(e))}function Xc(e,t,n){if(6&hc)throw Error(s(327));for(var r=!n&&!(127&t)&&0===(t&e.expiredLanes)||Te(e,t),l=r?function(e,t){var n=hc;hc|=2;var r=ou(),l=au();gc!==e||bc!==t?(Lc=null,Mc=ue()+500,ru(e,t)):Nc=Te(e,t);e:for(;;)try{if(0!==yc&&null!==xc){t=xc;var o=vc;t:switch(yc){case 1:yc=0,vc=null,mu(e,t,o,1);break;case 2:case 9:if(rl(o)){yc=0,vc=null,fu(t);break}t=function(){2!==yc&&9!==yc||gc!==e||(yc=7),Lu(e)},o.then(t,t);break e;case 3:yc=7;break e;case 4:yc=5;break e;case 7:rl(o)?(yc=0,vc=null,fu(t)):(yc=0,vc=null,mu(e,t,o,7));break;case 5:var a=null;switch(xc.tag){case 26:a=xc.memoizedState;case 5:case 27:var i=xc;if(a?op(a):i.stateNode.complete){yc=0,vc=null;var c=i.sibling;if(null!==c)xc=c;else{var u=i.return;null!==u?(xc=u,hu(u)):xc=null}break t}}yc=0,vc=null,mu(e,t,o,5);break;case 6:yc=0,vc=null,mu(e,t,o,6);break;case 8:nu(),Cc=6;break e;default:throw Error(s(462))}}du();break}catch(d){su(e,d)}return js=Cs=null,M.H=r,M.A=l,hc=n,null!==xc?0:(gc=null,bc=0,Or(),Cc)}(e,t):cu(e,t,!0),o=r;;){if(0===l){Nc&&!r&&eu(e,t,0,!1);break}if(n=e.current.alternate,!o||Zc(n)){if(2===l){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var i=e;l=_c;var c=i.current.memoizedState.isDehydrated;if(c&&(ru(i,a).flags|=256),2!==(a=cu(i,a,!1))){if(Sc&&!c){i.errorRecoveryDisabledLanes|=o,kc|=o,l=4;break e}o=Oc,Oc=l,null!==o&&(null===Oc?Oc=o:Oc.push.apply(Oc,o))}l=a}if(o=!1,2!==l)continue}}if(1===l){ru(e,0),eu(e,t,0,!0);break}e:{switch(r=e,o=l){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:eu(r,t,Ic,!wc);break e;case 2:Oc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(l=Rc+300-ue())){if(eu(r,t,Ic,!wc),0!==Ie(r,0,!0))break e;Gc=t,r.timeoutHandle=Sd(Qc.bind(null,r,n,Oc,Lc,Pc,t,Ic,kc,Tc,wc,o,"Throttled",-0,0),l)}else Qc(r,n,Oc,Lc,Pc,t,Ic,kc,Tc,wc,o,null,-0,0)}break}l=cu(e,t,!1),o=!1}Lu(e)}function Qc(e,t,n,r,s,l,o,a,i,c,u,d,p,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){ac(t,l,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var m=(62914560&l)===l?Rc-ue():(4194048&l)===l?Dc-ue():0;if(null!==(m=function(e,t){return e.stylesheets&&0===e.count&&up(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&up(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ap&&(ap=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var s=n[r],l=s.transferSize,o=s.initiatorType,a=s.duration;if(l&&a&&hd(o)){for(o=0,a=s.responseEnd,r+=1;r<n.length;r++){var i=n[r],c=i.startTime;if(c>a)break;var u=i.transferSize,d=i.initiatorType;u&&hd(d)&&(o+=u*((i=i.responseEnd)<a?1:(a-c)/(i-c)))}if(--r,t+=8*(l+o)/(s.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var s=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&up(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ap?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(s)}}:null}(d,m)))return Gc=l,e.cancelPendingCommit=m(xu.bind(null,e,t,l,n,r,s,o,a,i,u,d,null,p,f)),void eu(e,l,o,!c)}xu(e,t,l,n,r,s,o,a,i)}function Zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!er(l(),s))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function eu(e,t,n,r){t&=~Ac,t&=~kc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var l=31-Ne(s),o=1<<l;r[l]=-1,s&=~o}0!==n&&De(e,n,t)}function tu(){return!!(6&hc)||(Uu(0),!1)}function nu(){if(null!==xc){if(0===yc)var e=xc.return;else js=Cs=null,io(e=xc),cl=null,ul=0,e=xc;for(;null!==e;)xi(e.alternate,e),e=e.return;xc=null}}function ru(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Ed(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Gc=0,nu(),gc=e,xc=n=Gr(e.current,null),bc=t,yc=0,vc=null,wc=!1,Nc=Te(e,t),Sc=!1,Tc=Ic=Ac=kc=jc=Cc=0,Oc=_c=null,Pc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var s=31-Ne(r),l=1<<s;t|=e[s],r&=~l}return Ec=t,Or(),n}function su(e,t){Vl=null,M.H=xa,t===Zs||t===tl?(t=al(),yc=3):t===el?(t=al(),yc=4):yc=t===Ra?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,vc=t,null===xc&&(Cc=1,Ia(e,Kr(t,e.current)))}function lu(){var e=Rl.current;return null===e||((4194048&bc)===bc?null===Dl:!!((62914560&bc)===bc||536870912&bc)&&e===Dl)}function ou(){var e=M.H;return M.H=xa,null===e?xa:e}function au(){var e=M.A;return M.A=fc,e}function iu(){Cc=4,wc||(4194048&bc)!==bc&&null!==Rl.current||(Nc=!0),!(134217727&jc)&&!(134217727&kc)||null===gc||eu(gc,bc,Ic,!1)}function cu(e,t,n){var r=hc;hc|=2;var s=ou(),l=au();gc===e&&bc===t||(Lc=null,ru(e,t)),t=!1;var o=Cc;e:for(;;)try{if(0!==yc&&null!==xc){var a=xc,i=vc;switch(yc){case 8:nu(),o=6;break e;case 3:case 2:case 9:case 6:null===Rl.current&&(t=!0);var c=yc;if(yc=0,vc=null,mu(e,a,i,c),n&&Nc){o=0;break e}break;default:c=yc,yc=0,vc=null,mu(e,a,i,c)}}uu(),o=Cc;break}catch(u){su(e,u)}return t&&e.shellSuspendCounter++,js=Cs=null,hc=r,M.H=s,M.A=l,null===xc&&(gc=null,bc=0,Or()),o}function uu(){for(;null!==xc;)pu(xc)}function du(){for(;null!==xc&&!ie();)pu(xc)}function pu(e){var t=ii(e.alternate,e,Ec);e.memoizedProps=e.pendingProps,null===t?hu(e):xc=t}function fu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ja(n,t,t.pendingProps,t.type,void 0,bc);break;case 11:t=Ja(n,t,t.pendingProps,t.type.render,t.ref,bc);break;case 5:io(t);default:xi(n,t),t=ii(n,t=xc=Hr(t,Ec),Ec)}e.memoizedProps=e.pendingProps,null===t?hu(e):xc=t}function mu(e,t,n,r){js=Cs=null,io(t),cl=null,ul=0;var l=t.return;try{if(function(e,t,n,r,l){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&_s(t,n,l,!0),null!==(n=Rl.current)){switch(n.tag){case 31:case 13:return null===Dl?iu():null===n.alternate&&0===Cc&&(Cc=3),n.flags&=-257,n.flags|=65536,n.lanes=l,r===nl?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ju(e,r,l)),!1;case 22:return n.flags|=65536,r===nl?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ju(e,r,l)),!1}throw Error(s(435,n.tag))}return ju(e,r,l),iu(),!1}if(fs)return null!==(t=Rl.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=l,r!==gs&&Ss(Kr(e=Error(s(422),{cause:r}),n))):(r!==gs&&Ss(Kr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,l&=-l,e.lanes|=l,r=Kr(r,n),Sl(e,l=_a(e.stateNode,r,l)),4!==Cc&&(Cc=2)),!1;var o=Error(s(520),{cause:r});if(o=Kr(o,n),null===_c?_c=[o]:_c.push(o),4!==Cc&&(Cc=2),null===t)return!0;r=Kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,Sl(n,e=_a(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===o||"function"!=typeof o.componentDidCatch||null!==Uc&&Uc.has(o))))return n.flags|=65536,l&=-l,n.lanes|=l,Pa(l=Oa(l),e,n,r),Sl(n,l),!1}n=n.return}while(null!==n);return!1}(e,l,t,n,bc))return Cc=1,Ia(e,Kr(n,e.current)),void(xc=null)}catch(o){if(null!==l)throw xc=l,o;return Cc=1,Ia(e,Kr(n,e.current)),void(xc=null)}32768&t.flags?(fs||1===r?e=!0:Nc||536870912&bc?e=!1:(wc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Rl.current)&&13===r.tag&&(r.flags|=16384))),gu(t,e)):hu(t)}function hu(e){var t=e;do{if(32768&t.flags)return void gu(t,wc);e=t.return;var n=hi(t.alternate,t,Ec);if(null!==n)return void(xc=n);if(null!==(t=t.sibling))return void(xc=t);xc=t=e}while(null!==t);0===Cc&&(Cc=5)}function gu(e,t){do{var n=gi(e.alternate,e);if(null!==n)return n.flags&=32767,void(xc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(xc=e);xc=e=n}while(null!==e);Cc=6,xc=null}function xu(e,t,n,r,l,o,a,i,c){e.cancelPendingCommit=null;do{Nu()}while(0!==Fc);if(6&hc)throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,s,l){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,i=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Ne(n),d=1<<u;a[u]=0,i[u]=-1;var p=c[u];if(null!==p)for(c[u]=null,u=0;u<p.length;u++){var f=p[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&De(e,r,0),0!==l&&0===s&&0!==e.tag&&(e.suspendedLanes|=l&~(o&~t))}(e,n,o|=_r,a,i,c),e===gc&&(xc=gc=null,bc=0),qc=t,zc=e,Gc=n,Hc=o,Vc=l,Bc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,oe(me,function(){return Su(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=M.T,M.T=null,l=L.p,L.p=2,a=hc,hc|=4;try{!function(e,t){if(e=e.containerInfo,gd=wp,or(e=lr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var a=0,i=-1,c=-1,u=0,d=0,p=e,f=null;t:for(;;){for(var m;p!==n||0!==l&&3!==p.nodeType||(i=a+l),p!==o||0!==r&&3!==p.nodeType||(c=a+r),3===p.nodeType&&(a+=p.nodeValue.length),null!==(m=p.firstChild);)f=p,p=m;for(;;){if(p===e)break t;if(f===n&&++u===l&&(i=a),f===o&&++d===r&&(c=a),null!==(m=p.nextSibling))break;f=(p=f).parentNode}p=m}n=-1===i||-1===c?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(xd={focusedElem:e,selectionRange:n},wp=!1,Di=t;null!==Di;)if(e=(t=Di).child,1028&t.subtreeFlags&&null!==e)e.return=t,Di=e;else for(;null!==Di;){switch(o=(t=Di).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(l=e[n]).ref.impl=l.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==o){e=void 0,n=t,l=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Ca(n.type,l);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(x){Cu(n,n.return,x)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))_d(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Di=e;break}Di=t.return}}(e,t)}finally{hc=a,L.p=l,M.T=r}}Fc=1,bu(),yu(),vu()}}function bu(){if(1===Fc){Fc=0;var e=zc,t=qc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=M.T,M.T=null;var r=L.p;L.p=2;var s=hc;hc|=4;try{Ji(t,e);var l=xd,o=lr(e.containerInfo),a=l.focusedElem,i=l.selectionRange;if(o!==a&&a&&a.ownerDocument&&sr(a.ownerDocument.documentElement,a)){if(null!==i&&or(a)){var c=i.start,u=i.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var f=p.getSelection(),m=a.textContent.length,h=Math.min(i.start,m),g=void 0===i.end?h:Math.min(i.end,m);!f.extend&&h>g&&(o=g,g=h,h=o);var x=rr(a,h),b=rr(a,g);if(x&&b&&(1!==f.rangeCount||f.anchorNode!==x.node||f.anchorOffset!==x.offset||f.focusNode!==b.node||f.focusOffset!==b.offset)){var y=d.createRange();y.setStart(x.node,x.offset),f.removeAllRanges(),h>g?(f.addRange(y),f.extend(b.node,b.offset)):(y.setEnd(b.node,b.offset),f.addRange(y))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof a.focus&&a.focus(),a=0;a<d.length;a++){var v=d[a];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}wp=!!gd,xd=gd=null}finally{hc=s,L.p=r,M.T=n}}e.current=t,Fc=2}}function yu(){if(2===Fc){Fc=0;var e=zc,t=qc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=M.T,M.T=null;var r=L.p;L.p=2;var s=hc;hc|=4;try{Mi(e,t.alternate,t)}finally{hc=s,L.p=r,M.T=n}}Fc=3}}function vu(){if(4===Fc||3===Fc){Fc=0,ce();var e=zc,t=qc,n=Gc,r=Bc;10256&t.subtreeFlags||10256&t.flags?Fc=5:(Fc=0,qc=zc=null,wu(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Uc=null),Fe(n),t=t.stateNode,ve&&"function"==typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,!(128&~t.current.flags))}catch(i){}if(null!==r){t=M.T,s=L.p,L.p=2,M.T=null;try{for(var l=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];l(a.value,{componentStack:a.stack})}}finally{M.T=t,L.p=s}}3&Gc&&Nu(),Lu(e),s=e.pendingLanes,261930&n&&42&s?e===Jc?$c++:($c=0,Jc=e):$c=0,Uu(0)}}function wu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Gs(t)))}function Nu(){return bu(),yu(),vu(),Su()}function Su(){if(5!==Fc)return!1;var e=zc,t=Hc;Hc=0;var n=Fe(Gc),r=M.T,l=L.p;try{L.p=32>n?32:n,M.T=null,n=Vc,Vc=null;var o=zc,a=Gc;if(Fc=0,qc=zc=null,Gc=0,6&hc)throw Error(s(331));var i=hc;if(hc|=4,uc(o.current),nc(o,o.current,a,n),hc=i,Uu(0,!1),ve&&"function"==typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,o)}catch(c){}return!0}finally{L.p=l,M.T=r,wu(e,t)}}function Eu(e,t,n){t=Kr(n,t),null!==(e=wl(e,t=_a(e.stateNode,t,2),2))&&(Re(e,2),Lu(e))}function Cu(e,t,n){if(3===e.tag)Eu(e,e,n);else for(;null!==t;){if(3===t.tag){Eu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Uc||!Uc.has(r))){e=Kr(n,e),null!==(r=wl(t,n=Oa(2),2))&&(Pa(n,r,t,e),Re(r,2),Lu(r));break}}t=t.return}}function ju(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new mc;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(Sc=!0,s.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gc===e&&(bc&n)===n&&(4===Cc||3===Cc&&(62914560&bc)===bc&&300>ue()-Rc?!(2&hc)&&ru(e,0):Ac|=n,Tc===bc&&(Tc=0)),Lu(e)}function Au(e,t){0===t&&(t=Oe()),null!==(e=Dr(e,t))&&(Re(e,t),Lu(e))}function Iu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Au(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,l=e.memoizedState;null!==l&&(n=l.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),Au(e,n)}var _u=null,Ou=null,Pu=!1,Ru=!1,Du=!1,Mu=0;function Lu(e){e!==Ou&&null===e.next&&(null===Ou?_u=Ou=e:Ou=Ou.next=e),Ru=!0,Pu||(Pu=!0,jd(function(){6&hc?oe(pe,Fu):zu()}))}function Uu(e,t){if(!Du&&Ru){Du=!0;do{for(var n=!1,r=_u;null!==r;){if(0!==e){var s=r.pendingLanes;if(0===s)var l=0;else{var o=r.suspendedLanes,a=r.pingedLanes;l=(1<<31-Ne(42|e)+1)-1,l=201326741&(l&=s&~(o&~a))?201326741&l|1:l?2|l:0}0!==l&&(n=!0,Hu(r,l))}else l=bc,!(3&(l=Ie(r,r===gc?l:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Te(r,l)||(n=!0,Hu(r,l));r=r.next}}while(n);Du=!1}}function Fu(){zu()}function zu(){Ru=Pu=!1;var e=0;0!==Mu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Nd&&(Nd=e,!0);return Nd=null,!1}()&&(e=Mu);for(var t=ue(),n=null,r=_u;null!==r;){var s=r.next,l=qu(r,t);0===l?(r.next=null,null===n?_u=s:n.next=s,null===s&&(Ou=n)):(n=r,(0!==e||3&l)&&(Ru=!0)),r=s}0!==Fc&&5!==Fc||Uu(e),0!==Mu&&(Mu=0)}function qu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=-62914561&e.pendingLanes;0<l;){var o=31-Ne(l),a=1<<o,i=s[o];-1===i?0!==(a&n)&&0===(a&r)||(s[o]=_e(a,t)):i<=t&&(e.expiredLanes|=a),l&=~a}if(n=bc,n=Ie(e,e===(t=gc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yc||9===yc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Te(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),Fe(n)){case 2:case 8:n=fe;break;case 32:default:n=me;break;case 268435456:n=ge}return r=Gu.bind(null,e),n=oe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function Gu(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Nu()&&e.callbackNode!==n)return null;var r=bc;return 0===(r=Ie(e,e===gc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xc(e,r,t),qu(e,ue()),null!=e.callbackNode&&e.callbackNode===n?Gu.bind(null,e):null)}function Hu(e,t){if(Nu())return null;Xc(e,t,!0)}function Vu(){if(0===Mu){var e=Bs;0===e&&(e=Ce,!(261888&(Ce<<=1))&&(Ce=256)),Mu=e}return Mu}function Bu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Pt(""+e)}function $u(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ju=0;Ju<jr.length;Ju++){var Wu=jr[Ju];kr(Wu.toLowerCase(),"on"+(Wu[0].toUpperCase()+Wu.slice(1)))}kr(br,"onAnimationEnd"),kr(yr,"onAnimationIteration"),kr(vr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(wr,"onTransitionRun"),kr(Nr,"onTransitionStart"),kr(Sr,"onTransitionCancel"),kr(Er,"onTransitionEnd"),ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"]),lt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lt("onBeforeInput",["compositionend","keypress","textInput","paste"]),lt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ku=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yu));function Xu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],i=a.instance,c=a.currentTarget;if(a=a.listener,i!==l&&s.isPropagationStopped())break e;l=a,s.currentTarget=c;try{l(s)}catch(u){Ar(u)}s.currentTarget=null,l=i}else for(o=0;o<r.length;o++){if(i=(a=r[o]).instance,c=a.currentTarget,a=a.listener,i!==l&&s.isPropagationStopped())break e;l=a,s.currentTarget=c;try{l(s)}catch(u){Ar(u)}s.currentTarget=null,l=i}}}}function Qu(e,t){var n=t[$e];void 0===n&&(n=t[$e]=new Set);var r=e+"__bubble";n.has(r)||(nd(t,e,2,!1),n.add(r))}function Zu(e,t,n){var r=0;t&&(r|=4),nd(n,e,r,t)}var ed="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[ed]){e[ed]=!0,rt.forEach(function(t){"selectionchange"!==t&&(Ku.has(t)||Zu(t,!1,e),Zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ed]||(t[ed]=!0,Zu("selectionchange",!1,t))}}function nd(e,t,n,r){switch(Ap(t)){case 2:var s=Np;break;case 8:s=Sp;break;default:s=Ep}n=s.bind(null,t,n,e),s=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function rd(e,t,n,r,s){var l=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var i=r.stateNode.containerInfo;if(i===s)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===s)return;o=o.return}for(;null!==i;){if(null===(o=Qe(i)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=l=o;continue e}i=i.parentNode}}r=r.return}qt(function(){var r=l,s=Mt(n),o=[];e:{var i=Cr.get(e);if(void 0!==i){var c=sn,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=dn;break;case"focusout":u="blur",c=dn;break;case"beforeblur":case"afterblur":c=dn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=un;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nn;break;case br:case yr:case vr:c=pn;break;case Er:c=Sn;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=En;break;case"copy":case"cut":case"paste":c=fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=wn;break;case"toggle":case"beforetoggle":c=Cn}var d=!!(4&t),p=!d&&("scroll"===e||"scrollend"===e),f=d?null!==i?i+"Capture":null:i;d=[];for(var m,h=r;null!==h;){var g=h;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===f||null!=(g=Gt(h,f))&&d.push(sd(h,g,m)),p)break;h=h.return}0<d.length&&(i=new c(i,u,null,n,s),o.push({event:i,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===Dt||!(u=n.relatedTarget||n.fromElement)||!Qe(u)&&!u[Be])&&(c||i)&&(i=s.window===s?s:(i=s.ownerDocument)?i.defaultView||i.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Qe(u):null)&&(p=a(u),d=u.tag,u!==p||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=cn,g="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=wn,g="onPointerLeave",f="onPointerEnter",h="pointer"),p=null==c?i:et(c),m=null==u?i:et(u),(i=new d(g,h+"leave",c,n,s)).target=p,i.relatedTarget=m,g=null,Qe(s)===r&&((d=new d(f,h+"enter",u,n,s)).target=m,d.relatedTarget=p,g=d),p=g,c&&u)e:{for(d=od,h=u,m=0,g=f=c;g;g=d(g))m++;g=0;for(var x=h;x;x=d(x))g++;for(;0<m-g;)f=d(f),m--;for(;0<g-m;)h=d(h),g--;for(;m--;){if(f===h||null!==h&&f===h.alternate){d=f;break e}f=d(f),h=d(h)}d=null}else d=null;null!==c&&ad(o,i,c,d,!1),null!==u&&null!==p&&ad(o,p,u,d,!0)}if("select"===(c=(i=r?et(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===c&&"file"===i.type)var b=Hn;else if(Ln(i))if(Vn)b=Zn;else{b=Xn;var y=Kn}else!(c=i.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?r&&Tt(r.elementType)&&(b=Hn):b=Qn;switch(b&&(b=b(e,r))?Un(o,b,n,s):(y&&y(e,i,r),"focusout"===e&&r&&"number"===i.type&&null!=r.memoizedProps.value&&Nt(i,"number",i.value)),y=r?et(r):window,e){case"focusin":(Ln(y)||"true"===y.contentEditable)&&(ir=y,cr=r,ur=null);break;case"focusout":ur=cr=ir=null;break;case"mousedown":dr=!0;break;case"contextmenu":case"mouseup":case"dragend":dr=!1,pr(o,n,s);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":pr(o,n,s)}var v;if(kn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Dn?Pn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Tn&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Dn&&(v=Yt()):(Jt="value"in($t=s)?$t.value:$t.textContent,Dn=!0)),0<(y=ld(r,w)).length&&(w=new mn(w,e,null,n,s),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=Rn(n))&&(w.data=v))),(v=In?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(On=!0,_n);case"textInput":return(e=t.data)===_n&&On?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!kn&&Pn(e,t)?(e=Yt(),Wt=Jt=$t=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=ld(r,"onBeforeInput")).length&&(y=new mn("onBeforeInput","beforeinput",null,n,s),o.push({event:y,listeners:w}),y.data=v)),function(e,t,n,r,s){if("submit"===t&&n&&n.stateNode===s){var l=Bu((s[Ve]||null).action),o=r.submitter;o&&null!==(t=(t=o[Ve]||null)?Bu(t.formAction):o.getAttribute("formAction"))&&(l=t,o=null);var a=new sn("action","action",null,r,s);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Mu){var e=o?$u(s,o):new FormData(s);ra(n,{pending:!0,data:e,method:s.method,action:l},null,e)}}else"function"==typeof l&&(a.preventDefault(),e=o?$u(s,o):new FormData(s),ra(n,{pending:!0,data:e,method:s.method,action:l},l,e))},currentTarget:s}]})}}(o,e,r,n,s)}Xu(o,t)})}function sd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ld(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,l=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===l||(null!=(s=Gt(e,n))&&r.unshift(sd(e,s,l)),null!=(s=Gt(e,t))&&r.push(sd(e,s,l))),3===e.tag)return r;e=e.return}return[]}function od(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ad(e,t,n,r,s){for(var l=t._reactName,o=[];null!==n&&n!==r;){var a=n,i=a.alternate,c=a.stateNode;if(a=a.tag,null!==i&&i===r)break;5!==a&&26!==a&&27!==a||null===c||(i=c,s?null!=(c=Gt(n,l))&&o.unshift(sd(n,c,i)):s||null!=(c=Gt(n,l))&&o.push(sd(n,c,i))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var id=/\r\n?/g,cd=/\u0000|\uFFFD/g;function ud(e){return("string"==typeof e?e:""+e).replace(id,"\n").replace(cd,"")}function dd(e,t){return t=ud(t),ud(e)===t}function pd(e,t,n,r,l,o){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||jt(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&jt(e,""+r);break;case"className":dt(e,"class",r);break;case"tabIndex":dt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":dt(e,n,r);break;case"style":It(e,r,o);break;case"data":if("object"!==t){dt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof o&&("formAction"===n?("input"!==t&&pd(e,t,"name",l.name,l,null),pd(e,t,"formEncType",l.formEncType,l,null),pd(e,t,"formMethod",l.formMethod,l,null),pd(e,t,"formTarget",l.formTarget,l,null)):(pd(e,t,"encType",l.encType,l,null),pd(e,t,"method",l.method,l,null),pd(e,t,"target",l.target,l,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=l.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Qu("beforetoggle",e),Qu("toggle",e),ut(e,"popover",r);break;case"xlinkActuate":pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":pt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":pt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":pt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":pt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ut(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ut(e,n=_t.get(n)||n,r)}}function fd(e,t,n,r,l,o){switch(n){case"style":It(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=l.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"==typeof r?jt(e,r):("number"==typeof r||"bigint"==typeof r)&&jt(e,""+r);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:st.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),"function"==typeof(o=null!=(o=e[Ve]||null)?o[n]:null)&&e.removeEventListener(t,o,l),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):ut(e,n,r):("function"!=typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,l)))}}function md(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qu("error",e),Qu("load",e);var r,l=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:pd(e,t,r,a,n,null)}}return o&&pd(e,t,"srcSet",n.srcSet,n,null),void(l&&pd(e,t,"src",n.src,n,null));case"input":Qu("invalid",e);var i=r=a=o=null,c=null,u=null;for(l in n)if(n.hasOwnProperty(l)){var d=n[l];if(null!=d)switch(l){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":i=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:pd(e,t,l,d,n,null)}}return void wt(e,r,i,c,u,a,o,!1);case"select":for(o in Qu("invalid",e),l=a=r=null,n)if(n.hasOwnProperty(o)&&null!=(i=n[o]))switch(o){case"value":r=i;break;case"defaultValue":a=i;break;case"multiple":l=i;default:pd(e,t,o,i,n,null)}return t=r,n=a,e.multiple=!!l,void(null!=t?St(e,!!l,t,!1):null!=n&&St(e,!!l,n,!0));case"textarea":for(a in Qu("invalid",e),r=o=l=null,n)if(n.hasOwnProperty(a)&&null!=(i=n[a]))switch(a){case"value":l=i;break;case"defaultValue":o=i;break;case"children":r=i;break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:pd(e,t,a,i,n,null)}return void Ct(e,l,o,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(l=n[c]))if("selected"===c)e.selected=l&&"function"!=typeof l&&"symbol"!=typeof l;else pd(e,t,c,l,n,null);return;case"dialog":Qu("beforetoggle",e),Qu("toggle",e),Qu("cancel",e),Qu("close",e);break;case"iframe":case"object":Qu("load",e);break;case"video":case"audio":for(l=0;l<Yu.length;l++)Qu(Yu[l],e);break;case"image":Qu("error",e),Qu("load",e);break;case"details":Qu("toggle",e);break;case"embed":case"source":case"link":Qu("error",e),Qu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(l=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:pd(e,t,u,l,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(l=n[d])&&fd(e,t,d,l,n,void 0));return}}for(i in n)n.hasOwnProperty(i)&&(null!=(l=n[i])&&pd(e,t,i,l,n,null))}function hd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gd=null,xd=null;function bd(e){return 9===e.nodeType?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Nd=null;var Sd="function"==typeof setTimeout?setTimeout:void 0,Ed="function"==typeof clearTimeout?clearTimeout:void 0,Cd="function"==typeof Promise?Promise:void 0,jd="function"==typeof queueMicrotask?queueMicrotask:void 0!==Cd?function(e){return Cd.resolve(null).then(e).catch(kd)}:Sd;function kd(e){setTimeout(function(){throw e})}function Ad(e){return"head"===e}function Id(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)||"/&"===n){if(0===r)return e.removeChild(s),void $p(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)zd(e.ownerDocument.documentElement);else if("head"===n){zd(n=e.ownerDocument.head);for(var l=n.firstChild;l;){var o=l.nextSibling,a=l.nodeName;l[Ke]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===l.rel.toLowerCase()||n.removeChild(l),l=o}}else"body"===n&&zd(e.ownerDocument.body);n=s}while(n);$p(t)}function Td(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function _d(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":_d(n),Xe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Od(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}function Pd(e){return"$?"===e.data||"$~"===e.data}function Rd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Dd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Md=null;function Ld(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Dd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Ud(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fd(e,t,n){switch(t=bd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function zd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xe(e)}var qd=new Map,Gd=new Set;function Hd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Vd=L.d;L.d={f:function(){var e=Vd.f(),t=tu();return e||t},r:function(e){var t=Ze(e);null!==t&&5===t.tag&&"form"===t.type?la(t):Vd.r(e)},D:function(e){Vd.D(e),$d("dns-prefetch",e,null)},C:function(e,t){Vd.C(e,t),$d("preconnect",e,t)},L:function(e,t,n){Vd.L(e,t,n);var r=Bd;if(r&&e&&t){var s='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(s+='[imagesizes="'+yt(n.imageSizes)+'"]')):s+='[href="'+yt(e)+'"]';var l=s;switch(t){case"style":l=Wd(e);break;case"script":l=Xd(e)}qd.has(l)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),qd.set(l,e),null!==r.querySelector(s)||"style"===t&&r.querySelector(Yd(l))||"script"===t&&r.querySelector(Qd(l))||(md(t=r.createElement("link"),"link",e),nt(t),r.head.appendChild(t)))}},m:function(e,t){Vd.m(e,t);var n=Bd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',l=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Xd(e)}if(!qd.has(l)&&(e=f({rel:"modulepreload",href:e},t),qd.set(l,e),null===n.querySelector(s))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qd(l)))return}md(r=n.createElement("link"),"link",e),nt(r),n.head.appendChild(r)}}},X:function(e,t){Vd.X(e,t);var n=Bd;if(n&&e){var r=tt(n).hoistableScripts,s=Xd(e),l=r.get(s);l||((l=n.querySelector(Qd(s)))||(e=f({src:e,async:!0},t),(t=qd.get(s))&&np(e,t),nt(l=n.createElement("script")),md(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},r.set(s,l))}},S:function(e,t,n){Vd.S(e,t,n);var r=Bd;if(r&&e){var s=tt(r).hoistableStyles,l=Wd(e);t=t||"default";var o=s.get(l);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Yd(l)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=qd.get(l))&&tp(e,n);var i=o=r.createElement("link");nt(i),md(i,"link",e),i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),i.addEventListener("load",function(){a.loading|=1}),i.addEventListener("error",function(){a.loading|=2}),a.loading|=4,ep(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},s.set(l,o)}}},M:function(e,t){Vd.M(e,t);var n=Bd;if(n&&e){var r=tt(n).hoistableScripts,s=Xd(e),l=r.get(s);l||((l=n.querySelector(Qd(s)))||(e=f({src:e,async:!0,type:"module"},t),(t=qd.get(s))&&np(e,t),nt(l=n.createElement("script")),md(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},r.set(s,l))}}};var Bd="undefined"==typeof document?null:document;function $d(e,t,n){var r=Bd;if(r&&"string"==typeof t&&t){var s=yt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"==typeof n&&(s+='[crossorigin="'+n+'"]'),Gd.has(s)||(Gd.add(s),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(s)&&(md(t=r.createElement("link"),"link",e),nt(t),r.head.appendChild(t)))}}function Jd(e,t,n,r){var l,o,a,i,c=(c=W.current)?Hd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Wd(n.href),(r=(n=tt(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Wd(n.href);var u=tt(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Yd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),qd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qd.set(e,n),u||(l=c,o=e,a=n,i=d.state,l.querySelector('link[rel="preload"][as="style"]['+o+"]")?i.loading=1:(o=l.createElement("link"),i.preload=o,o.addEventListener("load",function(){return i.loading|=1}),o.addEventListener("error",function(){return i.loading|=2}),md(o,"link",a),nt(o),l.head.appendChild(o))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Xd(n),(r=(n=tt(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Wd(e){return'href="'+yt(e)+'"'}function Yd(e){return'link[rel="stylesheet"]['+e+"]"}function Kd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Xd(e){return'[src="'+yt(e)+'"]'}function Qd(e){return"script[async]"+e}function Zd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,nt(r),r;var l=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return nt(r=(e.ownerDocument||e).createElement("style")),md(r,"style",l),ep(r,n.precedence,e),t.instance=r;case"stylesheet":l=Wd(n.href);var o=e.querySelector(Yd(l));if(o)return t.state.loading|=4,t.instance=o,nt(o),o;r=Kd(n),(l=qd.get(l))&&tp(r,l),nt(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),md(o,"link",r),t.state.loading|=4,ep(o,n.precedence,e),t.instance=o;case"script":return o=Xd(n.src),(l=e.querySelector(Qd(o)))?(t.instance=l,nt(l),l):(r=n,(l=qd.get(o))&&np(r=f({},n),l),nt(l=(e=e.ownerDocument||e).createElement("script")),md(l,"link",r),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,ep(r,n.precedence,e));return t.instance}function ep(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,l=s,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)l=a;else if(l!==s)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function tp(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function np(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var rp=null;function sp(e,t,n){if(null===rp){var r=new Map,s=rp=new Map;s.set(n,r)}else(r=(s=rp).get(n))||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var l=n[s];if(!(l[Ke]||l[He]||"link"===e&&"stylesheet"===l.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==l.namespaceURI){var o=l.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(l):r.set(o,[l])}}return r}function lp(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function op(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var ap=0;function ip(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)up(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var cp=null;function up(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,cp=new Map,t.forEach(dp,e),cp=null,ip.call(e))}function dp(e,t){if(!(4&t.state.loading)){var n=cp.get(e);if(n)var r=n.get(null);else{n=new Map,cp.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<s.length;l++){var o=s[l];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(s=t.instance).getAttribute("data-precedence"),(l=n.get(o)||r)===r&&n.set(null,s),n.set(o,s),this.count++,r=ip.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),l?l.parentNode.insertBefore(s,l.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var pp={$$typeof:S,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function fp(e,t,n,r,s,l,o,a,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=l,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function mp(e,t,n,r,s,l,o,a,i,c,u,d){return e=new fp(e,t,n,o,i,c,u,d,a),t=1,!0===l&&(t|=24),l=zr(3,null,null,t),e.current=l,l.stateNode=e,(t=qs()).refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:r,isDehydrated:n,cache:t},bl(l),e}function hp(e){return e?e=Ur:Ur}function gp(e,t,n,r,s,l){s=hp(s),null===r.context?r.context=s:r.pendingContext=s,(r=vl(t)).payload={element:n},null!==(l=void 0===l?null:l)&&(r.callback=l),null!==(n=wl(e,r,t))&&(Kc(n,0,t),Nl(n,e,t))}function xp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function bp(e,t){xp(e,t),(e=e.alternate)&&xp(e,t)}function yp(e){if(13===e.tag||31===e.tag){var t=Dr(e,67108864);null!==t&&Kc(t,0,67108864),bp(e,67108864)}}function vp(e){if(13===e.tag||31===e.tag){var t=Wc(),n=Dr(e,t=Ue(t));null!==n&&Kc(n,0,t),bp(e,t)}}var wp=!0;function Np(e,t,n,r){var s=M.T;M.T=null;var l=L.p;try{L.p=2,Ep(e,t,n,r)}finally{L.p=l,M.T=s}}function Sp(e,t,n,r){var s=M.T;M.T=null;var l=L.p;try{L.p=8,Ep(e,t,n,r)}finally{L.p=l,M.T=s}}function Ep(e,t,n,r){if(wp){var s=Cp(r);if(null===s)rd(e,t,r,jp,n),Lp(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Tp=Up(Tp,e,t,n,r,s),!0;case"dragenter":return _p=Up(_p,e,t,n,r,s),!0;case"mouseover":return Op=Up(Op,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return Pp.set(l,Up(Pp.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,Rp.set(l,Up(Rp.get(l)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Lp(e,r),4&t&&-1<Mp.indexOf(e)){for(;null!==s;){var l=Ze(s);if(null!==l)switch(l.tag){case 3:if((l=l.stateNode).current.memoizedState.isDehydrated){var o=Ae(l.pendingLanes);if(0!==o){var a=l;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var i=1<<31-Ne(o);a.entanglements[1]|=i,o&=~i}Lu(l),!(6&hc)&&(Mc=ue()+500,Uu(0))}}break;case 31:case 13:null!==(a=Dr(l,2))&&Kc(a,0,2),tu(),bp(l,2)}if(null===(l=Cp(r))&&rd(e,t,r,jp,n),l===s)break;s=l}null!==s&&r.stopPropagation()}else rd(e,t,r,null,n)}}function Cp(e){return kp(e=Mt(e))}var jp=null;function kp(e){if(jp=null,null!==(e=Qe(e))){var t=a(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=i(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return jp=e,null}function Ap(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case pe:return 2;case fe:return 8;case me:case he:return 32;case ge:return 268435456;default:return 32}default:return 32}}var Ip=!1,Tp=null,_p=null,Op=null,Pp=new Map,Rp=new Map,Dp=[],Mp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lp(e,t){switch(e){case"focusin":case"focusout":Tp=null;break;case"dragenter":case"dragleave":_p=null;break;case"mouseover":case"mouseout":Op=null;break;case"pointerover":case"pointerout":Pp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rp.delete(t.pointerId)}}function Up(e,t,n,r,s,l){return null===e||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},null!==t&&(null!==(t=Ze(t))&&yp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Fp(e){var t=Qe(e.target);if(null!==t){var n=a(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=i(n)))return e.blockedOn=t,void qe(e.priority,function(){vp(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void qe(e.priority,function(){vp(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cp(e.nativeEvent);if(null!==n)return null!==(t=Ze(n))&&yp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Dt=r,n.target.dispatchEvent(r),Dt=null,t.shift()}return!0}function qp(e,t,n){zp(e)&&n.delete(t)}function Gp(){Ip=!1,null!==Tp&&zp(Tp)&&(Tp=null),null!==_p&&zp(_p)&&(_p=null),null!==Op&&zp(Op)&&(Op=null),Pp.forEach(qp),Rp.forEach(qp)}function Hp(e,n){e.blockedOn===n&&(e.blockedOn=null,Ip||(Ip=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Gp)))}var Vp=null;function Bp(e){Vp!==e&&(Vp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vp===e&&(Vp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if("function"!=typeof r){if(null===kp(r||n))continue;break}var l=Ze(n);null!==l&&(e.splice(t,3),t-=3,ra(l,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function $p(e){function t(t){return Hp(t,e)}null!==Tp&&Hp(Tp,e),null!==_p&&Hp(_p,e),null!==Op&&Hp(Op,e),Pp.forEach(t),Rp.forEach(t);for(var n=0;n<Dp.length;n++){var r=Dp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Dp.length&&null===(n=Dp[0]).blockedOn;)Fp(n),null===n.blockedOn&&Dp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var s=n[r],l=n[r+1],o=s[Ve]||null;if("function"==typeof l)o||Bp(n);else if(o){var a=null;if(l&&l.hasAttribute("formAction")){if(s=l,o=l[Ve]||null)a=o.formAction;else if(null!==kp(s))continue}else a=o.action;"function"==typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Bp(n)}}}function Jp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return s=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==s&&(s(),s=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==s&&(s(),s=null)}}}function Wp(e){this._internalRoot=e}function Yp(e){this._internalRoot=e}Yp.prototype.render=Wp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));gp(t.current,Wc(),e,t,null,null)},Yp.prototype.unmount=Wp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gp(e.current,2,null,e,null,null),tu(),t[Be]=null}},Yp.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dp.length&&0!==t&&t<Dp[n].priority;n++);Dp.splice(n,0,e),0===n&&Fp(e)}};var Kp=n.version;if("19.2.3"!==Kp)throw Error(s(527,Kp,"19.2.3"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=a(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(null===l)break;var o=l.alternate;if(null===o){if(null!==(r=l.return)){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return u(l),e;if(o===r)return u(l),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=l,r=o;else{for(var i=!1,c=l.child;c;){if(c===n){i=!0,n=l,r=o;break}if(c===r){i=!0,r=l,n=o;break}c=c.sibling}if(!i){for(c=o.child;c;){if(c===n){i=!0,n=o,r=l;break}if(c===r){i=!0,r=o,n=l;break}c=c.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Xp={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qp.isDisabled&&Qp.supportsFiber)try{ye=Qp.inject(Xp),ve=Qp}catch(ef){}}return g.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",l=ja,a=ka,i=Aa;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(l=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=mp(e,1,!1,null,0,n,r,null,l,a,i,Jp),e[Be]=t.current,td(e),new Wp(t)},g.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,l="",a=ja,i=ka,c=Aa,u=null;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(i=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=mp(e,1,!0,t,0,r,l,u,a,i,c,Jp)).context=hp(null),n=t.current,(l=vl(r=Ue(r=Wc()))).callback=null,wl(n,l,r),n=r,t.current.lanes=n,Re(t,n),Lu(t),e[Be]=t.current,td(e),new Yp(t)},g.version="19.2.3",g}const w=t((f||(f=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),h.exports=v()),h.exports)),N=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},S=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),E=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};
/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var C={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=n.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:l="",children:o,iconNode:a,...i},c)=>n.createElement("svg",{ref:c,...C,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:S("lucide",l),...!o&&!E(i)&&{"aria-hidden":"true"},...i},[...a.map(([e,t])=>n.createElement(e,t)),...Array.isArray(o)?o:[o]])),k=(e,t)=>{const r=n.forwardRef(({className:r,...s},l)=>{return n.createElement(j,{ref:l,iconNode:t,className:S(`lucide-${o=N(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...s});var o});return r.displayName=N(e),r},A=k("beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]),I=k("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]),T=k("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),_=k("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),O=k("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),P=k("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),R=k("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),D=k("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),M=k("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),L=k("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),U=k("circle-stop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]),F=k("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),z=k("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),q=k("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),G=k("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),H=k("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),V=k("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),B=k("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),$=k("keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]),J=k("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),W=k("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Y=k("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),K=k("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),X=k("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Q=k("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Z=k("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ee=k("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),te=k("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ne=k("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),re=k("scan-line",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]),se=k("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),le=k("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),oe=k("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]),ae=k("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ie=k("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),ce=k("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),ue=k("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),de=k("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),pe=k("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),fe=k("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);
/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var me=(e=>(e.IDLE="IDLE",e.SCANNING="SCANNING",e.SENDING_OBLIO="SENDING_OBLIO",e.SUCCESS="SUCCESS",e.WARNING="WARNING",e.ERROR="ERROR",e))(me||{});const he=({onScan:e,onClose:t,allowDuplicates:s=!1,duplicateDelayMs:l=1200,children:o})=>{const[a,i]=n.useState(!1),[c,u]=n.useState(null),[d,p]=n.useState(""),[f,h]=n.useState(0),{ref:g}=r({onDecodeResult(t){const n=t.getText(),r=t.getBarcodeFormat();if(console.log("Scanner detected code:",n,"format:",r,"length:",null==n?void 0:n.length),n&&n.trim()){const t=n.trim();console.log("Trimmed code:",t,"matches last:",t===d);const o=t.length>=8&&t.length<=18,a=/^\d+$/.test(t),i=13===t.length&&a,c=8===t.length&&a,u=12===t.length&&a,m=i||c||u||o&&a;console.log("Code validation:",{code:t,length:t.length,isNumeric:a,isEAN13:i,isEAN8:c,isUPCA:u,isValidFormat:m,format:r});const g=Date.now(),x=t===d;m&&(!x||s&&!(x&&g-f<l))?(p(t),h(g),console.log("Calling onScan with:",t),e(t)):x?console.log("Skipping duplicate scan"):console.log("Skipping invalid code - length:",t.length,"isNumeric:",a,"format:",r)}else console.log("Empty or invalid code detected")},onError(e){console.error("Scanner error:",e),u((null==e?void 0:e.message)||"Eroare la scanare")},constraints:{video:{facingMode:"environment",width:{ideal:1920,min:1280},height:{ideal:1080,min:720},focusMode:"continuous",exposureMode:"continuous"}},timeBetweenDecodingAttempts:300});return m.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col items-center justify-center",children:[m.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-between items-center z-10 bg-gradient-to-b from-black/70 to-transparent",children:[m.jsx("h2",{className:"text-white font-semibold",children:"Scanare Cod de Bare"}),m.jsx("button",{onClick:t,className:"bg-white/20 p-2 rounded-full backdrop-blur-sm active:bg-white/30",children:m.jsx(fe,{className:"w-6 h-6 text-white"})})]}),m.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-black",children:[c?m.jsxs("div",{className:"text-white text-center p-6",children:[m.jsx("p",{className:"text-red-400 mb-2",children:"Eroare camer"}),m.jsx("p",{className:"text-sm text-gray-400",children:c})]}):m.jsx("video",{ref:g,className:"w-full h-full object-cover",autoPlay:!0,playsInline:!0,muted:!0}),m.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:m.jsx("div",{className:"w-64 h-48 border-2 border-emerald-500/70 rounded-lg relative bg-transparent shadow-[0_0_0_9999px_rgba(0,0,0,0.5)]",children:m.jsx("div",{className:"absolute top-2 left-0 right-0 flex justify-center",children:m.jsx("span",{className:"text-emerald-400 text-xs bg-black/60 px-2 py-1 rounded",children:"ncadreaz codul"})})})})]}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 md:p-8 flex flex-col gap-4 items-center bg-gradient-to-t from-black/90 to-transparent z-20",children:o})]})},ge={email:"VALLLLMIH@GMAIL.COM",apiSecret:"2d0b545eb566a056355fc3bb2fbb1817a3daaeee",cif:"28360867",seriesName:"CFB",workStation:"Sediu"},xe=({config:e,onSave:t,onClose:r})=>{const[s,l]=n.useState(!1),[o,a]=n.useState(e),i=e=>{const{name:t,value:n}=e.target;a(e=>({...e,[t]:n}))};return m.jsxs("div",{className:"p-6 bg-slate-800 rounded-lg shadow-xl border border-slate-700 max-w-md w-full mx-auto",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-6 text-emerald-400",children:[m.jsx(W,{className:"w-6 h-6"}),m.jsx("h2",{className:"text-xl font-bold text-white",children:"Configurare Oblio"})]}),m.jsxs("div",{className:"mb-4 p-3 bg-blue-900/30 border border-blue-800 rounded text-sm text-blue-200 flex gap-2",children:[m.jsx(M,{className:"w-5 h-5 shrink-0"}),m.jsxs("p",{children:["Introducei datele din contul dvs. Oblio (Setri ",">"," API) pentru a permite trimiterea facturilor."]})]}),m.jsxs("div",{className:"mb-4 p-3 bg-slate-900 border border-slate-700 rounded-lg",children:[m.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[m.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Folosete date salvate"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"checkbox",checked:s,onChange:t=>{return n=t.target.checked,l(n),void a(n?ge:e);var n},className:"sr-only"}),m.jsx("div",{className:"w-11 h-6 rounded-full transition-colors duration-200 "+(s?"bg-emerald-600":"bg-slate-600"),children:m.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-200 ${s?"translate-x-5":"translate-x-0.5"} mt-0.5`})})]})]}),s&&m.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Se vor folosi datele salvate pentru conectare."})]}),m.jsxs("form",{onSubmit:e=>{e.preventDefault(),t(o),r()},className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Email Cont Oblio"}),m.jsx("input",{type:"email",name:"email",value:o.email,onChange:i,className:"w-full bg-slate-900 border border-slate-700 text-white rounded p-3 focus:ring-2 focus:ring-emerald-500 focus:outline-none",placeholder:"email@companie.ro",disabled:s,required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"API Secret / Token"}),m.jsx("input",{type:"password",name:"apiSecret",value:o.apiSecret,onChange:i,className:"w-full bg-slate-900 border border-slate-700 text-white rounded p-3 focus:ring-2 focus:ring-emerald-500 focus:outline-none",placeholder:"Token-ul API din Oblio",disabled:s,required:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"CIF Companie"}),m.jsx("input",{type:"text",name:"cif",value:o.cif,onChange:i,className:"w-full bg-slate-900 border border-slate-700 text-white rounded p-3 focus:ring-2 focus:ring-emerald-500 focus:outline-none",placeholder:"RO123456",disabled:s,required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Serie Facturi"}),m.jsx("input",{type:"text",name:"seriesName",value:o.seriesName,onChange:i,className:"w-full bg-slate-900 border border-slate-700 text-white rounded p-3 focus:ring-2 focus:ring-emerald-500 focus:outline-none",placeholder:"Ex: XYZ",disabled:s})]})]}),m.jsx("div",{}),m.jsxs("div",{className:"pt-4 flex gap-3",children:[m.jsx("button",{type:"button",onClick:r,className:"flex-1 py-3 px-4 bg-slate-700 text-white rounded font-medium hover:bg-slate-600 transition-colors",children:"Anuleaz"}),m.jsxs("button",{type:"submit",className:"flex-1 py-3 px-4 bg-emerald-600 text-white rounded font-medium hover:bg-emerald-500 transition-colors flex items-center justify-center gap-2",children:[m.jsx(ne,{className:"w-4 h-4"}),"Salveaz"]})]})]})]})},be=({inventory:e,onClose:t,onAddToCart:r})=>{const[s,l]=n.useState(""),[o,a]=n.useState({}),i=e.filter(e=>{var t,n;return e.name.toLowerCase().includes(s.toLowerCase())||(null==(t=e.code)?void 0:t.includes(s))||(null==(n=e.productCode)?void 0:n.includes(s))}),c=e=>o[e]||1;return m.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-lg max-h-[80vh] flex flex-col shadow-2xl",children:[m.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between items-center bg-slate-900 rounded-t-xl sticky top-0 z-10",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(X,{className:"w-5 h-5 text-emerald-400"}),m.jsx("h2",{className:"text-lg font-bold text-white",children:"Inventar Oblio"}),m.jsx("span",{className:"text-xs bg-slate-800 text-slate-400 px-2 py-0.5 rounded-full border border-slate-700",children:e.length})]}),m.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white transition-colors",children:m.jsx(fe,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"p-4 pb-2 bg-slate-900",children:m.jsxs("div",{className:"relative",children:[m.jsx(se,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),m.jsx("input",{type:"text",placeholder:"Caut dup nume sau cod...",value:s,onChange:e=>l(e.target.value),className:"w-full bg-slate-950 border border-slate-800 rounded-lg pl-9 pr-4 py-3 text-sm text-white focus:outline-none focus:border-emerald-500/50 transition-colors"})]})}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar bg-slate-900 rounded-b-xl",children:0===i.length?m.jsxs("div",{className:"text-center py-12 text-slate-500 text-sm flex flex-col items-center gap-2",children:[m.jsx(se,{className:"w-8 h-8 opacity-20"}),m.jsx("p",{children:"Nu s-au gsit produse."})]}):i.map((e,t)=>{const n=e.code||e.productCode||`idx_${t}`;return m.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-lg border border-slate-800 hover:border-slate-700 transition-colors flex justify-between items-center group",children:[m.jsxs("div",{className:"flex-1 pr-4",children:[m.jsx("div",{className:"font-medium text-slate-200 text-sm leading-tight mb-1",children:e.name}),m.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.productCode&&""!==e.productCode.trim()&&m.jsxs(m.Fragment,{children:[m.jsxs("span",{className:"text-[10px] bg-emerald-900/30 text-emerald-300 px-1.5 py-0.5 rounded font-mono border border-emerald-700/50",children:["EAN: ",e.productCode]}),e.code&&""!==e.code.trim()&&e.code!==e.productCode&&m.jsx("span",{className:"text-xs text-slate-500",children:"|"})]}),e.code&&""!==e.code.trim()&&e.code!==e.productCode&&m.jsxs("span",{className:"text-[10px] bg-slate-900 text-slate-400 px-1.5 py-0.5 rounded font-mono border border-slate-800",children:["CPV: ",e.code]}),e.productCode&&""!==e.productCode.trim()||e.code&&""!==e.code.trim()&&e.code!==e.productCode?m.jsx("span",{className:"text-xs text-slate-500",children:"|"}):null,m.jsx("span",{className:"text-xs text-slate-400",children:e.measuringUnit})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex flex-col items-end gap-1 min-w-[80px]",children:[m.jsx("div",{className:"text-[10px] font-bold px-2 py-0.5 rounded uppercase tracking-wider border "+(e.stock>0?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-red-500/10 text-red-400 border-red-500/20"),children:e.stock>0?`${e.stock} STOC`:"STOC 0"}),m.jsxs("div",{className:"text-sm font-semibold text-white",children:[e.price," ",m.jsx("span",{className:"text-[10px] text-slate-400 font-normal",children:"RON"})]})]}),m.jsxs("div",{className:"flex items-center gap-2 pl-3 border-l border-slate-700/50",children:[m.jsx("input",{type:"number",min:"1",value:c(n),onChange:e=>{return t=n,r=parseFloat(e.target.value)||1,void a(e=>({...e,[t]:Math.max(1,r)}));var t,r},disabled:e.stock<=0,className:"w-12 bg-slate-950 border border-slate-700 rounded-md py-1 px-1 text-center text-sm text-white focus:ring-1 focus:ring-emerald-500 outline-none "+(e.stock<=0?"opacity-50 cursor-not-allowed":"")}),m.jsx("button",{onClick:()=>r(e,c(n)),disabled:e.stock<=0,className:"p-1.5 rounded-lg transition-colors shadow-lg flex items-center justify-center "+(e.stock<=0?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-500 text-white shadow-emerald-500/10"),title:e.stock<=0?"Stoc epuizat":"Adaug n co",children:m.jsx(X,{className:"w-4 h-4"})})]})]})]},t)})})]})})},ye="./api.php",ve=async e=>{if(console.log("Fetching inventory from Oblio via PHP backend..."),!e.email||!e.apiSecret||!e.cif)throw new Error("Credeniale Oblio lips (Email, Secret, CIF).");const t=encodeURIComponent(e.cif.trim()),n=encodeURIComponent(e.email.trim()),r=encodeURIComponent(e.apiSecret.trim()),s=`${ye}?action=products&email=${n}&apiSecret=${r}&cif=${t}`;try{const t=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json"}}),n=await t.json();if(!n.success)throw new Error(n.error||"Eroare la obinerea produselor din Oblio.");if(!n.data||!Array.isArray(n.data))return console.warn("Unexpected API response format:",n),[];n.data.length>0&&(console.log("Toate produsele primite de la server (Raw):",n.data),console.log("Se filtreaza dupa Gestiunea:",e.workStation));return n.data.reduce((t,n)=>{if(e.workStation&&n.raw_stock&&Array.isArray(n.raw_stock)){const r=n.raw_stock.find(t=>t.management===e.workStation||t.workStation===e.workStation);r&&t.push({...n,stock:parseFloat(r.quantity||0),price:parseFloat(r.price||n.price),currency:r.currency||n.currency})}else t.push(n);return t},[])}catch(l){if(console.error("Oblio API Fetch Error:",l),l.message.includes("Failed to fetch"))throw new Error("Eroare Conexiune. Verificai c backend-ul PHP este accesibil.");throw l}},we=async e=>await(async(e,t)=>{if(!e.email||!e.apiSecret||!e.cif)return console.warn("Credentials missing for nomenclature fetch"),[];const n=encodeURIComponent(e.cif.trim()),r=encodeURIComponent(e.email.trim()),s=encodeURIComponent(e.apiSecret.trim()),l=encodeURIComponent(t),o=`${ye}?action=nomenclature&email=${r}&apiSecret=${s}&cif=${n}&type=${l}`;try{const e=await fetch(o),n=await e.json();return n.success?n.data||[]:(console.warn(`Failed to fetch nomenclature ${t}:`,n.error),[])}catch(a){return console.error(`Error fetching nomenclature ${t}:`,a),[]}})(e,"management");var Ne={};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Se,Ee;function Ce(e,t,n,r){var s,l;if(!(null==e?void 0:e.baseUrl)){const e={geminiUrl:Se,vertexUrl:Ee};return t?null!==(s=e.vertexUrl)&&void 0!==s?s:n:null!==(l=e.geminiUrl)&&void 0!==l?l:r}return e.baseUrl}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class je{}function ke(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return null!=e?String(e):""}throw new Error(`Key '${n}' not found in valueMap.`)})}function Ae(e,t,n){for(let l=0;l<t.length-1;l++){const r=t[l];if(r.endsWith("[]")){const s=r.slice(0,-2);if(!(s in e)){if(!Array.isArray(n))throw new Error(`Value must be a list given an array path ${r}`);e[s]=Array.from({length:n.length},()=>({}))}if(Array.isArray(e[s])){const r=e[s];if(Array.isArray(n))for(let e=0;e<r.length;e++){Ae(r[e],t.slice(l+1),n[e])}else for(const e of r)Ae(e,t.slice(l+1),n)}return}if(r.endsWith("[0]")){const s=r.slice(0,-3);s in e||(e[s]=[{}]);return void Ae(e[s][0],t.slice(l+1),n)}e[r]&&"object"==typeof e[r]||(e[r]={}),e=e[r]}const r=t[t.length-1],s=e[r];if(void 0!==s){if(!n||"object"==typeof n&&0===Object.keys(n).length)return;if(n===s)return;if("object"!=typeof s||"object"!=typeof n||null===s||null===n)throw new Error(`Cannot set value for an existing key. Key: ${r}`);Object.assign(s,n)}else if("_self"!==r||"object"!=typeof n||null===n||Array.isArray(n))e[r]=n;else{const t=n;Object.assign(e,t)}}function Ie(e,t,n=void 0){try{if(1===t.length&&"_self"===t[0])return e;for(let r=0;r<t.length;r++){if("object"!=typeof e||null===e)return n;const s=t[r];if(s.endsWith("[]")){const l=s.slice(0,-2);if(l in e){const s=e[l];return Array.isArray(s)?s.map(e=>Ie(e,t.slice(r+1),n)):n}return n}e=e[s]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function Te(e,t,n,r,s){if(r>=t.length)return;if("object"!=typeof e||null===e)return;const l=t[r];if(l.endsWith("[]")){const o=l.slice(0,-2),a=e;if(o in a&&Array.isArray(a[o]))for(const e of a[o])Te(e,t,n,r+1,s)}else if("*"===l){if("object"==typeof e&&null!==e&&!Array.isArray(e)){const t=e,l=Object.keys(t).filter(e=>!e.startsWith("_")&&!s.has(e)),o={};for(const e of l)o[e]=t[e];for(const[e,s]of Object.entries(o)){const l=[];for(const t of n.slice(r))"*"===t?l.push(e):l.push(t);Ae(t,l,s)}for(const e of l)delete t[e]}}else{l in e&&Te(e[l],t,n,r+1,s)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _e(e){if("string"!=typeof e)throw new Error("fromImageBytes must be a string");return e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oe(e){const t={},n=Ie(e,["name"]);null!=n&&Ae(t,["name"],n);const r=Ie(e,["metadata"]);null!=r&&Ae(t,["metadata"],r);const s=Ie(e,["done"]);null!=s&&Ae(t,["done"],s);const l=Ie(e,["error"]);null!=l&&Ae(t,["error"],l);const o=Ie(e,["response","generateVideoResponse"]);return null!=o&&Ae(t,["response"],function(e){const t={},n=Ie(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["video"]);null!=n&&Ae(t,["video"],function(e){const t={},n=Ie(e,["uri"]);null!=n&&Ae(t,["uri"],n);const r=Ie(e,["encodedVideo"]);null!=r&&Ae(t,["videoBytes"],_e(r));const s=Ie(e,["encoding"]);null!=s&&Ae(t,["mimeType"],s);return t}(n));return t}(e))),Ae(t,["generatedVideos"],e)}const r=Ie(e,["raiMediaFilteredCount"]);null!=r&&Ae(t,["raiMediaFilteredCount"],r);const s=Ie(e,["raiMediaFilteredReasons"]);null!=s&&Ae(t,["raiMediaFilteredReasons"],s);return t}(o)),t}function Pe(e){const t={},n=Ie(e,["name"]);null!=n&&Ae(t,["name"],n);const r=Ie(e,["metadata"]);null!=r&&Ae(t,["metadata"],r);const s=Ie(e,["done"]);null!=s&&Ae(t,["done"],s);const l=Ie(e,["error"]);null!=l&&Ae(t,["error"],l);const o=Ie(e,["response"]);return null!=o&&Ae(t,["response"],function(e){const t={},n=Ie(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["_self"]);null!=n&&Ae(t,["video"],function(e){const t={},n=Ie(e,["gcsUri"]);null!=n&&Ae(t,["uri"],n);const r=Ie(e,["bytesBase64Encoded"]);null!=r&&Ae(t,["videoBytes"],_e(r));const s=Ie(e,["mimeType"]);null!=s&&Ae(t,["mimeType"],s);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(n));return t}(e))),Ae(t,["generatedVideos"],e)}const r=Ie(e,["raiMediaFilteredCount"]);null!=r&&Ae(t,["raiMediaFilteredCount"],r);const s=Ie(e,["raiMediaFilteredReasons"]);null!=s&&Ae(t,["raiMediaFilteredReasons"],s);return t}(o)),t}function Re(e){const t={},n=Ie(e,["name"]);null!=n&&Ae(t,["name"],n);const r=Ie(e,["metadata"]);null!=r&&Ae(t,["metadata"],r);const s=Ie(e,["done"]);null!=s&&Ae(t,["done"],s);const l=Ie(e,["error"]);null!=l&&Ae(t,["error"],l);const o=Ie(e,["response"]);return null!=o&&Ae(t,["response"],function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["parent"]);null!=r&&Ae(t,["parent"],r);const s=Ie(e,["documentName"]);null!=s&&Ae(t,["documentName"],s);return t}(o)),t}function De(e){const t={},n=Ie(e,["name"]);null!=n&&Ae(t,["name"],n);const r=Ie(e,["metadata"]);null!=r&&Ae(t,["metadata"],r);const s=Ie(e,["done"]);null!=s&&Ae(t,["done"],s);const l=Ie(e,["error"]);null!=l&&Ae(t,["error"],l);const o=Ie(e,["response"]);return null!=o&&Ae(t,["response"],function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["parent"]);null!=r&&Ae(t,["parent"],r);const s=Ie(e,["documentName"]);null!=s&&Ae(t,["documentName"],s);return t}(o)),t}var Me,Le,Ue,Fe,ze,qe,Ge,He,Ve,Be,$e,Je,We,Ye,Ke,Xe,Qe,Ze,et,tt,nt,rt,st,lt,ot,at,it,ct,ut,dt,pt,ft,mt,ht,gt,xt,bt,yt,vt,wt,Nt,St,Et,Ct,jt,kt,At,It,Tt,_t,Ot,Pt,Rt,Dt,Mt,Lt,Ut,Ft,zt,qt,Gt,Ht,Vt,Bt,$t,Jt,Wt,Yt,Kt,Xt,Qt,Zt,en,tn,nn,rn,sn,ln,on,an,cn,un,dn,pn,fn,mn,hn,gn,xn,bn,yn,vn,wn,Nn,Sn,En,Cn,jn,kn,An,In,Tn,_n,On,Pn,Rn,Dn,Mn,Ln,Un,Fn,zn,qn,Gn,Hn;(Le=Me||(Me={})).OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",Le.OUTCOME_OK="OUTCOME_OK",Le.OUTCOME_FAILED="OUTCOME_FAILED",Le.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED",(Fe=Ue||(Ue={})).LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",Fe.PYTHON="PYTHON",(qe=ze||(ze={})).SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",qe.SILENT="SILENT",qe.WHEN_IDLE="WHEN_IDLE",qe.INTERRUPT="INTERRUPT",(He=Ge||(Ge={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",He.STRING="STRING",He.NUMBER="NUMBER",He.INTEGER="INTEGER",He.BOOLEAN="BOOLEAN",He.ARRAY="ARRAY",He.OBJECT="OBJECT",He.NULL="NULL",(Be=Ve||(Ve={})).API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",Be.SIMPLE_SEARCH="SIMPLE_SEARCH",Be.ELASTIC_SEARCH="ELASTIC_SEARCH",(Je=$e||($e={})).AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",Je.NO_AUTH="NO_AUTH",Je.API_KEY_AUTH="API_KEY_AUTH",Je.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",Je.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",Je.OAUTH="OAUTH",Je.OIDC_AUTH="OIDC_AUTH",(Ye=We||(We={})).HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",Ye.HTTP_IN_QUERY="HTTP_IN_QUERY",Ye.HTTP_IN_HEADER="HTTP_IN_HEADER",Ye.HTTP_IN_PATH="HTTP_IN_PATH",Ye.HTTP_IN_BODY="HTTP_IN_BODY",Ye.HTTP_IN_COOKIE="HTTP_IN_COOKIE",(Xe=Ke||(Ke={})).PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",Xe.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",Xe.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",Xe.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",Xe.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",Xe.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",Xe.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH",(Ze=Qe||(Qe={})).UNSPECIFIED="UNSPECIFIED",Ze.BLOCKING="BLOCKING",Ze.NON_BLOCKING="NON_BLOCKING",(tt=et||(et={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",tt.MODE_DYNAMIC="MODE_DYNAMIC",(rt=nt||(nt={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",rt.AUTO="AUTO",rt.ANY="ANY",rt.NONE="NONE",rt.VALIDATED="VALIDATED",(lt=st||(st={})).THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",lt.LOW="LOW",lt.MEDIUM="MEDIUM",lt.HIGH="HIGH",lt.MINIMAL="MINIMAL",(at=ot||(ot={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",at.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",at.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",at.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",at.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",at.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",at.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",at.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",at.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",at.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",at.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK",(ct=it||(it={})).HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",ct.SEVERITY="SEVERITY",ct.PROBABILITY="PROBABILITY",(dt=ut||(ut={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",dt.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",dt.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",dt.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",dt.BLOCK_NONE="BLOCK_NONE",dt.OFF="OFF",(ft=pt||(pt={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",ft.STOP="STOP",ft.MAX_TOKENS="MAX_TOKENS",ft.SAFETY="SAFETY",ft.RECITATION="RECITATION",ft.LANGUAGE="LANGUAGE",ft.OTHER="OTHER",ft.BLOCKLIST="BLOCKLIST",ft.PROHIBITED_CONTENT="PROHIBITED_CONTENT",ft.SPII="SPII",ft.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",ft.IMAGE_SAFETY="IMAGE_SAFETY",ft.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",ft.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",ft.NO_IMAGE="NO_IMAGE",ft.IMAGE_RECITATION="IMAGE_RECITATION",ft.IMAGE_OTHER="IMAGE_OTHER",(ht=mt||(mt={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",ht.NEGLIGIBLE="NEGLIGIBLE",ht.LOW="LOW",ht.MEDIUM="MEDIUM",ht.HIGH="HIGH",(xt=gt||(gt={})).HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",xt.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",xt.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",xt.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",xt.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH",(yt=bt||(bt={})).URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",yt.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",yt.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",yt.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",yt.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE",(wt=vt||(vt={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",wt.SAFETY="SAFETY",wt.OTHER="OTHER",wt.BLOCKLIST="BLOCKLIST",wt.PROHIBITED_CONTENT="PROHIBITED_CONTENT",wt.IMAGE_SAFETY="IMAGE_SAFETY",wt.MODEL_ARMOR="MODEL_ARMOR",wt.JAILBREAK="JAILBREAK",(St=Nt||(Nt={})).TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",St.ON_DEMAND="ON_DEMAND",St.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT",(Ct=Et||(Et={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",Ct.TEXT="TEXT",Ct.IMAGE="IMAGE",Ct.AUDIO="AUDIO",(kt=jt||(jt={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",kt.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",kt.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",kt.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",(It=At||(At={})).TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",It.TUNING_MODE_FULL="TUNING_MODE_FULL",It.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER",(_t=Tt||(Tt={})).ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",_t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",_t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",_t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",_t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",_t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",_t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO",(Pt=Ot||(Ot={})).JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",Pt.JOB_STATE_QUEUED="JOB_STATE_QUEUED",Pt.JOB_STATE_PENDING="JOB_STATE_PENDING",Pt.JOB_STATE_RUNNING="JOB_STATE_RUNNING",Pt.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",Pt.JOB_STATE_FAILED="JOB_STATE_FAILED",Pt.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",Pt.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",Pt.JOB_STATE_PAUSED="JOB_STATE_PAUSED",Pt.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",Pt.JOB_STATE_UPDATING="JOB_STATE_UPDATING",Pt.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",(Dt=Rt||(Rt={})).TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",Dt.TUNING_TASK_I2V="TUNING_TASK_I2V",Dt.TUNING_TASK_T2V="TUNING_TASK_T2V",Dt.TUNING_TASK_R2V="TUNING_TASK_R2V",(Lt=Mt||(Mt={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",Lt.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",Lt.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",Lt.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",Lt.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH",(Ut||(Ut={})).COLLECTION="COLLECTION",(zt=Ft||(Ft={})).FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",zt.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",zt.BALANCED="BALANCED",zt.PRIORITIZE_COST="PRIORITIZE_COST",(Gt=qt||(qt={})).ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",Gt.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER",(Vt=Ht||(Ht={})).BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",Vt.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",Vt.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",Vt.BLOCK_NONE="BLOCK_NONE",($t=Bt||(Bt={})).DONT_ALLOW="DONT_ALLOW",$t.ALLOW_ADULT="ALLOW_ADULT",$t.ALLOW_ALL="ALLOW_ALL",(Wt=Jt||(Jt={})).auto="auto",Wt.en="en",Wt.ja="ja",Wt.ko="ko",Wt.hi="hi",Wt.zh="zh",Wt.pt="pt",Wt.es="es",(Kt=Yt||(Yt={})).MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",Kt.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",Kt.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",Kt.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",Kt.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC",(Qt=Xt||(Xt={})).CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",Qt.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",Qt.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",Qt.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH",(en=Zt||(Zt={})).SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",en.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",en.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",en.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT",(nn=tn||(tn={})).EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",nn.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",nn.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",nn.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",nn.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",nn.EDIT_MODE_STYLE="EDIT_MODE_STYLE",nn.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",nn.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE",(sn=rn||(rn={})).FOREGROUND="FOREGROUND",sn.BACKGROUND="BACKGROUND",sn.PROMPT="PROMPT",sn.SEMANTIC="SEMANTIC",sn.INTERACTIVE="INTERACTIVE",(on=ln||(ln={})).ASSET="ASSET",on.STYLE="STYLE",(cn=an||(an={})).INSERT="INSERT",cn.REMOVE="REMOVE",cn.REMOVE_STATIC="REMOVE_STATIC",cn.OUTPAINT="OUTPAINT",(dn=un||(un={})).OPTIMIZED="OPTIMIZED",dn.LOSSLESS="LOSSLESS",(fn=pn||(pn={})).SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",fn.PREFERENCE_TUNING="PREFERENCE_TUNING",(hn=mn||(mn={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",hn.STATE_PENDING="STATE_PENDING",hn.STATE_ACTIVE="STATE_ACTIVE",hn.STATE_FAILED="STATE_FAILED",(xn=gn||(gn={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",xn.PROCESSING="PROCESSING",xn.ACTIVE="ACTIVE",xn.FAILED="FAILED",(yn=bn||(bn={})).SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",yn.UPLOADED="UPLOADED",yn.GENERATED="GENERATED",yn.REGISTERED="REGISTERED",(wn=vn||(vn={})).TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",wn.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",wn.RESPONSE_REJECTED="RESPONSE_REJECTED",wn.NEED_MORE_INPUT="NEED_MORE_INPUT",(Sn=Nn||(Nn={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",Sn.TEXT="TEXT",Sn.IMAGE="IMAGE",Sn.VIDEO="VIDEO",Sn.AUDIO="AUDIO",Sn.DOCUMENT="DOCUMENT",(Cn=En||(En={})).VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",Cn.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",Cn.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS",(kn=jn||(jn={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",kn.ACTIVITY_START="ACTIVITY_START",kn.ACTIVITY_END="ACTIVITY_END",(In=An||(An={})).START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",In.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",In.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW",(_n=Tn||(Tn={})).END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",_n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",_n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW",(Pn=On||(On={})).ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",Pn.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",Pn.NO_INTERRUPTION="NO_INTERRUPTION",(Dn=Rn||(Rn={})).TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",Dn.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",Dn.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT",(Ln=Mn||(Mn={})).SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",Ln.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",Ln.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",Ln.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",Ln.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",Ln.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",Ln.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",Ln.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",Ln.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",Ln.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",Ln.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",Ln.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",Ln.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR",(Fn=Un||(Un={})).MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",Fn.QUALITY="QUALITY",Fn.DIVERSITY="DIVERSITY",Fn.VOCALIZATION="VOCALIZATION",(qn=zn||(zn={})).PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",qn.PLAY="PLAY",qn.PAUSE="PAUSE",qn.STOP="STOP",qn.RESET_CONTEXT="RESET_CONTEXT";class Vn{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Bn{get text(){var e,t,n,r,s,l,o,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let i="",c=!1;const u=[];for(const d of null!==(a=null===(o=null===(l=null===(s=this.candidates)||void 0===s?void 0:s[0])||void 0===l?void 0:l.content)||void 0===o?void 0:o.parts)&&void 0!==a?a:[]){for(const[e,t]of Object.entries(d))"text"===e||"thought"===e||"thoughtSignature"===e||null===t&&void 0===t||u.push(e);if("string"==typeof d.text){if("boolean"==typeof d.thought&&d.thought)continue;c=!0,i+=d.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?i:void 0}get data(){var e,t,n,r,s,l,o,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let i="";const c=[];for(const u of null!==(a=null===(o=null===(l=null===(s=this.candidates)||void 0===s?void 0:s[0])||void 0===l?void 0:l.content)||void 0===o?void 0:o.parts)&&void 0!==a?a:[]){for(const[e,t]of Object.entries(u))"inlineData"===e||null===t&&void 0===t||c.push(e);u.inlineData&&"string"==typeof u.inlineData.data&&(i+=atob(u.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}get functionCalls(){var e,t,n,r,s,l,o,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const i=null===(a=null===(o=null===(l=null===(s=this.candidates)||void 0===s?void 0:s[0])||void 0===l?void 0:l.content)||void 0===o?void 0:o.parts)||void 0===a?void 0:a.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null==i?void 0:i.length)?i:void 0}get executableCode(){var e,t,n,r,s,l,o,a,i;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=null===(a=null===(o=null===(l=null===(s=this.candidates)||void 0===s?void 0:s[0])||void 0===l?void 0:l.content)||void 0===o?void 0:o.parts)||void 0===a?void 0:a.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null==c?void 0:c.length)?null===(i=null==c?void 0:c[0])||void 0===i?void 0:i.code:void 0}get codeExecutionResult(){var e,t,n,r,s,l,o,a,i;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=null===(a=null===(o=null===(l=null===(s=this.candidates)||void 0===s?void 0:s[0])||void 0===l?void 0:l.content)||void 0===o?void 0:o.parts)||void 0===a?void 0:a.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null==c?void 0:c.length)?null===(i=null==c?void 0:c[0])||void 0===i?void 0:i.output:void 0}}class $n{}class Jn{}class Wn{}class Yn{}class Kn{}class Xn{}class Qn{}class Zn{}class er{}class tr{}class nr{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new nr;let r;const s=e;return r=t?Pe(s):Oe(s),Object.assign(n,r),n}}class rr{}class sr{}class lr{}class or{}class ar{}class ir{}class cr{}class ur{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new ur,r=Re(e);return Object.assign(n,r),n}}class dr{}class pr{}class fr{}class mr{}class hr{get text(){var e,t,n;let r="",s=!1;const l=[];for(const o of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(o))"text"!==e&&"thought"!==e&&null!==t&&l.push(e);if("string"==typeof o.text){if("boolean"==typeof o.thought&&o.thought)continue;s=!0,r+=o.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var e,t,n;let r="";const s=[];for(const l of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(l))"inlineData"!==e&&null!==t&&s.push(e);l.inlineData&&"string"==typeof l.inlineData.data&&(r+=atob(l.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class gr{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class xr{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new xr,r=De(e);return Object.assign(n,r),n}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function br(e,t){if(!t||"string"!=typeof t)throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return`publishers/google/models/${t}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function yr(e,t){const n=br(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function vr(e){return Array.isArray(e)?e.map(e=>wr(e)):[wr(e)]}function wr(e){if("object"==typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: "+typeof e)}function Nr(e){const t=wr(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Sr(e){const t=wr(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Er(e){if(null==e)throw new Error("PartUnion is required");if("object"==typeof e)return e;if("string"==typeof e)return{text:e};throw new Error("Unsupported part type: "+typeof e)}function Cr(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>Er(e)):[Er(e)]}function jr(e){return null!=e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)}function kr(e){return null!=e&&"object"==typeof e&&"functionCall"in e}function Ar(e){return null!=e&&"object"==typeof e&&"functionResponse"in e}function Ir(e){if(null==e)throw new Error("ContentUnion is required");return jr(e)?e:{role:"user",parts:Cr(e)}}function Tr(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const t=Ir(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){const e=Ir(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>Ir(e)):[Ir(t)]}function _r(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(kr(e)||Ar(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ir(e)]}const t=[],n=[],r=jr(e[0]);for(const s of e){const e=jr(s);if(e!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(s);else{if(kr(s)||Ar(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return r||t.push({role:"user",parts:Cr(n)}),t}function Or(e){const t={},n=["items"],r=["anyOf"],s=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=e.anyOf;null!=l&&2==l.length&&("null"===l[0].type?(t.nullable=!0,e=l[1]):"null"===l[1].type&&(t.nullable=!0,e=l[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(Ge).includes(n[0].toUpperCase())?n[0].toUpperCase():Ge.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(Ge).includes(e.toUpperCase())?e.toUpperCase():Ge.TYPE_UNSPECIFIED})}}(e.type,t);for(const[o,a]of Object.entries(e))if(null!=a)if("type"==o){if("null"===a)throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;t.type=Object.values(Ge).includes(a.toUpperCase())?a.toUpperCase():Ge.TYPE_UNSPECIFIED}else if(n.includes(o))t[o]=Or(a);else if(r.includes(o)){const e=[];for(const n of a)"null"!=n.type?e.push(Or(n)):t.nullable=!0;t[o]=e}else if(s.includes(o)){const e={};for(const[t,n]of Object.entries(a))e[t]=Or(n);t[o]=e}else{if("additionalProperties"===o)continue;t[o]=a}return t}function Pr(e){return Or(e)}function Rr(e){if("object"==typeof e)return e;if("string"==typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: "+typeof e)}function Dr(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Mr(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Or(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Or(t.response));return e}function Lr(e){if(null==e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Ur(e,t){if("string"!=typeof t)throw new Error("name must be a string");return function(e,t,n,r=1){const s=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:s?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:s?`${n}/${t}`:t}(e,t,"cachedContents")}function Fr(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function zr(e){return _e(e)}function qr(e){var t;let n;var r;if(null!=(r=e)&&"object"==typeof r&&"name"in r&&(n=e.name),!(function(e){return null!=e&&"object"==typeof e&&"uri"in e}(e)&&(n=e.uri,void 0===n)||function(e){return null!=e&&"object"==typeof e&&"video"in e}(e)&&(n=null===(t=e.video)||void 0===t?void 0:t.uri,void 0===n))){if("string"==typeof e&&(n=e),void 0===n)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const e=n.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error(`Could not extract file name from URI ${n}`);n=e[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Gr(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function Hr(e){for(const t of["models","tunedModels","publisherModels"])if(Vr(e,t))return e[t];return[]}function Vr(e,t){return null!==e&&"object"==typeof e&&t in e}function Br(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior);return{functionDeclarations:[r]}}function $r(e,t){let n;if("string"==typeof t)if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else{if(!t.startsWith("bq://"))throw new Error(`Unsupported string source for Vertex AI: ${t}`);n={format:"bigquery",bigqueryUri:t}}else{if(!t.startsWith("files/"))throw new Error(`Unsupported string source for Gemini API: ${t}`);n={fileName:t}}else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(s>0||1!==r)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||1!==s)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Jr(e){if("object"!=typeof e||null===e)return{};const t=e,n=t.inlinedResponses;if("object"!=typeof n||null===n)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||0===r.length)return e;let s=!1;for(const l of r){if("object"!=typeof l||null===l)continue;const e=l.response;if("object"!=typeof e||null===e)continue;if(void 0!==e.embedding){s=!0;break}}return s&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Wr(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Yr(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_RUNNING"===e?"JOB_STATE_RUNNING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":"BATCH_STATE_EXPIRED"===e?"JOB_STATE_EXPIRED":e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kr(e){const t={},n=Ie(e,["responsesFile"]);null!=n&&Ae(t,["fileName"],n);const r=Ie(e,["inlinedResponses","inlinedResponses"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["response"]);null!=n&&Ae(t,["response"],function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["content"]);null!=n&&Ae(t,["content"],n);const r=Ie(e,["citationMetadata"]);null!=r&&Ae(t,["citationMetadata"],function(e){const t={},n=Ie(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["citations"],e)}return t}(r));const s=Ie(e,["tokenCount"]);null!=s&&Ae(t,["tokenCount"],s);const l=Ie(e,["finishReason"]);null!=l&&Ae(t,["finishReason"],l);const o=Ie(e,["avgLogprobs"]);null!=o&&Ae(t,["avgLogprobs"],o);const a=Ie(e,["groundingMetadata"]);null!=a&&Ae(t,["groundingMetadata"],a);const i=Ie(e,["index"]);null!=i&&Ae(t,["index"],i);const c=Ie(e,["logprobsResult"]);null!=c&&Ae(t,["logprobsResult"],c);const u=Ie(e,["safetyRatings"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["safetyRatings"],e)}const d=Ie(e,["urlContextMetadata"]);null!=d&&Ae(t,["urlContextMetadata"],d);return t}(e))),Ae(t,["candidates"],e)}const s=Ie(e,["modelVersion"]);null!=s&&Ae(t,["modelVersion"],s);const l=Ie(e,["promptFeedback"]);null!=l&&Ae(t,["promptFeedback"],l);const o=Ie(e,["responseId"]);null!=o&&Ae(t,["responseId"],o);const a=Ie(e,["usageMetadata"]);null!=a&&Ae(t,["usageMetadata"],a);return t}(n));const r=Ie(e,["error"]);null!=r&&Ae(t,["error"],r);return t}(e))),Ae(t,["inlinedResponses"],e)}const s=Ie(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["inlinedEmbedContentResponses"],e)}return t}function Xr(e){const t={},n=Ie(e,["name"]);null!=n&&Ae(t,["name"],n);const r=Ie(e,["metadata","displayName"]);null!=r&&Ae(t,["displayName"],r);const s=Ie(e,["metadata","state"]);null!=s&&Ae(t,["state"],Yr(s));const l=Ie(e,["metadata","createTime"]);null!=l&&Ae(t,["createTime"],l);const o=Ie(e,["metadata","endTime"]);null!=o&&Ae(t,["endTime"],o);const a=Ie(e,["metadata","updateTime"]);null!=a&&Ae(t,["updateTime"],a);const i=Ie(e,["metadata","model"]);null!=i&&Ae(t,["model"],i);const c=Ie(e,["metadata","output"]);return null!=c&&Ae(t,["dest"],Kr(Jr(c))),t}function Qr(e){const t={},n=Ie(e,["name"]);null!=n&&Ae(t,["name"],n);const r=Ie(e,["displayName"]);null!=r&&Ae(t,["displayName"],r);const s=Ie(e,["state"]);null!=s&&Ae(t,["state"],Yr(s));const l=Ie(e,["error"]);null!=l&&Ae(t,["error"],l);const o=Ie(e,["createTime"]);null!=o&&Ae(t,["createTime"],o);const a=Ie(e,["startTime"]);null!=a&&Ae(t,["startTime"],a);const i=Ie(e,["endTime"]);null!=i&&Ae(t,["endTime"],i);const c=Ie(e,["updateTime"]);null!=c&&Ae(t,["updateTime"],c);const u=Ie(e,["model"]);null!=u&&Ae(t,["model"],u);const d=Ie(e,["inputConfig"]);null!=d&&Ae(t,["src"],function(e){const t={},n=Ie(e,["instancesFormat"]);null!=n&&Ae(t,["format"],n);const r=Ie(e,["gcsSource","uris"]);null!=r&&Ae(t,["gcsUri"],r);const s=Ie(e,["bigquerySource","inputUri"]);null!=s&&Ae(t,["bigqueryUri"],s);return t}(d));const p=Ie(e,["outputConfig"]);null!=p&&Ae(t,["dest"],function(e){const t={},n=Ie(e,["predictionsFormat"]);null!=n&&Ae(t,["format"],n);const r=Ie(e,["gcsDestination","outputUriPrefix"]);null!=r&&Ae(t,["gcsUri"],r);const s=Ie(e,["bigqueryDestination","outputUri"]);return null!=s&&Ae(t,["bigqueryUri"],s),t}(Jr(p)));const f=Ie(e,["completionStats"]);return null!=f&&Ae(t,["completionStats"],f),t}function Zr(e,t){const n={};if(void 0!==Ie(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==Ie(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==Ie(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=Ie(t,["fileName"]);null!=r&&Ae(n,["fileName"],r);const s=Ie(t,["inlinedRequests"]);if(null!=s){let t=s;Array.isArray(t)&&(t=t.map(t=>function(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["request","model"],br(e,r));const s=Ie(t,["contents"]);if(null!=s){let e=_r(s);Array.isArray(e)&&(e=e.map(e=>es(e))),Ae(n,["request","contents"],e)}const l=Ie(t,["metadata"]);null!=l&&Ae(n,["metadata"],l);const o=Ie(t,["config"]);null!=o&&Ae(n,["request","generationConfig"],function(e,t,n){const r={},s=Ie(t,["systemInstruction"]);void 0!==n&&null!=s&&Ae(n,["systemInstruction"],es(Ir(s)));const l=Ie(t,["temperature"]);null!=l&&Ae(r,["temperature"],l);const o=Ie(t,["topP"]);null!=o&&Ae(r,["topP"],o);const a=Ie(t,["topK"]);null!=a&&Ae(r,["topK"],a);const i=Ie(t,["candidateCount"]);null!=i&&Ae(r,["candidateCount"],i);const c=Ie(t,["maxOutputTokens"]);null!=c&&Ae(r,["maxOutputTokens"],c);const u=Ie(t,["stopSequences"]);null!=u&&Ae(r,["stopSequences"],u);const d=Ie(t,["responseLogprobs"]);null!=d&&Ae(r,["responseLogprobs"],d);const p=Ie(t,["logprobs"]);null!=p&&Ae(r,["logprobs"],p);const f=Ie(t,["presencePenalty"]);null!=f&&Ae(r,["presencePenalty"],f);const m=Ie(t,["frequencyPenalty"]);null!=m&&Ae(r,["frequencyPenalty"],m);const h=Ie(t,["seed"]);null!=h&&Ae(r,["seed"],h);const g=Ie(t,["responseMimeType"]);null!=g&&Ae(r,["responseMimeType"],g);const x=Ie(t,["responseSchema"]);null!=x&&Ae(r,["responseSchema"],Pr(x));const b=Ie(t,["responseJsonSchema"]);null!=b&&Ae(r,["responseJsonSchema"],b);if(void 0!==Ie(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==Ie(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=Ie(t,["safetySettings"]);if(void 0!==n&&null!=y){let e=y;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["category"]);null!=n&&Ae(t,["category"],n);if(void 0!==Ie(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=Ie(e,["threshold"]);null!=r&&Ae(t,["threshold"],r);return t}(e))),Ae(n,["safetySettings"],e)}const v=Ie(t,["tools"]);if(void 0!==n&&null!=v){let e=Lr(v);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Ie(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=Ie(e,["computerUse"]);null!=n&&Ae(t,["computerUse"],n);const r=Ie(e,["fileSearch"]);null!=r&&Ae(t,["fileSearch"],r);const s=Ie(e,["codeExecution"]);null!=s&&Ae(t,["codeExecution"],s);if(void 0!==Ie(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=Ie(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["functionDeclarations"],e)}const o=Ie(e,["googleMaps"]);null!=o&&Ae(t,["googleMaps"],function(e){const t={};if(void 0!==Ie(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Ie(e,["enableWidget"]);null!=n&&Ae(t,["enableWidget"],n);return t}(o));const a=Ie(e,["googleSearch"]);null!=a&&Ae(t,["googleSearch"],function(e){const t={};if(void 0!==Ie(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Ie(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Ie(e,["timeRangeFilter"]);null!=n&&Ae(t,["timeRangeFilter"],n);return t}(a));const i=Ie(e,["googleSearchRetrieval"]);null!=i&&Ae(t,["googleSearchRetrieval"],i);const c=Ie(e,["urlContext"]);null!=c&&Ae(t,["urlContext"],c);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(Mr(e)))),Ae(n,["tools"],e)}const w=Ie(t,["toolConfig"]);void 0!==n&&null!=w&&Ae(n,["toolConfig"],function(e){const t={},n=Ie(e,["retrievalConfig"]);null!=n&&Ae(t,["retrievalConfig"],n);const r=Ie(e,["functionCallingConfig"]);null!=r&&Ae(t,["functionCallingConfig"],function(e){const t={},n=Ie(e,["allowedFunctionNames"]);null!=n&&Ae(t,["allowedFunctionNames"],n);const r=Ie(e,["mode"]);null!=r&&Ae(t,["mode"],r);if(void 0!==Ie(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(r));return t}(w));if(void 0!==Ie(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const N=Ie(t,["cachedContent"]);void 0!==n&&null!=N&&Ae(n,["cachedContent"],Ur(e,N));const S=Ie(t,["responseModalities"]);null!=S&&Ae(r,["responseModalities"],S);const E=Ie(t,["mediaResolution"]);null!=E&&Ae(r,["mediaResolution"],E);const C=Ie(t,["speechConfig"]);null!=C&&Ae(r,["speechConfig"],Rr(C));if(void 0!==Ie(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=Ie(t,["thinkingConfig"]);null!=j&&Ae(r,["thinkingConfig"],j);const k=Ie(t,["imageConfig"]);null!=k&&Ae(r,["imageConfig"],function(e){const t={},n=Ie(e,["aspectRatio"]);null!=n&&Ae(t,["aspectRatio"],n);const r=Ie(e,["imageSize"]);null!=r&&Ae(t,["imageSize"],r);if(void 0!==Ie(e,["personGeneration"]))throw new Error("personGeneration parameter is not supported in Gemini API.");if(void 0!==Ie(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==Ie(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(k));const A=Ie(t,["enableEnhancedCivicAnswers"]);null!=A&&Ae(r,["enableEnhancedCivicAnswers"],A);if(void 0!==Ie(t,["modelArmorConfig"]))throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}(e,o,Ie(n,["request"],{})));return n}(e,t))),Ae(n,["requests","requests"],t)}return n}function es(e){const t={},n=Ie(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["mediaResolution"]);null!=n&&Ae(t,["mediaResolution"],n);const r=Ie(e,["codeExecutionResult"]);null!=r&&Ae(t,["codeExecutionResult"],r);const s=Ie(e,["executableCode"]);null!=s&&Ae(t,["executableCode"],s);const l=Ie(e,["fileData"]);null!=l&&Ae(t,["fileData"],function(e){const t={};if(void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Ie(e,["fileUri"]);null!=n&&Ae(t,["fileUri"],n);const r=Ie(e,["mimeType"]);null!=r&&Ae(t,["mimeType"],r);return t}(l));const o=Ie(e,["functionCall"]);null!=o&&Ae(t,["functionCall"],function(e){const t={},n=Ie(e,["id"]);null!=n&&Ae(t,["id"],n);const r=Ie(e,["args"]);null!=r&&Ae(t,["args"],r);const s=Ie(e,["name"]);null!=s&&Ae(t,["name"],s);if(void 0!==Ie(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Ie(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(o));const a=Ie(e,["functionResponse"]);null!=a&&Ae(t,["functionResponse"],a);const i=Ie(e,["inlineData"]);null!=i&&Ae(t,["inlineData"],function(e){const t={},n=Ie(e,["data"]);if(null!=n&&Ae(t,["data"],n),void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Ie(e,["mimeType"]);return null!=r&&Ae(t,["mimeType"],r),t}(i));const c=Ie(e,["text"]);null!=c&&Ae(t,["text"],c);const u=Ie(e,["thought"]);null!=u&&Ae(t,["thought"],u);const d=Ie(e,["thoughtSignature"]);null!=d&&Ae(t,["thoughtSignature"],d);const p=Ie(e,["videoMetadata"]);null!=p&&Ae(t,["videoMetadata"],p);return t}(e))),Ae(t,["parts"],e)}const r=Ie(e,["role"]);return null!=r&&Ae(t,["role"],r),t}function ts(e,t){const n=Ie(e,["displayName"]);void 0!==t&&null!=n&&Ae(t,["displayName"],n);const r=Ie(e,["dest"]);return void 0!==t&&null!=r&&Ae(t,["outputConfig"],function(e){const t={},n=Ie(e,["format"]);null!=n&&Ae(t,["predictionsFormat"],n);const r=Ie(e,["gcsUri"]);null!=r&&Ae(t,["gcsDestination","outputUriPrefix"],r);const s=Ie(e,["bigqueryUri"]);if(null!=s&&Ae(t,["bigqueryDestination","outputUri"],s),void 0!==Ie(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==Ie(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==Ie(e,["inlinedEmbedContentResponses"]))throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!=typeof e)return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}(r))),{}}function ns(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["src"]);null!=s&&Ae(n,["batch","inputConfig"],Zr(e,$r(e,s)));const l=Ie(t,["config"]);return null!=l&&function(e,t){const n=Ie(e,["displayName"]);if(void 0!==t&&null!=n&&Ae(t,["batch","displayName"],n),void 0!==Ie(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.")}(l,n),n}function rs(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["model"],br(e,r));const s=Ie(t,["src"]);null!=s&&Ae(n,["inputConfig"],function(e){const t={},n=Ie(e,["format"]);null!=n&&Ae(t,["instancesFormat"],n);const r=Ie(e,["gcsUri"]);null!=r&&Ae(t,["gcsSource","uris"],r);const s=Ie(e,["bigqueryUri"]);if(null!=s&&Ae(t,["bigquerySource","inputUri"],s),void 0!==Ie(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==Ie(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}($r(e,s)));const l=Ie(t,["config"]);return null!=l&&ts(l,n),n}function ss(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["src"]);null!=s&&Ae(n,["batch","inputConfig"],function(e,t){const n={},r=Ie(t,["fileName"]);null!=r&&Ae(n,["file_name"],r);const s=Ie(t,["inlinedRequests"]);null!=s&&Ae(n,["requests"],function(e,t){const n={},r=Ie(t,["contents"]);if(null!=r){let t=Tr(e,r);Array.isArray(t)&&(t=t.map(e=>e)),Ae(n,["requests[]","request","content"],t)}const s=Ie(t,["config"]);null!=s&&(Ae(n,["_self"],function(e,t){const n={},r=Ie(e,["taskType"]);void 0!==t&&null!=r&&Ae(t,["requests[]","taskType"],r);const s=Ie(e,["title"]);void 0!==t&&null!=s&&Ae(t,["requests[]","title"],s);const l=Ie(e,["outputDimensionality"]);void 0!==t&&null!=l&&Ae(t,["requests[]","outputDimensionality"],l);if(void 0!==Ie(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==Ie(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}(s,n)),function(e,t){for(const[n,r]of Object.entries(t)){const t=n.split("."),s=r.split("."),l=new Set;let o=-1;for(let e=0;e<t.length;e++)if("*"===t[e]){o=e;break}if(-1!==o&&s.length>o)for(let e=o;e<s.length;e++){const t=s[e];"*"===t||t.endsWith("[]")||t.endsWith("[0]")||l.add(t)}Te(e,t,s,0,l)}}(n,{"requests[].*":"requests[].request.*"}));return n}(e,s));return n}(e,s));const l=Ie(t,["config"]);return null!=l&&function(e,t){const n=Ie(e,["displayName"]);void 0!==t&&null!=n&&Ae(t,["batch","displayName"],n)}(l,n),n}function ls(e){const t={},n=Ie(e,["config"]);return null!=n&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ae(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);if(void 0!==t&&null!=r&&Ae(t,["_query","pageToken"],r),void 0!==Ie(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.")}(n,t),t}function os(e){const t={},n=Ie(e,["config"]);return null!=n&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ae(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);void 0!==t&&null!=r&&Ae(t,["_query","pageToken"],r);const s=Ie(e,["filter"]);void 0!==t&&null!=s&&Ae(t,["_query","filter"],s)}(n,t),t}(Hn=Gn||(Gn={})).PAGED_ITEM_BATCH_JOBS="batchJobs",Hn.PAGED_ITEM_MODELS="models",Hn.PAGED_ITEM_TUNING_JOBS="tuningJobs",Hn.PAGED_ITEM_FILES="files",Hn.PAGED_ITEM_CACHED_CONTENTS="cachedContents",Hn.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",Hn.PAGED_ITEM_DOCUMENTS="documents";class as{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){var r,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null==t?void 0:t.sdkHttpResponse,this.idxInternal=0;let l={config:{}};l=n&&0!==Object.keys(n).length?"object"==typeof n?Object.assign({},n):n:{config:{}},l.config&&(l.config.pageToken=t.nextPageToken),this.paramsInternal=l,this.pageInternalSize=null!==(s=null===(r=l.config)||void 0===r?void 0:r.pageSize)&&void 0!==s?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class is extends je{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new as(Gn.PAGED_ITEM_BATCH_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(e)}}createInlinedGenerateContentRequest(e){const t=ns(this.apiClient,e),n=ke("{model}:batchGenerateContent",t._url),r=t.batch.inputConfig.requests,s=r.requests,l=[];for(const o of s){const e=Object.assign({},o);if(e.systemInstruction){const t=e.systemInstruction;delete e.systemInstruction;const n=e.request;n.systemInstruction=t,e.request=n}l.push(e)}return r.requests=l,delete t.config,delete t._url,delete t._query,{path:n,body:t}}getGcsUri(e){return"string"==typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"==typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,t){const n=t?Object.assign({},t):{},r=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${r}`),void 0===n.dest){const t=this.getGcsUri(e),s=this.getBigqueryUri(e);if(t)t.endsWith(".jsonl")?n.dest=`${t.slice(0,-6)}/dest`:n.dest=`${t}_dest_${r}`;else{if(!s)throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");n.dest=`${s}_dest_${r}`}}return n}async createInternal(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=rs(this.apiClient,e);return o=ke("batchPredictionJobs",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),l.then(e=>Qr(e))}{const t=ns(this.apiClient,e);return o=ke("{model}:batchGenerateContent",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json()),l.then(e=>Xr(e))}}async createEmbeddingsInternal(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ss(this.apiClient,e);return s=ke("{model}:asyncBatchEmbedContent",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>Xr(e))}}async get(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ae(n,["_url","name"],Wr(e,r)),n}(this.apiClient,e);return o=ke("batchPredictionJobs/{name}",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),l.then(e=>Qr(e))}{const t=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ae(n,["_url","name"],Wr(e,r)),n}(this.apiClient,e);return o=ke("batches/{name}",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json()),l.then(e=>Xr(e))}}async cancel(e){var t,n,r,s;let l="",o={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ae(n,["_url","name"],Wr(e,r)),n}(this.apiClient,e);l=ke("batchPredictionJobs/{name}:cancel",r._url),o=r._query,delete r._url,delete r._query,await this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ae(n,["_url","name"],Wr(e,r)),n}(this.apiClient,e);l=ke("batches/{name}:cancel",t._url),o=t._query,delete t._url,delete t._query,await this.apiClient.request({path:l,queryParams:o,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal})}}async listInternal(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=os(e);return o=ke("batchPredictionJobs",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ae(t,["nextPageToken"],r);const s=Ie(e,["batchPredictionJobs"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>Qr(e))),Ae(t,["batchJobs"],e)}return t}(e),n=new mr;return Object.assign(n,t),n})}{const t=ls(e);return o=ke("batches",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ae(t,["nextPageToken"],r);const s=Ie(e,["operations"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>Xr(e))),Ae(t,["batchJobs"],e)}return t}(e),n=new mr;return Object.assign(n,t),n})}}async delete(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ae(n,["_url","name"],Wr(e,r)),n}(this.apiClient,e);return o=ke("batchPredictionJobs/{name}",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["name"]);null!=r&&Ae(t,["name"],r);const s=Ie(e,["done"]);null!=s&&Ae(t,["done"],s);const l=Ie(e,["error"]);return null!=l&&Ae(t,["error"],l),t}(e))}{const t=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ae(n,["_url","name"],Wr(e,r)),n}(this.apiClient,e);return o=ke("batches/{name}",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["name"]);null!=r&&Ae(t,["name"],r);const s=Ie(e,["done"]);null!=s&&Ae(t,["done"],s);const l=Ie(e,["error"]);return null!=l&&Ae(t,["error"],l),t}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cs(e){const t={},n=Ie(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["mediaResolution"]);null!=n&&Ae(t,["mediaResolution"],n);const r=Ie(e,["codeExecutionResult"]);null!=r&&Ae(t,["codeExecutionResult"],r);const s=Ie(e,["executableCode"]);null!=s&&Ae(t,["executableCode"],s);const l=Ie(e,["fileData"]);null!=l&&Ae(t,["fileData"],function(e){const t={};if(void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Ie(e,["fileUri"]);null!=n&&Ae(t,["fileUri"],n);const r=Ie(e,["mimeType"]);null!=r&&Ae(t,["mimeType"],r);return t}(l));const o=Ie(e,["functionCall"]);null!=o&&Ae(t,["functionCall"],function(e){const t={},n=Ie(e,["id"]);null!=n&&Ae(t,["id"],n);const r=Ie(e,["args"]);null!=r&&Ae(t,["args"],r);const s=Ie(e,["name"]);null!=s&&Ae(t,["name"],s);if(void 0!==Ie(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Ie(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(o));const a=Ie(e,["functionResponse"]);null!=a&&Ae(t,["functionResponse"],a);const i=Ie(e,["inlineData"]);null!=i&&Ae(t,["inlineData"],function(e){const t={},n=Ie(e,["data"]);if(null!=n&&Ae(t,["data"],n),void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Ie(e,["mimeType"]);return null!=r&&Ae(t,["mimeType"],r),t}(i));const c=Ie(e,["text"]);null!=c&&Ae(t,["text"],c);const u=Ie(e,["thought"]);null!=u&&Ae(t,["thought"],u);const d=Ie(e,["thoughtSignature"]);null!=d&&Ae(t,["thoughtSignature"],d);const p=Ie(e,["videoMetadata"]);null!=p&&Ae(t,["videoMetadata"],p);return t}(e))),Ae(t,["parts"],e)}const r=Ie(e,["role"]);return null!=r&&Ae(t,["role"],r),t}function us(e,t){const n=Ie(e,["ttl"]);void 0!==t&&null!=n&&Ae(t,["ttl"],n);const r=Ie(e,["expireTime"]);void 0!==t&&null!=r&&Ae(t,["expireTime"],r);const s=Ie(e,["displayName"]);void 0!==t&&null!=s&&Ae(t,["displayName"],s);const l=Ie(e,["contents"]);if(void 0!==t&&null!=l){let e=_r(l);Array.isArray(e)&&(e=e.map(e=>cs(e))),Ae(t,["contents"],e)}const o=Ie(e,["systemInstruction"]);void 0!==t&&null!=o&&Ae(t,["systemInstruction"],cs(Ir(o)));const a=Ie(e,["tools"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Ie(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=Ie(e,["computerUse"]);null!=n&&Ae(t,["computerUse"],n);const r=Ie(e,["fileSearch"]);null!=r&&Ae(t,["fileSearch"],r);const s=Ie(e,["codeExecution"]);null!=s&&Ae(t,["codeExecution"],s);if(void 0!==Ie(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=Ie(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["functionDeclarations"],e)}const o=Ie(e,["googleMaps"]);null!=o&&Ae(t,["googleMaps"],function(e){const t={};if(void 0!==Ie(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Ie(e,["enableWidget"]);null!=n&&Ae(t,["enableWidget"],n);return t}(o));const a=Ie(e,["googleSearch"]);null!=a&&Ae(t,["googleSearch"],function(e){const t={};if(void 0!==Ie(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Ie(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Ie(e,["timeRangeFilter"]);null!=n&&Ae(t,["timeRangeFilter"],n);return t}(a));const i=Ie(e,["googleSearchRetrieval"]);null!=i&&Ae(t,["googleSearchRetrieval"],i);const c=Ie(e,["urlContext"]);null!=c&&Ae(t,["urlContext"],c);return t}(e))),Ae(t,["tools"],e)}const i=Ie(e,["toolConfig"]);if(void 0!==t&&null!=i&&Ae(t,["toolConfig"],function(e){const t={},n=Ie(e,["retrievalConfig"]);null!=n&&Ae(t,["retrievalConfig"],n);const r=Ie(e,["functionCallingConfig"]);null!=r&&Ae(t,["functionCallingConfig"],function(e){const t={},n=Ie(e,["allowedFunctionNames"]);null!=n&&Ae(t,["allowedFunctionNames"],n);const r=Ie(e,["mode"]);null!=r&&Ae(t,["mode"],r);if(void 0!==Ie(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(r));return t}(i)),void 0!==Ie(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}function ds(e,t){const n=Ie(e,["ttl"]);void 0!==t&&null!=n&&Ae(t,["ttl"],n);const r=Ie(e,["expireTime"]);void 0!==t&&null!=r&&Ae(t,["expireTime"],r);const s=Ie(e,["displayName"]);void 0!==t&&null!=s&&Ae(t,["displayName"],s);const l=Ie(e,["contents"]);if(void 0!==t&&null!=l){let e=_r(l);Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["contents"],e)}const o=Ie(e,["systemInstruction"]);void 0!==t&&null!=o&&Ae(t,["systemInstruction"],Ir(o));const a=Ie(e,["tools"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["retrieval"]);null!=n&&Ae(t,["retrieval"],n);const r=Ie(e,["computerUse"]);null!=r&&Ae(t,["computerUse"],r);if(void 0!==Ie(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=Ie(e,["codeExecution"]);null!=s&&Ae(t,["codeExecution"],s);const l=Ie(e,["enterpriseWebSearch"]);null!=l&&Ae(t,["enterpriseWebSearch"],l);const o=Ie(e,["functionDeclarations"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["description"]);null!=n&&Ae(t,["description"],n);const r=Ie(e,["name"]);null!=r&&Ae(t,["name"],r);const s=Ie(e,["parameters"]);null!=s&&Ae(t,["parameters"],s);const l=Ie(e,["parametersJsonSchema"]);null!=l&&Ae(t,["parametersJsonSchema"],l);const o=Ie(e,["response"]);null!=o&&Ae(t,["response"],o);const a=Ie(e,["responseJsonSchema"]);null!=a&&Ae(t,["responseJsonSchema"],a);if(void 0!==Ie(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return t}(e))),Ae(t,["functionDeclarations"],e)}const a=Ie(e,["googleMaps"]);null!=a&&Ae(t,["googleMaps"],a);const i=Ie(e,["googleSearch"]);null!=i&&Ae(t,["googleSearch"],i);const c=Ie(e,["googleSearchRetrieval"]);null!=c&&Ae(t,["googleSearchRetrieval"],c);const u=Ie(e,["urlContext"]);null!=u&&Ae(t,["urlContext"],u);return t}(e))),Ae(t,["tools"],e)}const i=Ie(e,["toolConfig"]);void 0!==t&&null!=i&&Ae(t,["toolConfig"],i);const c=Ie(e,["kmsKeyName"]);return void 0!==t&&null!=c&&Ae(t,["encryption_spec","kmsKeyName"],c),{}}function ps(e){const t={},n=Ie(e,["config"]);return null!=n&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ae(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);void 0!==t&&null!=r&&Ae(t,["_query","pageToken"],r)}(n,t),t}function fs(e){const t={},n=Ie(e,["config"]);return null!=n&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ae(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);void 0!==t&&null!=r&&Ae(t,["_query","pageToken"],r)}(n,t),t}function ms(e,t){const n={},r=Ie(t,["name"]);null!=r&&Ae(n,["_url","name"],Ur(e,r));const s=Ie(t,["config"]);return null!=s&&function(e,t){const n=Ie(e,["ttl"]);void 0!==t&&null!=n&&Ae(t,["ttl"],n);const r=Ie(e,["expireTime"]);void 0!==t&&null!=r&&Ae(t,["expireTime"],r)}(s,n),n}function hs(e,t){const n={},r=Ie(t,["name"]);null!=r&&Ae(n,["_url","name"],Ur(e,r));const s=Ie(t,["config"]);return null!=s&&function(e,t){const n=Ie(e,["ttl"]);void 0!==t&&null!=n&&Ae(t,["ttl"],n);const r=Ie(e,["expireTime"]);void 0!==t&&null!=r&&Ae(t,["expireTime"],r)}(s,n),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gs extends je{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new as(Gn.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["model"],yr(e,r));const s=Ie(t,["config"]);return null!=s&&ds(s,n),n}(this.apiClient,e);return o=ke("cachedContents",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),l.then(e=>e)}{const t=function(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["model"],yr(e,r));const s=Ie(t,["config"]);return null!=s&&us(s,n),n}(this.apiClient,e);return o=ke("cachedContents",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json()),l.then(e=>e)}}async get(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ae(n,["_url","name"],Ur(e,r)),n}(this.apiClient,e);return o=ke("{name}",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),l.then(e=>e)}{const t=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ae(n,["_url","name"],Ur(e,r)),n}(this.apiClient,e);return o=ke("{name}",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json()),l.then(e=>e)}}async delete(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ae(n,["_url","name"],Ur(e,r)),n}(this.apiClient,e);return o=ke("{name}",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ae(t,["sdkHttpResponse"],n),t}(e),n=new lr;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=Ie(t,["name"]);return null!=r&&Ae(n,["_url","name"],Ur(e,r)),n}(this.apiClient,e);return o=ke("{name}",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ae(t,["sdkHttpResponse"],n),t}(e),n=new lr;return Object.assign(n,t),n})}}async update(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=hs(this.apiClient,e);return o=ke("{name}",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),l.then(e=>e)}{const t=ms(this.apiClient,e);return o=ke("{name}",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json()),l.then(e=>e)}}async listInternal(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=fs(e);return o=ke("cachedContents",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ae(t,["nextPageToken"],r);const s=Ie(e,["cachedContents"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["cachedContents"],e)}return t}(e),n=new or;return Object.assign(n,t),n})}{const t=ps(e);return o=ke("cachedContents",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ae(t,["nextPageToken"],r);const s=Ie(e,["cachedContents"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["cachedContents"],e)}return t}(e),n=new or;return Object.assign(n,t),n})}}}function xs(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}function bs(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ys(e){return this instanceof ys?(this.v=e,this):new ys(e)}function vs(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=n.apply(e,t||[]),l=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),r[Symbol.asyncIterator]=function(){return this},r;function o(e,t){s[e]&&(r[e]=function(t){return new Promise(function(n,r){l.push([e,t,n,r])>1||a(e,t)})},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=s[e](t)).value instanceof ys?Promise.resolve(n.value.v).then(i,c):u(l[0][2],n)}catch(r){u(l[0][3],r)}var n}function i(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),l.shift(),l.length&&a(l[0][0],l[0][1])}}function ws(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=bs(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,s){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,s,(t=e[n](t)).done,t.value)})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function Ns(e){var t;if(null==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&Ss(n)}function Ss(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function Es(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let r=0;for(;r<n;)if("user"===e[r].role)t.push(e[r]),r++;else{const s=[];let l=!0;for(;r<n&&"model"===e[r].role;)s.push(e[r]),l&&!Ss(e[r])&&(l=!1),r++;l?t.push(...s):t.pop()}return t}"function"==typeof SuppressedError&&SuppressedError;class Cs{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new js(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class js{constructor(e,t,n,r={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error(`Role must be user or model, but got ${t.role}.`)}(s)}async sendMessage(e){var t;await this.sendPromise;const n=Ir(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,s;const l=await r,o=null===(t=null===(e=l.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,a=l.automaticFunctionCallingHistory,i=this.getHistory(!0).length;let c=[];null!=a&&(c=null!==(s=a.slice(i))&&void 0!==s?s:[]);const u=o?[o]:[];this.recordHistory(n,u,c)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const n=Ir(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,n)}getHistory(e=!1){const t=e?Es(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return vs(this,arguments,function*(){var n,r,s,l,o,a;const i=[];try{for(var c,u=!0,d=ws(e);!(n=(c=yield ys(d.next())).done);u=!0){l=c.value,u=!1;const e=l;if(Ns(e)){const t=null===(a=null===(o=e.candidates)||void 0===o?void 0:o[0])||void 0===a?void 0:a.content;void 0!==t&&i.push(t)}yield yield ys(e)}}catch(p){r={error:p}}finally{try{u||n||!(s=d.return)||(yield ys(s.call(d)))}finally{if(r)throw r.error}}this.recordHistory(t,i)})}recordHistory(e,t,n){let r=[];t.length>0&&t.every(e=>void 0!==e.role)?r=t:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...Es(n)):this.history.push(e),this.history.push(...r)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ks extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ks.prototype)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function As(e){const t={},n=Ie(e,["config"]);return null!=n&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ae(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);void 0!==t&&null!=r&&Ae(t,["_query","pageToken"],r)}(n,t),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Is extends je{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new as(Gn.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=As(e);return s=ke("files",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ae(t,["nextPageToken"],r);const s=Ie(e,["files"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["files"],e)}return t}(e),n=new dr;return Object.assign(n,t),n})}}async createInternal(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=function(e){const t={},n=Ie(e,["file"]);return null!=n&&Ae(t,["file"],n),t}(e);return s=ke("upload/v1beta/files",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ae(t,["sdkHttpResponse"],n),t}(e),n=new pr;return Object.assign(n,t),n})}}async get(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=function(e){const t={},n=Ie(e,["name"]);return null!=n&&Ae(t,["_url","file"],qr(n)),t}(e);return s=ke("files/{file}",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=function(e){const t={},n=Ie(e,["name"]);return null!=n&&Ae(t,["_url","file"],qr(n)),t}(e);return s=ke("files/{file}",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ae(t,["sdkHttpResponse"],n),t}(e),n=new fr;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ts(e){const t={},n=Ie(e,["data"]);if(null!=n&&Ae(t,["data"],n),void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Ie(e,["mimeType"]);return null!=r&&Ae(t,["mimeType"],r),t}function _s(e){const t={},n=Ie(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["mediaResolution"]);null!=n&&Ae(t,["mediaResolution"],n);const r=Ie(e,["codeExecutionResult"]);null!=r&&Ae(t,["codeExecutionResult"],r);const s=Ie(e,["executableCode"]);null!=s&&Ae(t,["executableCode"],s);const l=Ie(e,["fileData"]);null!=l&&Ae(t,["fileData"],function(e){const t={};if(void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Ie(e,["fileUri"]);null!=n&&Ae(t,["fileUri"],n);const r=Ie(e,["mimeType"]);null!=r&&Ae(t,["mimeType"],r);return t}(l));const o=Ie(e,["functionCall"]);null!=o&&Ae(t,["functionCall"],function(e){const t={},n=Ie(e,["id"]);null!=n&&Ae(t,["id"],n);const r=Ie(e,["args"]);null!=r&&Ae(t,["args"],r);const s=Ie(e,["name"]);null!=s&&Ae(t,["name"],s);if(void 0!==Ie(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Ie(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(o));const a=Ie(e,["functionResponse"]);null!=a&&Ae(t,["functionResponse"],a);const i=Ie(e,["inlineData"]);null!=i&&Ae(t,["inlineData"],Ts(i));const c=Ie(e,["text"]);null!=c&&Ae(t,["text"],c);const u=Ie(e,["thought"]);null!=u&&Ae(t,["thought"],u);const d=Ie(e,["thoughtSignature"]);null!=d&&Ae(t,["thoughtSignature"],d);const p=Ie(e,["videoMetadata"]);null!=p&&Ae(t,["videoMetadata"],p);return t}(e))),Ae(t,["parts"],e)}const r=Ie(e,["role"]);return null!=r&&Ae(t,["role"],r),t}function Os(e,t){const n=Ie(e,["generationConfig"]);void 0!==t&&null!=n&&Ae(t,["setup","generationConfig"],n);const r=Ie(e,["responseModalities"]);void 0!==t&&null!=r&&Ae(t,["setup","generationConfig","responseModalities"],r);const s=Ie(e,["temperature"]);void 0!==t&&null!=s&&Ae(t,["setup","generationConfig","temperature"],s);const l=Ie(e,["topP"]);void 0!==t&&null!=l&&Ae(t,["setup","generationConfig","topP"],l);const o=Ie(e,["topK"]);void 0!==t&&null!=o&&Ae(t,["setup","generationConfig","topK"],o);const a=Ie(e,["maxOutputTokens"]);void 0!==t&&null!=a&&Ae(t,["setup","generationConfig","maxOutputTokens"],a);const i=Ie(e,["mediaResolution"]);void 0!==t&&null!=i&&Ae(t,["setup","generationConfig","mediaResolution"],i);const c=Ie(e,["seed"]);void 0!==t&&null!=c&&Ae(t,["setup","generationConfig","seed"],c);const u=Ie(e,["speechConfig"]);void 0!==t&&null!=u&&Ae(t,["setup","generationConfig","speechConfig"],Dr(u));const d=Ie(e,["thinkingConfig"]);void 0!==t&&null!=d&&Ae(t,["setup","generationConfig","thinkingConfig"],d);const p=Ie(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&Ae(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=Ie(e,["systemInstruction"]);void 0!==t&&null!=f&&Ae(t,["setup","systemInstruction"],_s(Ir(f)));const m=Ie(e,["tools"]);if(void 0!==t&&null!=m){let e=Lr(m);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Ie(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=Ie(e,["computerUse"]);null!=n&&Ae(t,["computerUse"],n);const r=Ie(e,["fileSearch"]);null!=r&&Ae(t,["fileSearch"],r);const s=Ie(e,["codeExecution"]);null!=s&&Ae(t,["codeExecution"],s);if(void 0!==Ie(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=Ie(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["functionDeclarations"],e)}const o=Ie(e,["googleMaps"]);null!=o&&Ae(t,["googleMaps"],function(e){const t={};if(void 0!==Ie(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Ie(e,["enableWidget"]);return null!=n&&Ae(t,["enableWidget"],n),t}(o));const a=Ie(e,["googleSearch"]);null!=a&&Ae(t,["googleSearch"],function(e){const t={};if(void 0!==Ie(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Ie(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Ie(e,["timeRangeFilter"]);return null!=n&&Ae(t,["timeRangeFilter"],n),t}(a));const i=Ie(e,["googleSearchRetrieval"]);null!=i&&Ae(t,["googleSearchRetrieval"],i);const c=Ie(e,["urlContext"]);null!=c&&Ae(t,["urlContext"],c);return t}(Mr(e)))),Ae(t,["setup","tools"],e)}const h=Ie(e,["sessionResumption"]);void 0!==t&&null!=h&&Ae(t,["setup","sessionResumption"],function(e){const t={},n=Ie(e,["handle"]);null!=n&&Ae(t,["handle"],n);if(void 0!==Ie(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(h));const g=Ie(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&Ae(t,["setup","inputAudioTranscription"],g);const x=Ie(e,["outputAudioTranscription"]);void 0!==t&&null!=x&&Ae(t,["setup","outputAudioTranscription"],x);const b=Ie(e,["realtimeInputConfig"]);void 0!==t&&null!=b&&Ae(t,["setup","realtimeInputConfig"],b);const y=Ie(e,["contextWindowCompression"]);void 0!==t&&null!=y&&Ae(t,["setup","contextWindowCompression"],y);const v=Ie(e,["proactivity"]);if(void 0!==t&&null!=v&&Ae(t,["setup","proactivity"],v),void 0!==Ie(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return{}}function Ps(e,t){const n=Ie(e,["generationConfig"]);void 0!==t&&null!=n&&Ae(t,["setup","generationConfig"],function(e){const t={},n=Ie(e,["modelSelectionConfig"]);null!=n&&Ae(t,["modelConfig"],n);const r=Ie(e,["responseJsonSchema"]);null!=r&&Ae(t,["responseJsonSchema"],r);const s=Ie(e,["audioTimestamp"]);null!=s&&Ae(t,["audioTimestamp"],s);const l=Ie(e,["candidateCount"]);null!=l&&Ae(t,["candidateCount"],l);const o=Ie(e,["enableAffectiveDialog"]);null!=o&&Ae(t,["enableAffectiveDialog"],o);const a=Ie(e,["frequencyPenalty"]);null!=a&&Ae(t,["frequencyPenalty"],a);const i=Ie(e,["logprobs"]);null!=i&&Ae(t,["logprobs"],i);const c=Ie(e,["maxOutputTokens"]);null!=c&&Ae(t,["maxOutputTokens"],c);const u=Ie(e,["mediaResolution"]);null!=u&&Ae(t,["mediaResolution"],u);const d=Ie(e,["presencePenalty"]);null!=d&&Ae(t,["presencePenalty"],d);const p=Ie(e,["responseLogprobs"]);null!=p&&Ae(t,["responseLogprobs"],p);const f=Ie(e,["responseMimeType"]);null!=f&&Ae(t,["responseMimeType"],f);const m=Ie(e,["responseModalities"]);null!=m&&Ae(t,["responseModalities"],m);const h=Ie(e,["responseSchema"]);null!=h&&Ae(t,["responseSchema"],h);const g=Ie(e,["routingConfig"]);null!=g&&Ae(t,["routingConfig"],g);const x=Ie(e,["seed"]);null!=x&&Ae(t,["seed"],x);const b=Ie(e,["speechConfig"]);null!=b&&Ae(t,["speechConfig"],b);const y=Ie(e,["stopSequences"]);null!=y&&Ae(t,["stopSequences"],y);const v=Ie(e,["temperature"]);null!=v&&Ae(t,["temperature"],v);const w=Ie(e,["thinkingConfig"]);null!=w&&Ae(t,["thinkingConfig"],w);const N=Ie(e,["topK"]);null!=N&&Ae(t,["topK"],N);const S=Ie(e,["topP"]);if(null!=S&&Ae(t,["topP"],S),void 0!==Ie(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(n));const r=Ie(e,["responseModalities"]);void 0!==t&&null!=r&&Ae(t,["setup","generationConfig","responseModalities"],r);const s=Ie(e,["temperature"]);void 0!==t&&null!=s&&Ae(t,["setup","generationConfig","temperature"],s);const l=Ie(e,["topP"]);void 0!==t&&null!=l&&Ae(t,["setup","generationConfig","topP"],l);const o=Ie(e,["topK"]);void 0!==t&&null!=o&&Ae(t,["setup","generationConfig","topK"],o);const a=Ie(e,["maxOutputTokens"]);void 0!==t&&null!=a&&Ae(t,["setup","generationConfig","maxOutputTokens"],a);const i=Ie(e,["mediaResolution"]);void 0!==t&&null!=i&&Ae(t,["setup","generationConfig","mediaResolution"],i);const c=Ie(e,["seed"]);void 0!==t&&null!=c&&Ae(t,["setup","generationConfig","seed"],c);const u=Ie(e,["speechConfig"]);void 0!==t&&null!=u&&Ae(t,["setup","generationConfig","speechConfig"],Dr(u));const d=Ie(e,["thinkingConfig"]);void 0!==t&&null!=d&&Ae(t,["setup","generationConfig","thinkingConfig"],d);const p=Ie(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&Ae(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=Ie(e,["systemInstruction"]);void 0!==t&&null!=f&&Ae(t,["setup","systemInstruction"],Ir(f));const m=Ie(e,["tools"]);if(void 0!==t&&null!=m){let e=Lr(m);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["retrieval"]);null!=n&&Ae(t,["retrieval"],n);const r=Ie(e,["computerUse"]);null!=r&&Ae(t,["computerUse"],r);if(void 0!==Ie(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=Ie(e,["codeExecution"]);null!=s&&Ae(t,["codeExecution"],s);const l=Ie(e,["enterpriseWebSearch"]);null!=l&&Ae(t,["enterpriseWebSearch"],l);const o=Ie(e,["functionDeclarations"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["description"]);null!=n&&Ae(t,["description"],n);const r=Ie(e,["name"]);null!=r&&Ae(t,["name"],r);const s=Ie(e,["parameters"]);null!=s&&Ae(t,["parameters"],s);const l=Ie(e,["parametersJsonSchema"]);null!=l&&Ae(t,["parametersJsonSchema"],l);const o=Ie(e,["response"]);null!=o&&Ae(t,["response"],o);const a=Ie(e,["responseJsonSchema"]);if(null!=a&&Ae(t,["responseJsonSchema"],a),void 0!==Ie(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return t}(e))),Ae(t,["functionDeclarations"],e)}const a=Ie(e,["googleMaps"]);null!=a&&Ae(t,["googleMaps"],a);const i=Ie(e,["googleSearch"]);null!=i&&Ae(t,["googleSearch"],i);const c=Ie(e,["googleSearchRetrieval"]);null!=c&&Ae(t,["googleSearchRetrieval"],c);const u=Ie(e,["urlContext"]);null!=u&&Ae(t,["urlContext"],u);return t}(Mr(e)))),Ae(t,["setup","tools"],e)}const h=Ie(e,["sessionResumption"]);void 0!==t&&null!=h&&Ae(t,["setup","sessionResumption"],h);const g=Ie(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&Ae(t,["setup","inputAudioTranscription"],g);const x=Ie(e,["outputAudioTranscription"]);void 0!==t&&null!=x&&Ae(t,["setup","outputAudioTranscription"],x);const b=Ie(e,["realtimeInputConfig"]);void 0!==t&&null!=b&&Ae(t,["setup","realtimeInputConfig"],b);const y=Ie(e,["contextWindowCompression"]);void 0!==t&&null!=y&&Ae(t,["setup","contextWindowCompression"],y);const v=Ie(e,["proactivity"]);void 0!==t&&null!=v&&Ae(t,["setup","proactivity"],v);const w=Ie(e,["explicitVadSignal"]);return void 0!==t&&null!=w&&Ae(t,["setup","explicitVadSignal"],w),{}}function Rs(e){const t={},n=Ie(e,["media"]);if(null!=n){let e=vr(n);Array.isArray(e)&&(e=e.map(e=>Ts(e))),Ae(t,["mediaChunks"],e)}const r=Ie(e,["audio"]);null!=r&&Ae(t,["audio"],Ts(Sr(r)));const s=Ie(e,["audioStreamEnd"]);null!=s&&Ae(t,["audioStreamEnd"],s);const l=Ie(e,["video"]);null!=l&&Ae(t,["video"],Ts(Nr(l)));const o=Ie(e,["text"]);null!=o&&Ae(t,["text"],o);const a=Ie(e,["activityStart"]);null!=a&&Ae(t,["activityStart"],a);const i=Ie(e,["activityEnd"]);return null!=i&&Ae(t,["activityEnd"],i),t}function Ds(e){const t={},n=Ie(e,["media"]);if(null!=n){let e=vr(n);Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["mediaChunks"],e)}const r=Ie(e,["audio"]);null!=r&&Ae(t,["audio"],Sr(r));const s=Ie(e,["audioStreamEnd"]);null!=s&&Ae(t,["audioStreamEnd"],s);const l=Ie(e,["video"]);null!=l&&Ae(t,["video"],Nr(l));const o=Ie(e,["text"]);null!=o&&Ae(t,["text"],o);const a=Ie(e,["activityStart"]);null!=a&&Ae(t,["activityStart"],a);const i=Ie(e,["activityEnd"]);return null!=i&&Ae(t,["activityEnd"],i),t}function Ms(e){const t={},n=Ie(e,["setupComplete"]);null!=n&&Ae(t,["setupComplete"],n);const r=Ie(e,["serverContent"]);null!=r&&Ae(t,["serverContent"],r);const s=Ie(e,["toolCall"]);null!=s&&Ae(t,["toolCall"],s);const l=Ie(e,["toolCallCancellation"]);null!=l&&Ae(t,["toolCallCancellation"],l);const o=Ie(e,["usageMetadata"]);null!=o&&Ae(t,["usageMetadata"],function(e){const t={},n=Ie(e,["promptTokenCount"]);null!=n&&Ae(t,["promptTokenCount"],n);const r=Ie(e,["cachedContentTokenCount"]);null!=r&&Ae(t,["cachedContentTokenCount"],r);const s=Ie(e,["candidatesTokenCount"]);null!=s&&Ae(t,["responseTokenCount"],s);const l=Ie(e,["toolUsePromptTokenCount"]);null!=l&&Ae(t,["toolUsePromptTokenCount"],l);const o=Ie(e,["thoughtsTokenCount"]);null!=o&&Ae(t,["thoughtsTokenCount"],o);const a=Ie(e,["totalTokenCount"]);null!=a&&Ae(t,["totalTokenCount"],a);const i=Ie(e,["promptTokensDetails"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["promptTokensDetails"],e)}const c=Ie(e,["cacheTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["cacheTokensDetails"],e)}const u=Ie(e,["candidatesTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["responseTokensDetails"],e)}const d=Ie(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["toolUsePromptTokensDetails"],e)}const p=Ie(e,["trafficType"]);null!=p&&Ae(t,["trafficType"],p);return t}(o));const a=Ie(e,["goAway"]);null!=a&&Ae(t,["goAway"],a);const i=Ie(e,["sessionResumptionUpdate"]);null!=i&&Ae(t,["sessionResumptionUpdate"],i);const c=Ie(e,["voiceActivityDetectionSignal"]);null!=c&&Ae(t,["voiceActivityDetectionSignal"],c);const u=Ie(e,["voiceActivity"]);return null!=u&&Ae(t,["voiceActivity"],function(e){const t={},n=Ie(e,["type"]);null!=n&&Ae(t,["voiceActivityType"],n);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(u)),t}function Ls(e){const t={},n=Ie(e,["content"]);null!=n&&Ae(t,["content"],n);const r=Ie(e,["citationMetadata"]);null!=r&&Ae(t,["citationMetadata"],function(e){const t={},n=Ie(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["citations"],e)}return t}(r));const s=Ie(e,["tokenCount"]);null!=s&&Ae(t,["tokenCount"],s);const l=Ie(e,["finishReason"]);null!=l&&Ae(t,["finishReason"],l);const o=Ie(e,["avgLogprobs"]);null!=o&&Ae(t,["avgLogprobs"],o);const a=Ie(e,["groundingMetadata"]);null!=a&&Ae(t,["groundingMetadata"],a);const i=Ie(e,["index"]);null!=i&&Ae(t,["index"],i);const c=Ie(e,["logprobsResult"]);null!=c&&Ae(t,["logprobsResult"],c);const u=Ie(e,["safetyRatings"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["safetyRatings"],e)}const d=Ie(e,["urlContextMetadata"]);return null!=d&&Ae(t,["urlContextMetadata"],d),t}function Us(e){const t={},n=Ie(e,["values"]);null!=n&&Ae(t,["values"],n);const r=Ie(e,["statistics"]);return null!=r&&Ae(t,["statistics"],function(e){const t={},n=Ie(e,["truncated"]);null!=n&&Ae(t,["truncated"],n);const r=Ie(e,["token_count"]);null!=r&&Ae(t,["tokenCount"],r);return t}(r)),t}function Fs(e){const t={},n=Ie(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["mediaResolution"]);null!=n&&Ae(t,["mediaResolution"],n);const r=Ie(e,["codeExecutionResult"]);null!=r&&Ae(t,["codeExecutionResult"],r);const s=Ie(e,["executableCode"]);null!=s&&Ae(t,["executableCode"],s);const l=Ie(e,["fileData"]);null!=l&&Ae(t,["fileData"],function(e){const t={};if(void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Ie(e,["fileUri"]);null!=n&&Ae(t,["fileUri"],n);const r=Ie(e,["mimeType"]);null!=r&&Ae(t,["mimeType"],r);return t}(l));const o=Ie(e,["functionCall"]);null!=o&&Ae(t,["functionCall"],function(e){const t={},n=Ie(e,["id"]);null!=n&&Ae(t,["id"],n);const r=Ie(e,["args"]);null!=r&&Ae(t,["args"],r);const s=Ie(e,["name"]);null!=s&&Ae(t,["name"],s);if(void 0!==Ie(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Ie(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(o));const a=Ie(e,["functionResponse"]);null!=a&&Ae(t,["functionResponse"],a);const i=Ie(e,["inlineData"]);null!=i&&Ae(t,["inlineData"],function(e){const t={},n=Ie(e,["data"]);if(null!=n&&Ae(t,["data"],n),void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Ie(e,["mimeType"]);return null!=r&&Ae(t,["mimeType"],r),t}(i));const c=Ie(e,["text"]);null!=c&&Ae(t,["text"],c);const u=Ie(e,["thought"]);null!=u&&Ae(t,["thought"],u);const d=Ie(e,["thoughtSignature"]);null!=d&&Ae(t,["thoughtSignature"],d);const p=Ie(e,["videoMetadata"]);null!=p&&Ae(t,["videoMetadata"],p);return t}(e))),Ae(t,["parts"],e)}const r=Ie(e,["role"]);return null!=r&&Ae(t,["role"],r),t}function zs(e,t){const n=Ie(e,["systemInstruction"]);void 0!==t&&null!=n&&Ae(t,["systemInstruction"],Ir(n));const r=Ie(e,["tools"]);if(void 0!==t&&null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>yl(e))),Ae(t,["tools"],e)}const s=Ie(e,["generationConfig"]);return void 0!==t&&null!=s&&Ae(t,["generationConfig"],function(e){const t={},n=Ie(e,["modelSelectionConfig"]);null!=n&&Ae(t,["modelConfig"],n);const r=Ie(e,["responseJsonSchema"]);null!=r&&Ae(t,["responseJsonSchema"],r);const s=Ie(e,["audioTimestamp"]);null!=s&&Ae(t,["audioTimestamp"],s);const l=Ie(e,["candidateCount"]);null!=l&&Ae(t,["candidateCount"],l);const o=Ie(e,["enableAffectiveDialog"]);null!=o&&Ae(t,["enableAffectiveDialog"],o);const a=Ie(e,["frequencyPenalty"]);null!=a&&Ae(t,["frequencyPenalty"],a);const i=Ie(e,["logprobs"]);null!=i&&Ae(t,["logprobs"],i);const c=Ie(e,["maxOutputTokens"]);null!=c&&Ae(t,["maxOutputTokens"],c);const u=Ie(e,["mediaResolution"]);null!=u&&Ae(t,["mediaResolution"],u);const d=Ie(e,["presencePenalty"]);null!=d&&Ae(t,["presencePenalty"],d);const p=Ie(e,["responseLogprobs"]);null!=p&&Ae(t,["responseLogprobs"],p);const f=Ie(e,["responseMimeType"]);null!=f&&Ae(t,["responseMimeType"],f);const m=Ie(e,["responseModalities"]);null!=m&&Ae(t,["responseModalities"],m);const h=Ie(e,["responseSchema"]);null!=h&&Ae(t,["responseSchema"],h);const g=Ie(e,["routingConfig"]);null!=g&&Ae(t,["routingConfig"],g);const x=Ie(e,["seed"]);null!=x&&Ae(t,["seed"],x);const b=Ie(e,["speechConfig"]);null!=b&&Ae(t,["speechConfig"],b);const y=Ie(e,["stopSequences"]);null!=y&&Ae(t,["stopSequences"],y);const v=Ie(e,["temperature"]);null!=v&&Ae(t,["temperature"],v);const w=Ie(e,["thinkingConfig"]);null!=w&&Ae(t,["thinkingConfig"],w);const N=Ie(e,["topK"]);null!=N&&Ae(t,["topK"],N);const S=Ie(e,["topP"]);null!=S&&Ae(t,["topP"],S);if(void 0!==Ie(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(s)),{}}function qs(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["contents"]);if(null!=s){let e=_r(s);Array.isArray(e)&&(e=e.map(e=>Fs(e))),Ae(n,["contents"],e)}const l=Ie(t,["config"]);return null!=l&&function(e){if(void 0!==Ie(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==Ie(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==Ie(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.")}(l),n}function Gs(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["prompt"]);null!=s&&Ae(n,["instances[0]","prompt"],s);const l=Ie(t,["referenceImages"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["referenceImage"]);null!=n&&Ae(t,["referenceImage"],cl(n));const r=Ie(e,["referenceId"]);null!=r&&Ae(t,["referenceId"],r);const s=Ie(e,["referenceType"]);null!=s&&Ae(t,["referenceType"],s);const l=Ie(e,["maskImageConfig"]);null!=l&&Ae(t,["maskImageConfig"],function(e){const t={},n=Ie(e,["maskMode"]);null!=n&&Ae(t,["maskMode"],n);const r=Ie(e,["segmentationClasses"]);null!=r&&Ae(t,["maskClasses"],r);const s=Ie(e,["maskDilation"]);null!=s&&Ae(t,["dilation"],s);return t}(l));const o=Ie(e,["controlImageConfig"]);null!=o&&Ae(t,["controlImageConfig"],function(e){const t={},n=Ie(e,["controlType"]);null!=n&&Ae(t,["controlType"],n);const r=Ie(e,["enableControlImageComputation"]);return null!=r&&Ae(t,["computeControl"],r),t}(o));const a=Ie(e,["styleImageConfig"]);null!=a&&Ae(t,["styleImageConfig"],a);const i=Ie(e,["subjectImageConfig"]);null!=i&&Ae(t,["subjectImageConfig"],i);return t}(e))),Ae(n,["instances[0]","referenceImages"],e)}const o=Ie(t,["config"]);return null!=o&&function(e,t){const n=Ie(e,["outputGcsUri"]);void 0!==t&&null!=n&&Ae(t,["parameters","storageUri"],n);const r=Ie(e,["negativePrompt"]);void 0!==t&&null!=r&&Ae(t,["parameters","negativePrompt"],r);const s=Ie(e,["numberOfImages"]);void 0!==t&&null!=s&&Ae(t,["parameters","sampleCount"],s);const l=Ie(e,["aspectRatio"]);void 0!==t&&null!=l&&Ae(t,["parameters","aspectRatio"],l);const o=Ie(e,["guidanceScale"]);void 0!==t&&null!=o&&Ae(t,["parameters","guidanceScale"],o);const a=Ie(e,["seed"]);void 0!==t&&null!=a&&Ae(t,["parameters","seed"],a);const i=Ie(e,["safetyFilterLevel"]);void 0!==t&&null!=i&&Ae(t,["parameters","safetySetting"],i);const c=Ie(e,["personGeneration"]);void 0!==t&&null!=c&&Ae(t,["parameters","personGeneration"],c);const u=Ie(e,["includeSafetyAttributes"]);void 0!==t&&null!=u&&Ae(t,["parameters","includeSafetyAttributes"],u);const d=Ie(e,["includeRaiReason"]);void 0!==t&&null!=d&&Ae(t,["parameters","includeRaiReason"],d);const p=Ie(e,["language"]);void 0!==t&&null!=p&&Ae(t,["parameters","language"],p);const f=Ie(e,["outputMimeType"]);void 0!==t&&null!=f&&Ae(t,["parameters","outputOptions","mimeType"],f);const m=Ie(e,["outputCompressionQuality"]);void 0!==t&&null!=m&&Ae(t,["parameters","outputOptions","compressionQuality"],m);const h=Ie(e,["addWatermark"]);void 0!==t&&null!=h&&Ae(t,["parameters","addWatermark"],h);const g=Ie(e,["labels"]);void 0!==t&&null!=g&&Ae(t,["labels"],g);const x=Ie(e,["editMode"]);void 0!==t&&null!=x&&Ae(t,["parameters","editMode"],x);const b=Ie(e,["baseSteps"]);void 0!==t&&null!=b&&Ae(t,["parameters","editConfig","baseSteps"],b)}(o,n),n}function Hs(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["contents"]);if(null!=s){let t=Tr(e,s);Array.isArray(t)&&(t=t.map(e=>e)),Ae(n,["requests[]","content"],t)}const l=Ie(t,["config"]);null!=l&&function(e,t){const n=Ie(e,["taskType"]);void 0!==t&&null!=n&&Ae(t,["requests[]","taskType"],n);const r=Ie(e,["title"]);void 0!==t&&null!=r&&Ae(t,["requests[]","title"],r);const s=Ie(e,["outputDimensionality"]);if(void 0!==t&&null!=s&&Ae(t,["requests[]","outputDimensionality"],s),void 0!==Ie(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==Ie(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.")}(l,n);const o=Ie(t,["model"]);return void 0!==o&&Ae(n,["requests[]","model"],br(e,o)),n}function Vs(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["contents"]);if(null!=s){let t=Tr(e,s);Array.isArray(t)&&(t=t.map(e=>e)),Ae(n,["instances[]","content"],t)}const l=Ie(t,["config"]);return null!=l&&function(e,t){const n=Ie(e,["taskType"]);void 0!==t&&null!=n&&Ae(t,["instances[]","task_type"],n);const r=Ie(e,["title"]);void 0!==t&&null!=r&&Ae(t,["instances[]","title"],r);const s=Ie(e,["outputDimensionality"]);void 0!==t&&null!=s&&Ae(t,["parameters","outputDimensionality"],s);const l=Ie(e,["mimeType"]);void 0!==t&&null!=l&&Ae(t,["instances[]","mimeType"],l);const o=Ie(e,["autoTruncate"]);void 0!==t&&null!=o&&Ae(t,["parameters","autoTruncate"],o)}(l,n),n}function Bs(e,t,n){const r={},s=Ie(t,["systemInstruction"]);void 0!==n&&null!=s&&Ae(n,["systemInstruction"],Fs(Ir(s)));const l=Ie(t,["temperature"]);null!=l&&Ae(r,["temperature"],l);const o=Ie(t,["topP"]);null!=o&&Ae(r,["topP"],o);const a=Ie(t,["topK"]);null!=a&&Ae(r,["topK"],a);const i=Ie(t,["candidateCount"]);null!=i&&Ae(r,["candidateCount"],i);const c=Ie(t,["maxOutputTokens"]);null!=c&&Ae(r,["maxOutputTokens"],c);const u=Ie(t,["stopSequences"]);null!=u&&Ae(r,["stopSequences"],u);const d=Ie(t,["responseLogprobs"]);null!=d&&Ae(r,["responseLogprobs"],d);const p=Ie(t,["logprobs"]);null!=p&&Ae(r,["logprobs"],p);const f=Ie(t,["presencePenalty"]);null!=f&&Ae(r,["presencePenalty"],f);const m=Ie(t,["frequencyPenalty"]);null!=m&&Ae(r,["frequencyPenalty"],m);const h=Ie(t,["seed"]);null!=h&&Ae(r,["seed"],h);const g=Ie(t,["responseMimeType"]);null!=g&&Ae(r,["responseMimeType"],g);const x=Ie(t,["responseSchema"]);null!=x&&Ae(r,["responseSchema"],Pr(x));const b=Ie(t,["responseJsonSchema"]);if(null!=b&&Ae(r,["responseJsonSchema"],b),void 0!==Ie(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==Ie(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=Ie(t,["safetySettings"]);if(void 0!==n&&null!=y){let e=y;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["category"]);null!=n&&Ae(t,["category"],n);if(void 0!==Ie(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=Ie(e,["threshold"]);null!=r&&Ae(t,["threshold"],r);return t}(e))),Ae(n,["safetySettings"],e)}const v=Ie(t,["tools"]);if(void 0!==n&&null!=v){let e=Lr(v);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Ie(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=Ie(e,["computerUse"]);null!=n&&Ae(t,["computerUse"],n);const r=Ie(e,["fileSearch"]);null!=r&&Ae(t,["fileSearch"],r);const s=Ie(e,["codeExecution"]);null!=s&&Ae(t,["codeExecution"],s);if(void 0!==Ie(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=Ie(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["functionDeclarations"],e)}const o=Ie(e,["googleMaps"]);null!=o&&Ae(t,["googleMaps"],function(e){const t={};if(void 0!==Ie(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Ie(e,["enableWidget"]);null!=n&&Ae(t,["enableWidget"],n);return t}(o));const a=Ie(e,["googleSearch"]);null!=a&&Ae(t,["googleSearch"],function(e){const t={};if(void 0!==Ie(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Ie(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Ie(e,["timeRangeFilter"]);null!=n&&Ae(t,["timeRangeFilter"],n);return t}(a));const i=Ie(e,["googleSearchRetrieval"]);null!=i&&Ae(t,["googleSearchRetrieval"],i);const c=Ie(e,["urlContext"]);null!=c&&Ae(t,["urlContext"],c);return t}(Mr(e)))),Ae(n,["tools"],e)}const w=Ie(t,["toolConfig"]);if(void 0!==n&&null!=w&&Ae(n,["toolConfig"],function(e){const t={},n=Ie(e,["retrievalConfig"]);null!=n&&Ae(t,["retrievalConfig"],n);const r=Ie(e,["functionCallingConfig"]);null!=r&&Ae(t,["functionCallingConfig"],function(e){const t={},n=Ie(e,["allowedFunctionNames"]);null!=n&&Ae(t,["allowedFunctionNames"],n);const r=Ie(e,["mode"]);if(null!=r&&Ae(t,["mode"],r),void 0!==Ie(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(r));return t}(w)),void 0!==Ie(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const N=Ie(t,["cachedContent"]);void 0!==n&&null!=N&&Ae(n,["cachedContent"],Ur(e,N));const S=Ie(t,["responseModalities"]);null!=S&&Ae(r,["responseModalities"],S);const E=Ie(t,["mediaResolution"]);null!=E&&Ae(r,["mediaResolution"],E);const C=Ie(t,["speechConfig"]);if(null!=C&&Ae(r,["speechConfig"],Rr(C)),void 0!==Ie(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=Ie(t,["thinkingConfig"]);null!=j&&Ae(r,["thinkingConfig"],j);const k=Ie(t,["imageConfig"]);null!=k&&Ae(r,["imageConfig"],function(e){const t={},n=Ie(e,["aspectRatio"]);null!=n&&Ae(t,["aspectRatio"],n);const r=Ie(e,["imageSize"]);null!=r&&Ae(t,["imageSize"],r);if(void 0!==Ie(e,["personGeneration"]))throw new Error("personGeneration parameter is not supported in Gemini API.");if(void 0!==Ie(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==Ie(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(k));const A=Ie(t,["enableEnhancedCivicAnswers"]);if(null!=A&&Ae(r,["enableEnhancedCivicAnswers"],A),void 0!==Ie(t,["modelArmorConfig"]))throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function $s(e,t,n){const r={},s=Ie(t,["systemInstruction"]);void 0!==n&&null!=s&&Ae(n,["systemInstruction"],Ir(s));const l=Ie(t,["temperature"]);null!=l&&Ae(r,["temperature"],l);const o=Ie(t,["topP"]);null!=o&&Ae(r,["topP"],o);const a=Ie(t,["topK"]);null!=a&&Ae(r,["topK"],a);const i=Ie(t,["candidateCount"]);null!=i&&Ae(r,["candidateCount"],i);const c=Ie(t,["maxOutputTokens"]);null!=c&&Ae(r,["maxOutputTokens"],c);const u=Ie(t,["stopSequences"]);null!=u&&Ae(r,["stopSequences"],u);const d=Ie(t,["responseLogprobs"]);null!=d&&Ae(r,["responseLogprobs"],d);const p=Ie(t,["logprobs"]);null!=p&&Ae(r,["logprobs"],p);const f=Ie(t,["presencePenalty"]);null!=f&&Ae(r,["presencePenalty"],f);const m=Ie(t,["frequencyPenalty"]);null!=m&&Ae(r,["frequencyPenalty"],m);const h=Ie(t,["seed"]);null!=h&&Ae(r,["seed"],h);const g=Ie(t,["responseMimeType"]);null!=g&&Ae(r,["responseMimeType"],g);const x=Ie(t,["responseSchema"]);null!=x&&Ae(r,["responseSchema"],Pr(x));const b=Ie(t,["responseJsonSchema"]);null!=b&&Ae(r,["responseJsonSchema"],b);const y=Ie(t,["routingConfig"]);null!=y&&Ae(r,["routingConfig"],y);const v=Ie(t,["modelSelectionConfig"]);null!=v&&Ae(r,["modelConfig"],v);const w=Ie(t,["safetySettings"]);if(void 0!==n&&null!=w){let e=w;Array.isArray(e)&&(e=e.map(e=>e)),Ae(n,["safetySettings"],e)}const N=Ie(t,["tools"]);if(void 0!==n&&null!=N){let e=Lr(N);Array.isArray(e)&&(e=e.map(e=>yl(Mr(e)))),Ae(n,["tools"],e)}const S=Ie(t,["toolConfig"]);void 0!==n&&null!=S&&Ae(n,["toolConfig"],S);const E=Ie(t,["labels"]);void 0!==n&&null!=E&&Ae(n,["labels"],E);const C=Ie(t,["cachedContent"]);void 0!==n&&null!=C&&Ae(n,["cachedContent"],Ur(e,C));const j=Ie(t,["responseModalities"]);null!=j&&Ae(r,["responseModalities"],j);const k=Ie(t,["mediaResolution"]);null!=k&&Ae(r,["mediaResolution"],k);const A=Ie(t,["speechConfig"]);null!=A&&Ae(r,["speechConfig"],Rr(A));const I=Ie(t,["audioTimestamp"]);null!=I&&Ae(r,["audioTimestamp"],I);const T=Ie(t,["thinkingConfig"]);null!=T&&Ae(r,["thinkingConfig"],T);const _=Ie(t,["imageConfig"]);if(null!=_&&Ae(r,["imageConfig"],function(e){const t={},n=Ie(e,["aspectRatio"]);null!=n&&Ae(t,["aspectRatio"],n);const r=Ie(e,["imageSize"]);null!=r&&Ae(t,["imageSize"],r);const s=Ie(e,["personGeneration"]);null!=s&&Ae(t,["personGeneration"],s);const l=Ie(e,["outputMimeType"]);null!=l&&Ae(t,["imageOutputOptions","mimeType"],l);const o=Ie(e,["outputCompressionQuality"]);null!=o&&Ae(t,["imageOutputOptions","compressionQuality"],o);return t}(_)),void 0!==Ie(t,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const O=Ie(t,["modelArmorConfig"]);return void 0!==n&&null!=O&&Ae(n,["modelArmorConfig"],O),r}function Js(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["contents"]);if(null!=s){let e=_r(s);Array.isArray(e)&&(e=e.map(e=>Fs(e))),Ae(n,["contents"],e)}const l=Ie(t,["config"]);return null!=l&&Ae(n,["generationConfig"],Bs(e,l,n)),n}function Ws(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["contents"]);if(null!=s){let e=_r(s);Array.isArray(e)&&(e=e.map(e=>e)),Ae(n,["contents"],e)}const l=Ie(t,["config"]);return null!=l&&Ae(n,["generationConfig"],$s(e,l,n)),n}function Ys(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Ls(e))),Ae(t,["candidates"],e)}const s=Ie(e,["modelVersion"]);null!=s&&Ae(t,["modelVersion"],s);const l=Ie(e,["promptFeedback"]);null!=l&&Ae(t,["promptFeedback"],l);const o=Ie(e,["responseId"]);null!=o&&Ae(t,["responseId"],o);const a=Ie(e,["usageMetadata"]);return null!=a&&Ae(t,["usageMetadata"],a),t}function Ks(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["candidates"],e)}const s=Ie(e,["createTime"]);null!=s&&Ae(t,["createTime"],s);const l=Ie(e,["modelVersion"]);null!=l&&Ae(t,["modelVersion"],l);const o=Ie(e,["promptFeedback"]);null!=o&&Ae(t,["promptFeedback"],o);const a=Ie(e,["responseId"]);null!=a&&Ae(t,["responseId"],a);const i=Ie(e,["usageMetadata"]);return null!=i&&Ae(t,["usageMetadata"],i),t}function Xs(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["prompt"]);null!=s&&Ae(n,["instances[0]","prompt"],s);const l=Ie(t,["config"]);return null!=l&&function(e,t){if(void 0!==Ie(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==Ie(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=Ie(e,["numberOfImages"]);void 0!==t&&null!=n&&Ae(t,["parameters","sampleCount"],n);const r=Ie(e,["aspectRatio"]);void 0!==t&&null!=r&&Ae(t,["parameters","aspectRatio"],r);const s=Ie(e,["guidanceScale"]);if(void 0!==t&&null!=s&&Ae(t,["parameters","guidanceScale"],s),void 0!==Ie(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const l=Ie(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&Ae(t,["parameters","safetySetting"],l);const o=Ie(e,["personGeneration"]);void 0!==t&&null!=o&&Ae(t,["parameters","personGeneration"],o);const a=Ie(e,["includeSafetyAttributes"]);void 0!==t&&null!=a&&Ae(t,["parameters","includeSafetyAttributes"],a);const i=Ie(e,["includeRaiReason"]);void 0!==t&&null!=i&&Ae(t,["parameters","includeRaiReason"],i);const c=Ie(e,["language"]);void 0!==t&&null!=c&&Ae(t,["parameters","language"],c);const u=Ie(e,["outputMimeType"]);void 0!==t&&null!=u&&Ae(t,["parameters","outputOptions","mimeType"],u);const d=Ie(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&Ae(t,["parameters","outputOptions","compressionQuality"],d),void 0!==Ie(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==Ie(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const p=Ie(e,["imageSize"]);if(void 0!==t&&null!=p&&Ae(t,["parameters","sampleImageSize"],p),void 0!==Ie(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.")}(l,n),n}function Qs(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["prompt"]);null!=s&&Ae(n,["instances[0]","prompt"],s);const l=Ie(t,["config"]);return null!=l&&function(e,t){const n=Ie(e,["outputGcsUri"]);void 0!==t&&null!=n&&Ae(t,["parameters","storageUri"],n);const r=Ie(e,["negativePrompt"]);void 0!==t&&null!=r&&Ae(t,["parameters","negativePrompt"],r);const s=Ie(e,["numberOfImages"]);void 0!==t&&null!=s&&Ae(t,["parameters","sampleCount"],s);const l=Ie(e,["aspectRatio"]);void 0!==t&&null!=l&&Ae(t,["parameters","aspectRatio"],l);const o=Ie(e,["guidanceScale"]);void 0!==t&&null!=o&&Ae(t,["parameters","guidanceScale"],o);const a=Ie(e,["seed"]);void 0!==t&&null!=a&&Ae(t,["parameters","seed"],a);const i=Ie(e,["safetyFilterLevel"]);void 0!==t&&null!=i&&Ae(t,["parameters","safetySetting"],i);const c=Ie(e,["personGeneration"]);void 0!==t&&null!=c&&Ae(t,["parameters","personGeneration"],c);const u=Ie(e,["includeSafetyAttributes"]);void 0!==t&&null!=u&&Ae(t,["parameters","includeSafetyAttributes"],u);const d=Ie(e,["includeRaiReason"]);void 0!==t&&null!=d&&Ae(t,["parameters","includeRaiReason"],d);const p=Ie(e,["language"]);void 0!==t&&null!=p&&Ae(t,["parameters","language"],p);const f=Ie(e,["outputMimeType"]);void 0!==t&&null!=f&&Ae(t,["parameters","outputOptions","mimeType"],f);const m=Ie(e,["outputCompressionQuality"]);void 0!==t&&null!=m&&Ae(t,["parameters","outputOptions","compressionQuality"],m);const h=Ie(e,["addWatermark"]);void 0!==t&&null!=h&&Ae(t,["parameters","addWatermark"],h);const g=Ie(e,["labels"]);void 0!==t&&null!=g&&Ae(t,["labels"],g);const x=Ie(e,["imageSize"]);void 0!==t&&null!=x&&Ae(t,["parameters","sampleImageSize"],x);const b=Ie(e,["enhancePrompt"]);void 0!==t&&null!=b&&Ae(t,["parameters","enhancePrompt"],b)}(l,n),n}function Zs(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["_self"]);null!=n&&Ae(t,["image"],function(e){const t={},n=Ie(e,["bytesBase64Encoded"]);null!=n&&Ae(t,["imageBytes"],zr(n));const r=Ie(e,["mimeType"]);null!=r&&Ae(t,["mimeType"],r);return t}(n));const r=Ie(e,["raiFilteredReason"]);null!=r&&Ae(t,["raiFilteredReason"],r);const s=Ie(e,["_self"]);null!=s&&Ae(t,["safetyAttributes"],hl(s));return t}(e))),Ae(t,["generatedImages"],e)}const s=Ie(e,["positivePromptSafetyAttributes"]);return null!=s&&Ae(t,["positivePromptSafetyAttributes"],hl(s)),t}function el(e,t){const n=Ie(e,["numberOfVideos"]);if(void 0!==t&&null!=n&&Ae(t,["parameters","sampleCount"],n),void 0!==Ie(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==Ie(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const r=Ie(e,["durationSeconds"]);if(void 0!==t&&null!=r&&Ae(t,["parameters","durationSeconds"],r),void 0!==Ie(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const s=Ie(e,["aspectRatio"]);void 0!==t&&null!=s&&Ae(t,["parameters","aspectRatio"],s);const l=Ie(e,["resolution"]);void 0!==t&&null!=l&&Ae(t,["parameters","resolution"],l);const o=Ie(e,["personGeneration"]);if(void 0!==t&&null!=o&&Ae(t,["parameters","personGeneration"],o),void 0!==Ie(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=Ie(e,["negativePrompt"]);void 0!==t&&null!=a&&Ae(t,["parameters","negativePrompt"],a);const i=Ie(e,["enhancePrompt"]);if(void 0!==t&&null!=i&&Ae(t,["parameters","enhancePrompt"],i),void 0!==Ie(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");const c=Ie(e,["lastFrame"]);void 0!==t&&null!=c&&Ae(t,["instances[0]","lastFrame"],il(c));const u=Ie(e,["referenceImages"]);if(void 0!==t&&null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["image"]);null!=n&&Ae(t,["image"],il(n));const r=Ie(e,["referenceType"]);null!=r&&Ae(t,["referenceType"],r);return t}(e))),Ae(t,["instances[0]","referenceImages"],e)}if(void 0!==Ie(e,["mask"]))throw new Error("mask parameter is not supported in Gemini API.");if(void 0!==Ie(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}function tl(e,t){const n=Ie(e,["numberOfVideos"]);void 0!==t&&null!=n&&Ae(t,["parameters","sampleCount"],n);const r=Ie(e,["outputGcsUri"]);void 0!==t&&null!=r&&Ae(t,["parameters","storageUri"],r);const s=Ie(e,["fps"]);void 0!==t&&null!=s&&Ae(t,["parameters","fps"],s);const l=Ie(e,["durationSeconds"]);void 0!==t&&null!=l&&Ae(t,["parameters","durationSeconds"],l);const o=Ie(e,["seed"]);void 0!==t&&null!=o&&Ae(t,["parameters","seed"],o);const a=Ie(e,["aspectRatio"]);void 0!==t&&null!=a&&Ae(t,["parameters","aspectRatio"],a);const i=Ie(e,["resolution"]);void 0!==t&&null!=i&&Ae(t,["parameters","resolution"],i);const c=Ie(e,["personGeneration"]);void 0!==t&&null!=c&&Ae(t,["parameters","personGeneration"],c);const u=Ie(e,["pubsubTopic"]);void 0!==t&&null!=u&&Ae(t,["parameters","pubsubTopic"],u);const d=Ie(e,["negativePrompt"]);void 0!==t&&null!=d&&Ae(t,["parameters","negativePrompt"],d);const p=Ie(e,["enhancePrompt"]);void 0!==t&&null!=p&&Ae(t,["parameters","enhancePrompt"],p);const f=Ie(e,["generateAudio"]);void 0!==t&&null!=f&&Ae(t,["parameters","generateAudio"],f);const m=Ie(e,["lastFrame"]);void 0!==t&&null!=m&&Ae(t,["instances[0]","lastFrame"],cl(m));const h=Ie(e,["referenceImages"]);if(void 0!==t&&null!=h){let e=h;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["image"]);null!=n&&Ae(t,["image"],cl(n));const r=Ie(e,["referenceType"]);null!=r&&Ae(t,["referenceType"],r);return t}(e))),Ae(t,["instances[0]","referenceImages"],e)}const g=Ie(e,["mask"]);void 0!==t&&null!=g&&Ae(t,["instances[0]","mask"],function(e){const t={},n=Ie(e,["image"]);null!=n&&Ae(t,["_self"],cl(n));const r=Ie(e,["maskMode"]);null!=r&&Ae(t,["maskMode"],r);return t}(g));const x=Ie(e,["compressionQuality"]);return void 0!==t&&null!=x&&Ae(t,["parameters","compressionQuality"],x),{}}function nl(e){const t={},n=Ie(e,["name"]);null!=n&&Ae(t,["name"],n);const r=Ie(e,["metadata"]);null!=r&&Ae(t,["metadata"],r);const s=Ie(e,["done"]);null!=s&&Ae(t,["done"],s);const l=Ie(e,["error"]);null!=l&&Ae(t,["error"],l);const o=Ie(e,["response","generateVideoResponse"]);return null!=o&&Ae(t,["response"],function(e){const t={},n=Ie(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["video"]);null!=n&&Ae(t,["video"],function(e){const t={},n=Ie(e,["uri"]);null!=n&&Ae(t,["uri"],n);const r=Ie(e,["encodedVideo"]);null!=r&&Ae(t,["videoBytes"],zr(r));const s=Ie(e,["encoding"]);null!=s&&Ae(t,["mimeType"],s);return t}(n));return t}(e))),Ae(t,["generatedVideos"],e)}const r=Ie(e,["raiMediaFilteredCount"]);null!=r&&Ae(t,["raiMediaFilteredCount"],r);const s=Ie(e,["raiMediaFilteredReasons"]);null!=s&&Ae(t,["raiMediaFilteredReasons"],s);return t}(o)),t}function rl(e){const t={},n=Ie(e,["name"]);null!=n&&Ae(t,["name"],n);const r=Ie(e,["metadata"]);null!=r&&Ae(t,["metadata"],r);const s=Ie(e,["done"]);null!=s&&Ae(t,["done"],s);const l=Ie(e,["error"]);null!=l&&Ae(t,["error"],l);const o=Ie(e,["response"]);return null!=o&&Ae(t,["response"],function(e){const t={},n=Ie(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["_self"]);null!=n&&Ae(t,["video"],function(e){const t={},n=Ie(e,["gcsUri"]);null!=n&&Ae(t,["uri"],n);const r=Ie(e,["bytesBase64Encoded"]);null!=r&&Ae(t,["videoBytes"],zr(r));const s=Ie(e,["mimeType"]);null!=s&&Ae(t,["mimeType"],s);return t}(n));return t}(e))),Ae(t,["generatedVideos"],e)}const r=Ie(e,["raiMediaFilteredCount"]);null!=r&&Ae(t,["raiMediaFilteredCount"],r);const s=Ie(e,["raiMediaFilteredReasons"]);null!=s&&Ae(t,["raiMediaFilteredReasons"],s);return t}(o)),t}function sl(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["prompt"]);null!=s&&Ae(n,["instances[0]","prompt"],s);const l=Ie(t,["image"]);null!=l&&Ae(n,["instances[0]","image"],il(l));const o=Ie(t,["video"]);null!=o&&Ae(n,["instances[0]","video"],Sl(o));const a=Ie(t,["source"]);null!=a&&function(e,t){const n={},r=Ie(e,["prompt"]);void 0!==t&&null!=r&&Ae(t,["instances[0]","prompt"],r);const s=Ie(e,["image"]);void 0!==t&&null!=s&&Ae(t,["instances[0]","image"],il(s));const l=Ie(e,["video"]);void 0!==t&&null!=l&&Ae(t,["instances[0]","video"],Sl(l))}(a,n);const i=Ie(t,["config"]);return null!=i&&el(i,n),n}function ll(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["prompt"]);null!=s&&Ae(n,["instances[0]","prompt"],s);const l=Ie(t,["image"]);null!=l&&Ae(n,["instances[0]","image"],cl(l));const o=Ie(t,["video"]);null!=o&&Ae(n,["instances[0]","video"],El(o));const a=Ie(t,["source"]);null!=a&&function(e,t){const n={},r=Ie(e,["prompt"]);void 0!==t&&null!=r&&Ae(t,["instances[0]","prompt"],r);const s=Ie(e,["image"]);void 0!==t&&null!=s&&Ae(t,["instances[0]","image"],cl(s));const l=Ie(e,["video"]);void 0!==t&&null!=l&&Ae(t,["instances[0]","video"],El(l))}(a,n);const i=Ie(t,["config"]);return null!=i&&tl(i,n),n}function ol(e){const t={},n=Ie(e,["_self"]);null!=n&&Ae(t,["image"],al(n));const r=Ie(e,["raiFilteredReason"]);null!=r&&Ae(t,["raiFilteredReason"],r);const s=Ie(e,["_self"]);null!=s&&Ae(t,["safetyAttributes"],gl(s));const l=Ie(e,["prompt"]);return null!=l&&Ae(t,["enhancedPrompt"],l),t}function al(e){const t={},n=Ie(e,["gcsUri"]);null!=n&&Ae(t,["gcsUri"],n);const r=Ie(e,["bytesBase64Encoded"]);null!=r&&Ae(t,["imageBytes"],zr(r));const s=Ie(e,["mimeType"]);return null!=s&&Ae(t,["mimeType"],s),t}function il(e){const t={};if(void 0!==Ie(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=Ie(e,["imageBytes"]);null!=n&&Ae(t,["bytesBase64Encoded"],zr(n));const r=Ie(e,["mimeType"]);return null!=r&&Ae(t,["mimeType"],r),t}function cl(e){const t={},n=Ie(e,["gcsUri"]);null!=n&&Ae(t,["gcsUri"],n);const r=Ie(e,["imageBytes"]);null!=r&&Ae(t,["bytesBase64Encoded"],zr(r));const s=Ie(e,["mimeType"]);return null!=s&&Ae(t,["mimeType"],s),t}function ul(e,t){const n={},r=Ie(t,["config"]);return null!=r&&function(e,t,n){const r=Ie(t,["pageSize"]);void 0!==n&&null!=r&&Ae(n,["_query","pageSize"],r);const s=Ie(t,["pageToken"]);void 0!==n&&null!=s&&Ae(n,["_query","pageToken"],s);const l=Ie(t,["filter"]);void 0!==n&&null!=l&&Ae(n,["_query","filter"],l);const o=Ie(t,["queryBase"]);void 0!==n&&null!=o&&Ae(n,["_url","models_url"],Gr(e,o))}(e,r,n),n}function dl(e,t){const n={},r=Ie(t,["config"]);return null!=r&&function(e,t,n){const r=Ie(t,["pageSize"]);void 0!==n&&null!=r&&Ae(n,["_query","pageSize"],r);const s=Ie(t,["pageToken"]);void 0!==n&&null!=s&&Ae(n,["_query","pageToken"],s);const l=Ie(t,["filter"]);void 0!==n&&null!=l&&Ae(n,["_query","filter"],l);const o=Ie(t,["queryBase"]);void 0!==n&&null!=o&&Ae(n,["_url","models_url"],Gr(e,o))}(e,r,n),n}function pl(e){const t={},n=Ie(e,["name"]);null!=n&&Ae(t,["name"],n);const r=Ie(e,["displayName"]);null!=r&&Ae(t,["displayName"],r);const s=Ie(e,["description"]);null!=s&&Ae(t,["description"],s);const l=Ie(e,["version"]);null!=l&&Ae(t,["version"],l);const o=Ie(e,["_self"]);null!=o&&Ae(t,["tunedModelInfo"],function(e){const t={},n=Ie(e,["baseModel"]);null!=n&&Ae(t,["baseModel"],n);const r=Ie(e,["createTime"]);null!=r&&Ae(t,["createTime"],r);const s=Ie(e,["updateTime"]);null!=s&&Ae(t,["updateTime"],s);return t}(o));const a=Ie(e,["inputTokenLimit"]);null!=a&&Ae(t,["inputTokenLimit"],a);const i=Ie(e,["outputTokenLimit"]);null!=i&&Ae(t,["outputTokenLimit"],i);const c=Ie(e,["supportedGenerationMethods"]);null!=c&&Ae(t,["supportedActions"],c);const u=Ie(e,["temperature"]);null!=u&&Ae(t,["temperature"],u);const d=Ie(e,["maxTemperature"]);null!=d&&Ae(t,["maxTemperature"],d);const p=Ie(e,["topP"]);null!=p&&Ae(t,["topP"],p);const f=Ie(e,["topK"]);null!=f&&Ae(t,["topK"],f);const m=Ie(e,["thinking"]);return null!=m&&Ae(t,["thinking"],m),t}function fl(e){const t={},n=Ie(e,["name"]);null!=n&&Ae(t,["name"],n);const r=Ie(e,["displayName"]);null!=r&&Ae(t,["displayName"],r);const s=Ie(e,["description"]);null!=s&&Ae(t,["description"],s);const l=Ie(e,["versionId"]);null!=l&&Ae(t,["version"],l);const o=Ie(e,["deployedModels"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["endpoint"]);null!=n&&Ae(t,["name"],n);const r=Ie(e,["deployedModelId"]);return null!=r&&Ae(t,["deployedModelId"],r),t}(e))),Ae(t,["endpoints"],e)}const a=Ie(e,["labels"]);null!=a&&Ae(t,["labels"],a);const i=Ie(e,["_self"]);null!=i&&Ae(t,["tunedModelInfo"],function(e){const t={},n=Ie(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=n&&Ae(t,["baseModel"],n);const r=Ie(e,["createTime"]);null!=r&&Ae(t,["createTime"],r);const s=Ie(e,["updateTime"]);null!=s&&Ae(t,["updateTime"],s);return t}(i));const c=Ie(e,["defaultCheckpointId"]);null!=c&&Ae(t,["defaultCheckpointId"],c);const u=Ie(e,["checkpoints"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["checkpoints"],e)}return t}function ml(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["source"]);null!=s&&function(e,t){const n={},r=Ie(e,["prompt"]);void 0!==t&&null!=r&&Ae(t,["instances[0]","prompt"],r);const s=Ie(e,["personImage"]);void 0!==t&&null!=s&&Ae(t,["instances[0]","personImage","image"],cl(s));const l=Ie(e,["productImages"]);if(void 0!==t&&null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["productImage"]);return null!=n&&Ae(t,["image"],cl(n)),t}(e))),Ae(t,["instances[0]","productImages"],e)}}(s,n);const l=Ie(t,["config"]);return null!=l&&function(e,t){const n=Ie(e,["numberOfImages"]);void 0!==t&&null!=n&&Ae(t,["parameters","sampleCount"],n);const r=Ie(e,["baseSteps"]);void 0!==t&&null!=r&&Ae(t,["parameters","baseSteps"],r);const s=Ie(e,["outputGcsUri"]);void 0!==t&&null!=s&&Ae(t,["parameters","storageUri"],s);const l=Ie(e,["seed"]);void 0!==t&&null!=l&&Ae(t,["parameters","seed"],l);const o=Ie(e,["safetyFilterLevel"]);void 0!==t&&null!=o&&Ae(t,["parameters","safetySetting"],o);const a=Ie(e,["personGeneration"]);void 0!==t&&null!=a&&Ae(t,["parameters","personGeneration"],a);const i=Ie(e,["addWatermark"]);void 0!==t&&null!=i&&Ae(t,["parameters","addWatermark"],i);const c=Ie(e,["outputMimeType"]);void 0!==t&&null!=c&&Ae(t,["parameters","outputOptions","mimeType"],c);const u=Ie(e,["outputCompressionQuality"]);void 0!==t&&null!=u&&Ae(t,["parameters","outputOptions","compressionQuality"],u);const d=Ie(e,["enhancePrompt"]);void 0!==t&&null!=d&&Ae(t,["parameters","enhancePrompt"],d);const p=Ie(e,["labels"]);void 0!==t&&null!=p&&Ae(t,["labels"],p)}(l,n),n}function hl(e){const t={},n=Ie(e,["safetyAttributes","categories"]);null!=n&&Ae(t,["categories"],n);const r=Ie(e,["safetyAttributes","scores"]);null!=r&&Ae(t,["scores"],r);const s=Ie(e,["contentType"]);return null!=s&&Ae(t,["contentType"],s),t}function gl(e){const t={},n=Ie(e,["safetyAttributes","categories"]);null!=n&&Ae(t,["categories"],n);const r=Ie(e,["safetyAttributes","scores"]);null!=r&&Ae(t,["scores"],r);const s=Ie(e,["contentType"]);return null!=s&&Ae(t,["contentType"],s),t}function xl(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["source"]);null!=s&&function(e,t){const n={},r=Ie(e,["prompt"]);void 0!==t&&null!=r&&Ae(t,["instances[0]","prompt"],r);const s=Ie(e,["image"]);void 0!==t&&null!=s&&Ae(t,["instances[0]","image"],cl(s));const l=Ie(e,["scribbleImage"]);void 0!==t&&null!=l&&Ae(t,["instances[0]","scribble"],function(e){const t={},n=Ie(e,["image"]);return null!=n&&Ae(t,["image"],cl(n)),t}(l))}(s,n);const l=Ie(t,["config"]);return null!=l&&function(e,t){const n=Ie(e,["mode"]);void 0!==t&&null!=n&&Ae(t,["parameters","mode"],n);const r=Ie(e,["maxPredictions"]);void 0!==t&&null!=r&&Ae(t,["parameters","maxPredictions"],r);const s=Ie(e,["confidenceThreshold"]);void 0!==t&&null!=s&&Ae(t,["parameters","confidenceThreshold"],s);const l=Ie(e,["maskDilation"]);void 0!==t&&null!=l&&Ae(t,["parameters","maskDilation"],l);const o=Ie(e,["binaryColorThreshold"]);void 0!==t&&null!=o&&Ae(t,["parameters","binaryColorThreshold"],o);const a=Ie(e,["labels"]);void 0!==t&&null!=a&&Ae(t,["labels"],a)}(l,n),n}function bl(e){const t={},n=Ie(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["_self"]);null!=n&&Ae(t,["mask"],al(n));const r=Ie(e,["labels"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["labels"],e)}return t}(e))),Ae(t,["generatedMasks"],e)}return t}function yl(e){const t={},n=Ie(e,["retrieval"]);null!=n&&Ae(t,["retrieval"],n);const r=Ie(e,["computerUse"]);if(null!=r&&Ae(t,["computerUse"],r),void 0!==Ie(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=Ie(e,["codeExecution"]);null!=s&&Ae(t,["codeExecution"],s);const l=Ie(e,["enterpriseWebSearch"]);null!=l&&Ae(t,["enterpriseWebSearch"],l);const o=Ie(e,["functionDeclarations"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["description"]);null!=n&&Ae(t,["description"],n);const r=Ie(e,["name"]);null!=r&&Ae(t,["name"],r);const s=Ie(e,["parameters"]);null!=s&&Ae(t,["parameters"],s);const l=Ie(e,["parametersJsonSchema"]);null!=l&&Ae(t,["parametersJsonSchema"],l);const o=Ie(e,["response"]);null!=o&&Ae(t,["response"],o);const a=Ie(e,["responseJsonSchema"]);if(null!=a&&Ae(t,["responseJsonSchema"],a),void 0!==Ie(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");return t}(e))),Ae(t,["functionDeclarations"],e)}const a=Ie(e,["googleMaps"]);null!=a&&Ae(t,["googleMaps"],a);const i=Ie(e,["googleSearch"]);null!=i&&Ae(t,["googleSearch"],i);const c=Ie(e,["googleSearchRetrieval"]);null!=c&&Ae(t,["googleSearchRetrieval"],c);const u=Ie(e,["urlContext"]);return null!=u&&Ae(t,["urlContext"],u),t}function vl(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","name"],br(e,r));const s=Ie(t,["config"]);return null!=s&&function(e,t){const n=Ie(e,["displayName"]);void 0!==t&&null!=n&&Ae(t,["displayName"],n);const r=Ie(e,["description"]);void 0!==t&&null!=r&&Ae(t,["description"],r);const s=Ie(e,["defaultCheckpointId"]);void 0!==t&&null!=s&&Ae(t,["defaultCheckpointId"],s)}(s,n),n}function wl(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["config"]);return null!=s&&function(e,t){const n=Ie(e,["displayName"]);void 0!==t&&null!=n&&Ae(t,["displayName"],n);const r=Ie(e,["description"]);void 0!==t&&null!=r&&Ae(t,["description"],r);const s=Ie(e,["defaultCheckpointId"]);void 0!==t&&null!=s&&Ae(t,["defaultCheckpointId"],s)}(s,n),n}function Nl(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["image"]);null!=s&&Ae(n,["instances[0]","image"],cl(s));const l=Ie(t,["upscaleFactor"]);null!=l&&Ae(n,["parameters","upscaleConfig","upscaleFactor"],l);const o=Ie(t,["config"]);return null!=o&&function(e,t){const n=Ie(e,["outputGcsUri"]);void 0!==t&&null!=n&&Ae(t,["parameters","storageUri"],n);const r=Ie(e,["safetyFilterLevel"]);void 0!==t&&null!=r&&Ae(t,["parameters","safetySetting"],r);const s=Ie(e,["personGeneration"]);void 0!==t&&null!=s&&Ae(t,["parameters","personGeneration"],s);const l=Ie(e,["includeRaiReason"]);void 0!==t&&null!=l&&Ae(t,["parameters","includeRaiReason"],l);const o=Ie(e,["outputMimeType"]);void 0!==t&&null!=o&&Ae(t,["parameters","outputOptions","mimeType"],o);const a=Ie(e,["outputCompressionQuality"]);void 0!==t&&null!=a&&Ae(t,["parameters","outputOptions","compressionQuality"],a);const i=Ie(e,["enhanceInputImage"]);void 0!==t&&null!=i&&Ae(t,["parameters","upscaleConfig","enhanceInputImage"],i);const c=Ie(e,["imagePreservationFactor"]);void 0!==t&&null!=c&&Ae(t,["parameters","upscaleConfig","imagePreservationFactor"],c);const u=Ie(e,["labels"]);void 0!==t&&null!=u&&Ae(t,["labels"],u);const d=Ie(e,["numberOfImages"]);void 0!==t&&null!=d&&Ae(t,["parameters","sampleCount"],d);const p=Ie(e,["mode"]);void 0!==t&&null!=p&&Ae(t,["parameters","mode"],p)}(o,n),n}function Sl(e){const t={},n=Ie(e,["uri"]);null!=n&&Ae(t,["uri"],n);const r=Ie(e,["videoBytes"]);null!=r&&Ae(t,["encodedVideo"],zr(r));const s=Ie(e,["mimeType"]);return null!=s&&Ae(t,["encoding"],s),t}function El(e){const t={},n=Ie(e,["uri"]);null!=n&&Ae(t,["gcsUri"],n);const r=Ie(e,["videoBytes"]);null!=r&&Ae(t,["bytesBase64Encoded"],zr(r));const s=Ie(e,["mimeType"]);return null!=s&&Ae(t,["mimeType"],s),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cl(e){const t={},n=Ie(e,["config"]);return null!=n&&function(e,t){const n=Ie(e,["displayName"]);void 0!==t&&null!=n&&Ae(t,["displayName"],n)}(n,t),t}function jl(e){const t={},n=Ie(e,["name"]);null!=n&&Ae(t,["_url","name"],n);const r=Ie(e,["config"]);return null!=r&&function(e,t){const n=Ie(e,["force"]);void 0!==t&&null!=n&&Ae(t,["_query","force"],n)}(r,t),t}function kl(e){const t={},n=Ie(e,["name"]);null!=n&&Ae(t,["name"],n);const r=Ie(e,["metadata"]);null!=r&&Ae(t,["metadata"],r);const s=Ie(e,["done"]);null!=s&&Ae(t,["done"],s);const l=Ie(e,["error"]);null!=l&&Ae(t,["error"],l);const o=Ie(e,["response"]);return null!=o&&Ae(t,["response"],function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["parent"]);null!=r&&Ae(t,["parent"],r);const s=Ie(e,["documentName"]);null!=s&&Ae(t,["documentName"],s);return t}(o)),t}function Al(e){const t={},n=Ie(e,["fileSearchStoreName"]);null!=n&&Ae(t,["_url","file_search_store_name"],n);const r=Ie(e,["fileName"]);null!=r&&Ae(t,["fileName"],r);const s=Ie(e,["config"]);return null!=s&&function(e,t){const n=Ie(e,["customMetadata"]);if(void 0!==t&&null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["customMetadata"],e)}const r=Ie(e,["chunkingConfig"]);void 0!==t&&null!=r&&Ae(t,["chunkingConfig"],r)}(s,t),t}function Il(e){const t={},n=Ie(e,["config"]);return null!=n&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ae(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);void 0!==t&&null!=r&&Ae(t,["_query","pageToken"],r)}(n,t),t}function Tl(e,t){const n=Ie(e,["mimeType"]);void 0!==t&&null!=n&&Ae(t,["mimeType"],n);const r=Ie(e,["displayName"]);void 0!==t&&null!=r&&Ae(t,["displayName"],r);const s=Ie(e,["customMetadata"]);if(void 0!==t&&null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["customMetadata"],e)}const l=Ie(e,["chunkingConfig"]);return void 0!==t&&null!=l&&Ae(t,["chunkingConfig"],l),{}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const _l="x-goog-api-client";class Ol{constructor(e){var t,n,r;this.clientOptions=Object.assign({},e),this.customBaseUrl=null===(t=e.httpOptions)||void 0===t?void 0:t.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){this.clientOptions.location||this.clientOptions.apiKey||this.customBaseUrl||(this.clientOptions.location="global");if(!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const t=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!t?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||"global"===this.clientOptions.location?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta1"}else{if(!this.clientOptions.apiKey)throw new ks({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=null!==(r=this.clientOptions.apiVersion)&&void 0!==r?r:"v1beta",s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const r=[this.getRequestUrlInternal(t)];n&&r.push(this.getBaseResourcePath()),""!==e&&r.push(e);return new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e,t){return(!t.baseUrl||t.baseUrlResourceScope!==Ut.COLLECTION)&&(!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models")))))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e,t),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[l,o]of Object.entries(e.queryParams))r.searchParams.append(l,String(o));let s={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,r.toString(),e.abortSignal),this.unaryApiCall(r,s,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[r,s]of Object.entries(t))"object"==typeof s?n[r]=Object.assign(Object.assign({},n[r]),s):void 0!==s&&(n[r]=s);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e,t),r=this.constructUrl(e.path,t,n);r.searchParams.has("alt")&&"sse"===r.searchParams.get("alt")||r.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,r.toString(),e.abortSignal),this.streamApiCall(r,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n,r){if(t&&t.timeout||r){const n=new AbortController,s=n.signal;if(t.timeout&&(null==t?void 0:t.timeout)>0){const e=setTimeout(()=>n.abort(),t.timeout);e&&"function"==typeof e.unref&&e.unref()}r&&r.addEventListener("abort",()=>{n.abort()}),e.signal=s}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return void console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");let n={};if("string"==typeof e.body&&e.body.length>0)try{const t=JSON.parse(e.body);if("object"!=typeof t||null===t||Array.isArray(t))return void console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");n=t}catch(l){return void console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.")}function r(e,t){const n=Object.assign({},e);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){const e=t[s],l=n[s];e&&"object"==typeof e&&!Array.isArray(e)&&l&&"object"==typeof l&&!Array.isArray(l)?n[s]=r(l,e):(l&&e&&typeof l!=typeof e&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${s}". Original type: ${typeof l}, New type: ${typeof e}. Overwriting.`),n[s]=e)}return n}const s=r(n,t);e.body=JSON.stringify(s)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e,t.extraBody),e.headers=await this.getHeadersInternal(t,n),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await Pl(e),new Vn(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await Pl(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){return vs(this,arguments,function*(){var t;const n=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";const l="data:",o=["\n\n","\r\r","\r\n\r\n"];for(;;){const{done:a,value:i}=yield ys(n.read());if(a){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=r.decode(i,{stream:!0});try{const e=JSON.parse(c);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,r=t.code,s=`got status: ${n}. ${JSON.stringify(e)}`;if(r>=400&&r<600){throw new ks({message:s,status:r})}}}catch(s){if("ApiError"===s.name)throw s}t+=c;let u=-1,d=0;for(;;){u=-1,d=0;for(const e of o){const n=t.indexOf(e);-1!==n&&(-1===u||n<u)&&(u=n,d=e.length)}if(-1===u)break;const n=t.substring(0,u);t=t.substring(u+d);const r=n.trim();if(r.startsWith(l)){const t=r.substring(l.length).trim();try{const n=new Response(t,{headers:null==e?void 0:e.headers,status:null==e?void 0:e.status,statusText:null==e?void 0:e.statusText});yield yield ys(new Vn(n))}catch(s){throw new Error(`exception parsing stream chunk ${t}. ${s}`)}}}}}finally{n.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw new Error(`exception ${e} sending request`)})}getDefaultHeaders(){const e={},t="google-genai-sdk/1.38.0 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[_l]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e,t){const n=new Headers;if(e&&e.headers){for(const[t,r]of Object.entries(e.headers))n.append(t,r);e.timeout&&e.timeout>0&&n.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,t),n}getFileName(e){var t;let n="";return"string"==typeof e&&(n=e.replace(/[/\\]+$/,""),n=null!==(t=n.split(/[/\\]/).pop())&&void 0!==t?t:""),n}async uploadFile(e,t){var n;const r={};null!=t&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,l=await s.stat(e);r.sizeBytes=String(l.size);const o=null!==(n=null==t?void 0:t.mimeType)&&void 0!==n?n:l.type;if(void 0===o||""===o)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=o;const a={file:r},i=this.getFileName(e),c=ke("upload/v1beta/files",a._url),u=await this.fetchUploadUrl(c,r.sizeBytes,r.mimeType,i,a,null==t?void 0:t.httpOptions);return s.upload(e,u,this)}async uploadFileToFileSearchStore(e,t,n){var r;const s=this.clientOptions.uploader,l=await s.stat(t),o=String(l.size),a=null!==(r=null==n?void 0:n.mimeType)&&void 0!==r?r:l.type;if(void 0===a||""===a)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const i=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(t),u={};null!=n&&Tl(n,u);const d=await this.fetchUploadUrl(i,o,a,c,u,null==n?void 0:n.httpOptions);return s.uploadToFileSearchStore(t,d,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t,n,r,s,l){var o;let a={};a=l||{apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${n}`},r?{"X-Goog-Upload-File-Name":r}:{})};const i=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:a});if(!i||!(null==i?void 0:i.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=null===(o=null==i?void 0:i.headers)||void 0===o?void 0:o["x-goog-upload-url"];if(void 0===c)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function Pl(e){var t;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;r=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const s=JSON.stringify(r);if(n>=400&&n<600){throw new ks({message:s,status:n})}throw new Error(s)}}function Rl(e){for(const t of e){if(Ml(t))return!0;if("object"==typeof t&&"inputSchema"in t)return!0}return false}function Dl(e){var t;const n=null!==(t=e[_l])&&void 0!==t?t:"";e[_l]=(n+" mcp_used/unknown").trimStart()}function Ml(e){return null!==e&&"object"==typeof e&&e instanceof Ul}function Ll(e){return vs(this,arguments,function*(e,t=100){let n,r=0;for(;r<t;){const t=yield ys(e.listTools({cursor:n}));for(const e of t.tools)yield yield ys(e),r++;if(!t.nextCursor)break;n=t.nextCursor}})}class Ul{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Ul(e,t)}async initialize(){var e,t,n,r;if(this.mcpTools.length>0)return;const s={},l=[];for(const u of this.mcpClients)try{for(var o,a=!0,i=(t=void 0,ws(Ll(u)));!(e=(o=await i.next()).done);a=!0){r=o.value,a=!1;const e=r;l.push(e);const t=e.name;if(s[t])throw new Error(`Duplicate function name ${t} found in MCP tools. Please ensure function names are unique.`);s[t]=u}}catch(c){t={error:c}}finally{try{a||e||!(n=i.return)||await n.call(i)}finally{if(t)throw t.error}}this.mcpTools=l,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),function(e,t={}){const n=[],r=new Set;for(const s of e){const e=s.name;if(r.has(e))throw new Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);r.add(e);const l=Br(s,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const s=await e.callTool({name:n.name,arguments:n.args},void 0,r);t.push({functionResponse:{name:n.name,response:s.isError?{error:s}:s}})}return t}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fl{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),l=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(this.apiClient.getDefaultHeaders()),o=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`;let a=()=>{};const i=new Promise(e=>{a=e}),c=e.callbacks,u=(this.apiClient,{onopen:function(){a({})},onmessage:e=>{!async function(e,t,n){const r=new gr;let s;s=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),Object.assign(r,s),t(r)}(0,c.onmessage,e)},onerror:null!==(t=null==c?void 0:c.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==c?void 0:c.onclose)&&void 0!==n?n:function(e){}}),d=this.webSocketFactory.create(o,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(l),u);d.connect(),await i;const p={setup:{model:br(this.apiClient,e.model)}};return d.send(JSON.stringify(p)),new zl(d,this.apiClient)}}class zl{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=function(e){const t={},n=Ie(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["weightedPrompts"],e)}return t}(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=function(e){const t={},n=Ie(e,["musicGenerationConfig"]);return null!=n&&Ae(t,["musicGenerationConfig"],n),t}(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(zn.PLAY)}pause(){this.sendPlaybackControl(zn.PAUSE)}stop(){this.sendPlaybackControl(zn.STOP)}resetContext(){this.sendPlaybackControl(zn.RESET_CONTEXT)}close(){this.conn.close()}}class ql{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new Fl(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,r,s,l,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const a=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion();let c;const u=this.apiClient.getHeaders();e.config&&e.config.tools&&Rl(e.config.tools)&&Dl(u);const d=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(u);if(this.apiClient.isVertexAI()){const e=this.apiClient.getProject(),t=this.apiClient.getLocation(),n=this.apiClient.getApiKey(),r=!!e&&!!t||!!n;this.apiClient.getCustomBaseUrl()&&!r?c=a:(c=`${a}/ws/google.cloud.aiplatform.${i}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,c))}else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null==e?void 0:e.startsWith("auth_tokens/"))&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),"v1alpha"!==i&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),t="BidiGenerateContentConstrained",n="access_token"),c=`${a}/ws/google.ai.generativelanguage.${i}.GenerativeService.${t}?${n}=${e}`}let p=()=>{};const f=new Promise(e=>{p=e}),m=e.callbacks,h=this.apiClient,g={onopen:function(){var e;null===(e=null==m?void 0:m.onopen)||void 0===e||e.call(m),p({})},onmessage:e=>{!async function(e,t,n){const r=new hr;let s;s=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;const l=JSON.parse(s);if(e.isVertexAI()){const e=Ms(l);Object.assign(r,e)}else{const e=l;Object.assign(r,e)}t(r)}(h,m.onmessage,e)},onerror:null!==(t=null==m?void 0:m.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==m?void 0:m.onclose)&&void 0!==n?n:function(e){}},x=this.webSocketFactory.create(c,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(d),g);x.connect(),await f;let b=br(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&b.startsWith("publishers/")){const e=this.apiClient.getProject(),t=this.apiClient.getLocation();e&&t&&(b=`projects/${e}/locations/${t}/`+b)}let y={};this.apiClient.isVertexAI()&&void 0===(null===(r=e.config)||void 0===r?void 0:r.responseModalities)&&(void 0===e.config?e.config={responseModalities:[Et.AUDIO]}:e.config.responseModalities=[Et.AUDIO]),(null===(s=e.config)||void 0===s?void 0:s.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const v=null!==(o=null===(l=e.config)||void 0===l?void 0:l.tools)&&void 0!==o?o:[],w=[];for(const S of v)if(this.isCallableTool(S)){const e=S;w.push(await e.tool())}else w.push(S);w.length>0&&(e.config.tools=w);const N={model:b,config:e.config,callbacks:e.callbacks};return y=this.apiClient.isVertexAI()?function(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["setup","model"],br(e,r));const s=Ie(t,["config"]);return null!=s&&Ae(n,["config"],Ps(s,n)),n}(this.apiClient,N):function(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["setup","model"],br(e,r));const s=Ie(t,["config"]);return null!=s&&Ae(n,["config"],Os(s,n)),n}(this.apiClient,N),delete y.config,x.send(JSON.stringify(y)),new Hl(x,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"==typeof e.callTool}}const Gl={turnComplete:!0};class Hl{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let r=[];try{r=_r(t.turns),e.isVertexAI()||(r=r.map(e=>Fs(e)))}catch(n){throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const r of n){if("object"!=typeof r||null===r||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},Gl),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:Ds(e)}:{realtimeInput:Rs(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Vl(e){var t,n,r;if(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let s=!1;for(const o of null!==(n=null==e?void 0:e.tools)&&void 0!==n?n:[])if(Bl(o)){s=!0;break}if(!s)return!0;const l=null===(r=null==e?void 0:e.automaticFunctionCalling)||void 0===r?void 0:r.maximumRemoteCalls;return!!(l&&(l<0||!Number.isInteger(l))||0==l)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0)}function Bl(e){return"callTool"in e&&"function"==typeof e.callTool}function $l(e){var t;const n=[];return(null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.tools)?(e.config.tools.forEach((e,t)=>{if(Bl(e))return;const r=e;r.functionDeclarations&&r.functionDeclarations.length>0&&n.push(t)}),n):n}function Jl(e){var t;return!(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wl extends je{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,r,s,l;const o=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>Bl(e)))&&void 0!==r&&r}(e)||Vl(e.config))return await this.generateContentInternal(o);const a=$l(e);if(a.length>0){const e=a.map(e=>`tools[${e}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${e}.`)}let i,c;const u=_r(o.contents),d=null!==(r=null===(n=null===(t=o.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let p=0;for(;p<d&&(i=await this.generateContentInternal(o),i.functionCalls&&0!==i.functionCalls.length);){const t=i.candidates[0].content,n=[];for(const r of null!==(l=null===(s=e.config)||void 0===s?void 0:s.tools)&&void 0!==l?l:[])if(Bl(r)){const e=r,t=await e.callTool(i.functionCalls);n.push(...t)}p++,c={role:"user",parts:n},o.contents=_r(o.contents),o.contents.push(t),o.contents.push(c),Jl(o.config)&&(u.push(t),u.push(c))}return Jl(o.config)&&(i.automaticFunctionCallingHistory=u),i},this.generateContentStream=async e=>{var t,n,r,s,l;if(this.maybeMoveToResponseJsonSchem(e),Vl(e.config)){const t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}const o=$l(e);if(o.length>0){const e=o.map(e=>`tools[${e}]`).join(", ");throw new Error(`Incompatible tools found at ${e}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const a=null===(r=null===(n=null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.toolConfig)||void 0===n?void 0:n.functionCallingConfig)||void 0===r?void 0:r.streamFunctionCallArguments,i=null===(l=null===(s=null==e?void 0:e.config)||void 0===s?void 0:s.automaticFunctionCalling)||void 0===l?void 0:l.disable;if(a&&!i)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let n;const r=[];if(null==e?void 0:e.generatedImages)for(const l of e.generatedImages)l&&(null==l?void 0:l.safetyAttributes)&&"Positive Prompt"===(null===(t=null==l?void 0:l.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null==l?void 0:l.safetyAttributes:r.push(l);let s;return s=n?{generatedImages:r,positivePromptSafetyAttributes:n,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:r,sdkHttpResponse:e.sdkHttpResponse},s}),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null==e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new as(Gn.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)},this.generateVideos=async e=>{var t,n,r,s,l,o;if((e.prompt||e.image||e.video)&&e.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||((null===(t=e.video)||void 0===t?void 0:t.uri)&&(null===(n=e.video)||void 0===n?void 0:n.videoBytes)?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:(null===(s=null===(r=e.source)||void 0===r?void 0:r.video)||void 0===s?void 0:s.uri)&&(null===(o=null===(l=e.source)||void 0===l?void 0:l.video)||void 0===o?void 0:o.videoBytes)&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,n,r;const s=null===(t=e.config)||void 0===t?void 0:t.tools;if(!s)return e;const l=await Promise.all(s.map(async e=>{if(Bl(e)){const t=e;return await t.tool()}return e})),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(o.config.tools=l,e.config&&e.config.tools&&Rl(e.config.tools)){const t=null!==(r=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==r?r:{};let s=Object.assign({},t);0===Object.keys(s).length&&(s=this.apiClient.getDefaultHeaders()),Dl(s),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:s})}return o}async initAfcToolsMap(e){var t,n,r;const s=new Map;for(const l of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(Bl(l)){const e=l,t=await e.tool();for(const n of null!==(r=t.functionDeclarations)&&void 0!==r?r:[]){if(!n.name)throw new Error("Function declaration name is required.");if(s.has(n.name))throw new Error(`Duplicate tool declaration name: ${n.name}`);s.set(n.name,e)}}return s}async processAfcStream(e){var t,n,r;const s=null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let l=!1,o=0;return function(e,t,n){return vs(this,arguments,function*(){for(var r,a,i,c,u,d;o<s;){l&&(o++,l=!1);const g=yield ys(e.processParamsMaybeAddMcpUsage(n)),x=yield ys(e.generateContentStreamInternal(g)),b=[],y=[];try{for(var p,f=!0,m=(a=void 0,ws(x));!(r=(p=yield ys(m.next())).done);f=!0){c=p.value,f=!1;const e=c;if(yield yield ys(e),e.candidates&&(null===(u=e.candidates[0])||void 0===u?void 0:u.content)){y.push(e.candidates[0].content);for(const n of null!==(d=e.candidates[0].content.parts)&&void 0!==d?d:[])if(o<s&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${n.functionCall.name}`);{const e=yield ys(t.get(n.functionCall.name).callTool([n.functionCall]));b.push(...e)}}}}}catch(h){a={error:h}}finally{try{f||r||!(i=m.return)||(yield ys(i.call(m)))}finally{if(a)throw a.error}}if(!(b.length>0))break;{l=!0;const e=new Bn;e.candidates=[{content:{role:"user",parts:b}}],yield yield ys(e);const t=[];t.push(...y),t.push({role:"user",parts:b});const r=_r(n.contents).concat(t);n.contents=r}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=Ws(this.apiClient,e);return o=ke("{model}:generateContent",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=Ks(e),n=new Bn;return Object.assign(n,t),n})}{const t=Js(this.apiClient,e);return o=ke("{model}:generateContent",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=Ys(e),n=new Bn;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=Ws(this.apiClient,e);o=ke("{model}:streamGenerateContent?alt=sse",r._url),a=r._query,delete r._url,delete r._query;return l=this.apiClient.requestStream({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),l.then(function(e){return vs(this,arguments,function*(){var t,n,r,s;try{for(var l,o=!0,a=ws(e);!(t=(l=yield ys(a.next())).done);o=!0){s=l.value,o=!1;const e=s,t=Ks(yield ys(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new Bn;Object.assign(n,t),yield yield ys(n)}}catch(i){n={error:i}}finally{try{o||t||!(r=a.return)||(yield ys(r.call(a)))}finally{if(n)throw n.error}}})})}{const t=Js(this.apiClient,e);o=ke("{model}:streamGenerateContent?alt=sse",t._url),a=t._query,delete t._url,delete t._query;return l=this.apiClient.requestStream({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}),l.then(function(e){return vs(this,arguments,function*(){var t,n,r,s;try{for(var l,o=!0,a=ws(e);!(t=(l=yield ys(a.next())).done);o=!0){s=l.value,o=!1;const e=s,t=Ys(yield ys(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new Bn;Object.assign(n,t),yield yield ys(n)}}catch(i){n={error:i}}finally{try{o||t||!(r=a.return)||(yield ys(r.call(a)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=Vs(this.apiClient,e);return o=ke("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["predictions[]","embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Us(e))),Ae(t,["embeddings"],e)}const s=Ie(e,["metadata"]);return null!=s&&Ae(t,["metadata"],s),t}(e),n=new $n;return Object.assign(n,t),n})}{const t=Hs(this.apiClient,e);return o=ke("{model}:batchEmbedContents",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["embeddings"],e)}const s=Ie(e,["metadata"]);return null!=s&&Ae(t,["metadata"],s),t}(e),n=new $n;return Object.assign(n,t),n})}}async generateImagesInternal(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=Qs(this.apiClient,e);return o=ke("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>ol(e))),Ae(t,["generatedImages"],e)}const s=Ie(e,["positivePromptSafetyAttributes"]);return null!=s&&Ae(t,["positivePromptSafetyAttributes"],gl(s)),t}(e),n=new Jn;return Object.assign(n,t),n})}{const t=Xs(this.apiClient,e);return o=ke("{model}:predict",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=Zs(e),n=new Jn;return Object.assign(n,t),n})}}async editImageInternal(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI()){const o=Gs(this.apiClient,e);return s=ke("{model}:predict",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>ol(e))),Ae(t,["generatedImages"],e)}return t}(e),n=new Wn;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI()){const o=Nl(this.apiClient,e);return s=ke("{model}:predict",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>ol(e))),Ae(t,["generatedImages"],e)}return t}(e),n=new Yn;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI()){const o=ml(this.apiClient,e);return s=ke("{model}:predict",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Ie(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ol(e))),Ae(t,["generatedImages"],e)}return t}(e),n=new Kn;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI()){const o=xl(this.apiClient,e);return s=ke("{model}:predict",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=bl(e),n=new Xn;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["model"]);return null!=r&&Ae(n,["_url","name"],br(e,r)),n}(this.apiClient,e);return o=ke("{name}",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),l.then(e=>fl(e))}{const t=function(e,t){const n={},r=Ie(t,["model"]);return null!=r&&Ae(n,["_url","name"],br(e,r)),n}(this.apiClient,e);return o=ke("{name}",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json()),l.then(e=>pl(e))}}async listInternal(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=dl(this.apiClient,e);return o=ke("{models_url}",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ae(t,["nextPageToken"],r);const s=Ie(e,["_self"]);if(null!=s){let e=Hr(s);Array.isArray(e)&&(e=e.map(e=>fl(e))),Ae(t,["models"],e)}return t}(e),n=new Qn;return Object.assign(n,t),n})}{const t=ul(this.apiClient,e);return o=ke("{models_url}",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ae(t,["nextPageToken"],r);const s=Ie(e,["_self"]);if(null!=s){let e=Hr(s);Array.isArray(e)&&(e=e.map(e=>pl(e))),Ae(t,["models"],e)}return t}(e),n=new Qn;return Object.assign(n,t),n})}}async update(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=wl(this.apiClient,e);return o=ke("{model}",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),l.then(e=>fl(e))}{const t=vl(this.apiClient,e);return o=ke("{name}",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json()),l.then(e=>pl(e))}}async delete(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["model"]);return null!=r&&Ae(n,["_url","name"],br(e,r)),n}(this.apiClient,e);return o=ke("{name}",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ae(t,["sdkHttpResponse"],n),t}(e),n=new Zn;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=Ie(t,["model"]);return null!=r&&Ae(n,["_url","name"],br(e,r)),n}(this.apiClient,e);return o=ke("{name}",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ae(t,["sdkHttpResponse"],n),t}(e),n=new Zn;return Object.assign(n,t),n})}}async countTokens(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["contents"]);if(null!=s){let e=_r(s);Array.isArray(e)&&(e=e.map(e=>e)),Ae(n,["contents"],e)}const l=Ie(t,["config"]);return null!=l&&zs(l,n),n}(this.apiClient,e);return o=ke("{model}:countTokens",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["totalTokens"]);return null!=r&&Ae(t,["totalTokens"],r),t}(e),n=new er;return Object.assign(n,t),n})}{const t=qs(this.apiClient,e);return o=ke("{model}:countTokens",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["totalTokens"]);null!=r&&Ae(t,["totalTokens"],r);const s=Ie(e,["cachedContentTokenCount"]);return null!=s&&Ae(t,["cachedContentTokenCount"],s),t}(e),n=new er;return Object.assign(n,t),n})}}async computeTokens(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["_url","model"],br(e,r));const s=Ie(t,["contents"]);if(null!=s){let e=_r(s);Array.isArray(e)&&(e=e.map(e=>e)),Ae(n,["contents"],e)}return n}(this.apiClient,e);return s=ke("{model}:computeTokens",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["tokensInfo"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["tokensInfo"],e)}return t}(e),n=new tr;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=ll(this.apiClient,e);return o=ke("{model}:predictLongRunning",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),l.then(e=>{const t=rl(e),n=new nr;return Object.assign(n,t),n})}{const t=sl(this.apiClient,e);return o=ke("{model}:predictLongRunning",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json()),l.then(e=>{const t=nl(e),n=new nr;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yl extends je{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async get(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Ie(e,["operationName"]);return null!=n&&Ae(t,["_url","operationName"],n),t}(e);return o=ke("{operationName}",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),l}{const t=function(e){const t={},n=Ie(e,["operationName"]);return null!=n&&Ae(t,["_url","operationName"],n),t}(e);return o=ke("{operationName}",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json()),l}}async fetchPredictVideosOperationInternal(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI()){const o=function(e){const t={},n=Ie(e,["operationName"]);null!=n&&Ae(t,["operationName"],n);const r=Ie(e,["resourceName"]);return null!=r&&Ae(t,["_url","resourceName"],r),t}(e);return s=ke("{resourceName}:fetchPredictOperation",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r}throw new Error("This method is only supported by the Vertex AI.")}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kl(e){const t={},n=Ie(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=Ie(e,["mediaResolution"]);null!=n&&Ae(t,["mediaResolution"],n);const r=Ie(e,["codeExecutionResult"]);null!=r&&Ae(t,["codeExecutionResult"],r);const s=Ie(e,["executableCode"]);null!=s&&Ae(t,["executableCode"],s);const l=Ie(e,["fileData"]);null!=l&&Ae(t,["fileData"],function(e){const t={};if(void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=Ie(e,["fileUri"]);null!=n&&Ae(t,["fileUri"],n);const r=Ie(e,["mimeType"]);null!=r&&Ae(t,["mimeType"],r);return t}(l));const o=Ie(e,["functionCall"]);null!=o&&Ae(t,["functionCall"],function(e){const t={},n=Ie(e,["id"]);null!=n&&Ae(t,["id"],n);const r=Ie(e,["args"]);null!=r&&Ae(t,["args"],r);const s=Ie(e,["name"]);null!=s&&Ae(t,["name"],s);if(void 0!==Ie(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==Ie(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(o));const a=Ie(e,["functionResponse"]);null!=a&&Ae(t,["functionResponse"],a);const i=Ie(e,["inlineData"]);null!=i&&Ae(t,["inlineData"],function(e){const t={},n=Ie(e,["data"]);if(null!=n&&Ae(t,["data"],n),void 0!==Ie(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=Ie(e,["mimeType"]);return null!=r&&Ae(t,["mimeType"],r),t}(i));const c=Ie(e,["text"]);null!=c&&Ae(t,["text"],c);const u=Ie(e,["thought"]);null!=u&&Ae(t,["thought"],u);const d=Ie(e,["thoughtSignature"]);null!=d&&Ae(t,["thoughtSignature"],d);const p=Ie(e,["videoMetadata"]);null!=p&&Ae(t,["videoMetadata"],p);return t}(e))),Ae(t,["parts"],e)}const r=Ie(e,["role"]);return null!=r&&Ae(t,["role"],r),t}function Xl(e,t,n){const r=Ie(t,["expireTime"]);void 0!==n&&null!=r&&Ae(n,["expireTime"],r);const s=Ie(t,["newSessionExpireTime"]);void 0!==n&&null!=s&&Ae(n,["newSessionExpireTime"],s);const l=Ie(t,["uses"]);void 0!==n&&null!=l&&Ae(n,["uses"],l);const o=Ie(t,["liveConnectConstraints"]);void 0!==n&&null!=o&&Ae(n,["bidiGenerateContentSetup"],function(e,t){const n={},r=Ie(t,["model"]);null!=r&&Ae(n,["setup","model"],br(e,r));const s=Ie(t,["config"]);null!=s&&Ae(n,["config"],function(e,t){const n={},r=Ie(e,["generationConfig"]);void 0!==t&&null!=r&&Ae(t,["setup","generationConfig"],r);const s=Ie(e,["responseModalities"]);void 0!==t&&null!=s&&Ae(t,["setup","generationConfig","responseModalities"],s);const l=Ie(e,["temperature"]);void 0!==t&&null!=l&&Ae(t,["setup","generationConfig","temperature"],l);const o=Ie(e,["topP"]);void 0!==t&&null!=o&&Ae(t,["setup","generationConfig","topP"],o);const a=Ie(e,["topK"]);void 0!==t&&null!=a&&Ae(t,["setup","generationConfig","topK"],a);const i=Ie(e,["maxOutputTokens"]);void 0!==t&&null!=i&&Ae(t,["setup","generationConfig","maxOutputTokens"],i);const c=Ie(e,["mediaResolution"]);void 0!==t&&null!=c&&Ae(t,["setup","generationConfig","mediaResolution"],c);const u=Ie(e,["seed"]);void 0!==t&&null!=u&&Ae(t,["setup","generationConfig","seed"],u);const d=Ie(e,["speechConfig"]);void 0!==t&&null!=d&&Ae(t,["setup","generationConfig","speechConfig"],Dr(d));const p=Ie(e,["thinkingConfig"]);void 0!==t&&null!=p&&Ae(t,["setup","generationConfig","thinkingConfig"],p);const f=Ie(e,["enableAffectiveDialog"]);void 0!==t&&null!=f&&Ae(t,["setup","generationConfig","enableAffectiveDialog"],f);const m=Ie(e,["systemInstruction"]);void 0!==t&&null!=m&&Ae(t,["setup","systemInstruction"],Kl(Ir(m)));const h=Ie(e,["tools"]);if(void 0!==t&&null!=h){let e=Lr(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==Ie(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const n=Ie(e,["computerUse"]);null!=n&&Ae(t,["computerUse"],n);const r=Ie(e,["fileSearch"]);null!=r&&Ae(t,["fileSearch"],r);const s=Ie(e,["codeExecution"]);null!=s&&Ae(t,["codeExecution"],s);if(void 0!==Ie(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=Ie(e,["functionDeclarations"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["functionDeclarations"],e)}const o=Ie(e,["googleMaps"]);null!=o&&Ae(t,["googleMaps"],function(e){const t={};if(void 0!==Ie(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=Ie(e,["enableWidget"]);null!=n&&Ae(t,["enableWidget"],n);return t}(o));const a=Ie(e,["googleSearch"]);null!=a&&Ae(t,["googleSearch"],function(e){const t={};if(void 0!==Ie(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==Ie(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=Ie(e,["timeRangeFilter"]);null!=n&&Ae(t,["timeRangeFilter"],n);return t}(a));const i=Ie(e,["googleSearchRetrieval"]);null!=i&&Ae(t,["googleSearchRetrieval"],i);const c=Ie(e,["urlContext"]);null!=c&&Ae(t,["urlContext"],c);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(Mr(e)))),Ae(t,["setup","tools"],e)}const g=Ie(e,["sessionResumption"]);void 0!==t&&null!=g&&Ae(t,["setup","sessionResumption"],function(e){const t={},n=Ie(e,["handle"]);null!=n&&Ae(t,["handle"],n);if(void 0!==Ie(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(g));const x=Ie(e,["inputAudioTranscription"]);void 0!==t&&null!=x&&Ae(t,["setup","inputAudioTranscription"],x);const b=Ie(e,["outputAudioTranscription"]);void 0!==t&&null!=b&&Ae(t,["setup","outputAudioTranscription"],b);const y=Ie(e,["realtimeInputConfig"]);void 0!==t&&null!=y&&Ae(t,["setup","realtimeInputConfig"],y);const v=Ie(e,["contextWindowCompression"]);void 0!==t&&null!=v&&Ae(t,["setup","contextWindowCompression"],v);const w=Ie(e,["proactivity"]);void 0!==t&&null!=w&&Ae(t,["setup","proactivity"],w);if(void 0!==Ie(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}(s,n));return n}(e,o));const a=Ie(t,["lockAdditionalFields"]);return void 0!==n&&null!=a&&Ae(n,["fieldMask"],a),{}}function Ql(e,t){let n=null;const r=e.bidiGenerateContentSetup;if("object"==typeof r&&null!==r&&"setup"in r){const t=r.setup;"object"==typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==r&&delete e.bidiGenerateContentSetup;const s=e.fieldMask;if(n){const r=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if("object"==typeof r&&null!=r&&Object.keys(r).length>0){const e=Object.keys(r).map(e=>`${n}.${e}`);t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null==t?void 0:t.lockAdditionalFields)&&0===(null==t?void 0:t.lockAdditionalFields.length))r?e.fieldMask=r:delete e.fieldMask;else if((null==t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==s&&Array.isArray(s)&&s.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];s.length>0&&(n=s.map(e=>t.includes(e)?`generationConfig.${e}`:e));const l=[];r&&l.push(r),n.length>0&&l.push(...n),l.length>0?e.fieldMask=l.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==s&&Array.isArray(s)&&s.length>0?e.fieldMask=s.join(","):delete e.fieldMask;return e}class Zl extends je{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=function(e,t){const n={},r=Ie(t,["config"]);return null!=r&&Ae(n,["config"],Xl(e,r,n)),n}(this.apiClient,e);s=ke("auth_tokens",o._url),l=o._query,delete o.config,delete o._url,delete o._query;const a=Ql(o,e.config);return r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eo(e){const t={},n=Ie(e,["name"]);null!=n&&Ae(t,["_url","name"],n);const r=Ie(e,["config"]);return null!=r&&function(e,t){const n=Ie(e,["force"]);void 0!==t&&null!=n&&Ae(t,["_query","force"],n)}(r,t),t}function to(e){const t={},n=Ie(e,["parent"]);null!=n&&Ae(t,["_url","parent"],n);const r=Ie(e,["config"]);return null!=r&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ae(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);void 0!==t&&null!=r&&Ae(t,["_query","pageToken"],r)}(r,t),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class no extends je{constructor(e){super(),this.apiClient=e,this.list=async e=>new as(Gn.PAGED_ITEM_DOCUMENTS,t=>this.listInternal({parent:e.parent,config:t.config}),await this.listInternal(e),e)}async get(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=function(e){const t={},n=Ie(e,["name"]);return null!=n&&Ae(t,["_url","name"],n),t}(e);return s=ke("{name}",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=eo(e);r=ke("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=to(e);return s=ke("{parent}/documents",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ae(t,["nextPageToken"],r);const s=Ie(e,["documents"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["documents"],e)}return t}(e),n=new ar;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ro extends je{constructor(e,t=new no(e)){super(),this.apiClient=e,this.documents=t,this.list=async(e={})=>new as(Gn.PAGED_ITEM_FILE_SEARCH_STORES,e=>this.listInternal(e),await this.listInternal(e),e)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Cl(e);return s=ke("fileSearchStores",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async get(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=function(e){const t={},n=Ie(e,["name"]);return null!=n&&Ae(t,["_url","name"],n),t}(e);return s=ke("{name}",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=jl(e);r=ke("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Il(e);return s=ke("fileSearchStores",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ae(t,["nextPageToken"],r);const s=Ie(e,["fileSearchStores"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["fileSearchStores"],e)}return t}(e),n=new ir;return Object.assign(n,t),n})}}async uploadToFileSearchStoreInternal(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=function(e){const t={},n=Ie(e,["fileSearchStoreName"]);null!=n&&Ae(t,["_url","file_search_store_name"],n);const r=Ie(e,["config"]);return null!=r&&Tl(r,t),t}(e);return s=ke("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ae(t,["sdkHttpResponse"],n),t}(e),n=new cr;return Object.assign(n,t),n})}}async importFile(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Al(e);return s=ke("{file_search_store_name}:importFile",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=kl(e),n=new ur;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let so=function(){const{crypto:e}=globalThis;if(null==e?void 0:e.randomUUID)return so=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^n()&15>>+e/4).toString(16))};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function lo(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const oo=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch(t){}try{return new Error(JSON.stringify(e))}catch(n){}}return new Error(e)};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ao extends Error{}class io extends ao{constructor(e,t,n,r){super(`${io.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,n){const r=(null==t?void 0:t.message)?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e||!r)return new uo({message:n,cause:oo(t)});const s=t;return 400===e?new fo(e,s,n,r):401===e?new mo(e,s,n,r):403===e?new ho(e,s,n,r):404===e?new go(e,s,n,r):409===e?new xo(e,s,n,r):422===e?new bo(e,s,n,r):429===e?new yo(e,s,n,r):e>=500?new vo(e,s,n,r):new io(e,s,n,r)}}class co extends io{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class uo extends io{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class po extends uo{constructor({message:e}={}){super({message:null!=e?e:"Request timed out."})}}class fo extends io{}class mo extends io{}class ho extends io{}class go extends io{}class xo extends io{}class bo extends io{}class yo extends io{}class vo extends io{}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wo=/^[a-z][a-z0-9+.-]*:/i;let No=e=>(No=Array.isArray,No(e));const So=No;const Eo="0.0.1";const Co=()=>{var e,t,n,r,s;const l="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===l)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":ko(Deno.build.os),"X-Stainless-Arch":jo(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:null!==(t=null===(e=Deno.version)||void 0===e?void 0:e.deno)&&void 0!==t?t:"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===l)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":ko(null!==(n=globalThis.process.platform)&&void 0!==n?n:"unknown"),"X-Stainless-Arch":jo(null!==(r=globalThis.process.arch)&&void 0!==r?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":null!==(s=globalThis.process.version)&&void 0!==s?s:"unknown"};const o=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const jo=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",ko=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let Ao;function Io(...e){const t=globalThis.ReadableStream;if(void 0===t)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function To(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Io({start(){},async pull(e){const{done:n,value:r}=await t.next();n?e.close():e.enqueue(r)},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}function _o(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return(null==e?void 0:e.done)&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const Oo=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),Po=()=>{var e;if("undefined"==typeof File){const{process:t}=globalThis,n="string"==typeof(null===(e=null==t?void 0:t.versions)||void 0===e?void 0:e.node)&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ro(e,t,n){return Po(),new File(e,null!=t?t:"unknown_file",n)}const Do=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer;
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Mo(e){var t,n,r,s,l;let o=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)o.push(e);else if(Do(e))o.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!(e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator])(e)){const t=null===(l=null==e?void 0:e.constructor)||void 0===l?void 0:l.name;throw new Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";const t=Object.getOwnPropertyNames(e);return`; props: [${t.map(e=>`"${e}"`).join(", ")}]`}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e)}`)}try{for(var a,i=!0,c=ws(e);!(t=(a=await c.next()).done);i=!0){s=a.value,i=!1;const e=s;o.push(...await Mo(e))}}catch(u){n={error:u}}finally{try{i||t||!(r=c.return)||await r.call(c)}finally{if(n)throw n.error}}}return o}class Lo{constructor(e){this._client=e}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function Uo(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}Lo._key=[];const Fo=Object.freeze(Object.create(null)),zo=((e=Uo)=>function(t,...n){if(1===t.length)return t[0];let r=!1;const s=[],l=t.reduce((t,l,o)=>{var a,i,c;/[?#]/.test(l)&&(r=!0);const u=n[o];let d=(r?encodeURIComponent:e)(""+u);return o!==n.length&&(null==u||"object"==typeof u&&u.toString===(null===(c=Object.getPrototypeOf(null!==(i=Object.getPrototypeOf(null!==(a=u.hasOwnProperty)&&void 0!==a?a:Fo))&&void 0!==i?i:Fo))||void 0===c?void 0:c.toString))&&(d=u+"",s.push({start:t.length+l.length,length:d.length,error:`Value of type ${Object.prototype.toString.call(u).slice(8,-1)} is not a valid path parameter`})),t+l+(o===n.length?"":d)},""),o=l.split(/[?#]/,1)[0],a=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let i;for(;null!==(i=a.exec(o));)s.push({start:i.index,length:i[0].length,error:`Value "${i[0]}" can't be safely passed as a path parameter`});if(s.sort((e,t)=>e.start-t.start),s.length>0){let e=0;const t=s.reduce((t,n)=>{const r=" ".repeat(n.start-e),s="^".repeat(n.length);return e=n.start+n.length,t+r+s},"");throw new ao(`Path parameters result in path with invalid segments:\n${s.map(e=>e.error).join("\n")}\n${l}\n${t}`)}return l})(Uo);
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class qo extends Lo{create(e,t){var n;const{api_version:r=this._client.apiVersion}=e,s=xs(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new ao("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new ao("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(zo`/${r}/interactions`,Object.assign(Object.assign({body:s},t),{stream:null!==(n=e.stream)&&void 0!==n&&n}))}delete(e,t={},n){const{api_version:r=this._client.apiVersion}=null!=t?t:{};return this._client.delete(zo`/${r}/interactions/${e}`,n)}cancel(e,t={},n){const{api_version:r=this._client.apiVersion}=null!=t?t:{};return this._client.post(zo`/${r}/interactions/${e}/cancel`,n)}get(e,t={},n){var r;const s=null!=t?t:{},{api_version:l=this._client.apiVersion}=s,o=xs(s,["api_version"]);return this._client.get(zo`/${l}/interactions/${e}`,Object.assign(Object.assign({query:o},n),{stream:null!==(r=null==t?void 0:t.stream)&&void 0!==r&&r}))}}qo._key=Object.freeze(["interactions"]);class Go extends qo{}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ho,Vo;function Bo(e){let t;return(null!=Ho?Ho:(t=new globalThis.TextEncoder,Ho=t.encode.bind(t)))(e)}function $o(e){let t;return(null!=Vo?Vo:(t=new globalThis.TextDecoder,Vo=t.decode.bind(t)))(e)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jo{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?Bo(e):e;this.buffer=function(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}([this.buffer,t]);const n=[];let r;for(;null!=(r=Wo(this.buffer,this.carriageReturnIndex));){if(r.carriage&&null==this.carriageReturnIndex){this.carriageReturnIndex=r.index;continue}if(null!=this.carriageReturnIndex&&(r.index!==this.carriageReturnIndex+1||r.carriage)){n.push($o(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const e=null!==this.carriageReturnIndex?r.preceding-1:r.preceding,t=$o(this.buffer.subarray(0,e));n.push(t),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode("\n"):[]}}function Wo(e,t){for(let n=null!=t?t:0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}function Yo(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */Jo.NEWLINE_CHARS=new Set(["\n","\r"]),Jo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const Ko={off:0,error:200,warn:300,info:400,debug:500},Xo=(e,t,n)=>{var r,s;if(e)return r=Ko,s=e,Object.prototype.hasOwnProperty.call(r,s)?e:void na(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Ko))}`)};function Qo(){}function Zo(e,t,n){return!t||Ko[e]>Ko[n]?Qo:t[e].bind(t)}const ea={error:Qo,warn:Qo,info:Qo,debug:Qo};let ta=new WeakMap;function na(e){var t;const n=e.logger,r=null!==(t=e.logLevel)&&void 0!==t?t:"off";if(!n)return ea;const s=ta.get(n);if(s&&s[0]===r)return s[1];const l={error:Zo("error",n,r),warn:Zo("warn",n,r),info:Zo("info",n,r),debug:Zo("debug",n,r)};return ta.set(n,[r,l]),l}const ra=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"x-goog-api-key"===e.toLowerCase()||"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sa{constructor(e,t,n){this.iterator=e,this.controller=t,this.client=n}static fromSSEResponse(e,t,n){let r=!1;const s=n?na(n):console;return new sa(function(){return vs(this,arguments,function*(){var n,l,o,a;if(r)throw new ao("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{try{for(var c,u=!0,d=ws(function(e,t){return vs(this,arguments,function*(){var n,r,s,l;if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new ao("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new ao("Attempted to iterate over a response with no body")}const o=new la,a=new Jo,i=_o(e.body);try{for(var c,u=!0,d=ws(function(e){return vs(this,arguments,function*(){var t,n,r,s;let l=new Uint8Array;try{for(var o,a=!0,i=ws(e);!(t=(o=yield ys(i.next())).done);a=!0){s=o.value,a=!1;const e=s;if(null==e)continue;const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?Bo(e):e;let n,r=new Uint8Array(l.length+t.length);for(r.set(l),r.set(t,l.length),l=r;-1!==(n=Yo(l));)yield yield ys(l.slice(0,n)),l=l.slice(n)}}catch(c){n={error:c}}finally{try{a||t||!(r=i.return)||(yield ys(r.call(i)))}finally{if(n)throw n.error}}l.length>0&&(yield yield ys(l))})}(i));!(n=(c=yield ys(d.next())).done);u=!0){l=c.value,u=!1;const e=l;for(const t of a.decode(e)){const e=o.decode(t);e&&(yield yield ys(e))}}}catch(p){r={error:p}}finally{try{u||n||!(s=d.return)||(yield ys(s.call(d)))}finally{if(r)throw r.error}}for(const e of a.flush()){const t=o.decode(e);t&&(yield yield ys(t))}})}(e,t));!(n=(c=yield ys(d.next())).done);u=!0){a=c.value,u=!1;const e=a;if(!i)if(e.data.startsWith("[DONE]"))i=!0;else try{yield yield ys(JSON.parse(e.data))}catch(p){throw s.error("Could not parse message into JSON:",e.data),s.error("From chunk:",e.raw),p}}}catch(f){l={error:f}}finally{try{u||n||!(o=d.return)||(yield ys(o.call(d)))}finally{if(l)throw l.error}}i=!0}catch(p){if(lo(p))return yield ys(void 0);throw p}finally{i||t.abort()}})},t,n)}static fromReadableStream(e,t,n){let r=!1;return new sa(function(){return vs(this,arguments,function*(){var n,s,l,o;if(r)throw new ao("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{try{for(var i,c=!0,u=ws(function(){return vs(this,arguments,function*(){var t,n,r,s;const l=new Jo,o=_o(e);try{for(var a,i=!0,c=ws(o);!(t=(a=yield ys(c.next())).done);i=!0){s=a.value,i=!1;const e=s;for(const t of l.decode(e))yield yield ys(t)}}catch(u){n={error:u}}finally{try{i||t||!(r=c.return)||(yield ys(r.call(c)))}finally{if(n)throw n.error}}for(const e of l.flush())yield yield ys(e)})}());!(n=(i=yield ys(u.next())).done);c=!0){o=i.value,c=!1;const e=o;a||e&&(yield yield ys(JSON.parse(e)))}}catch(d){s={error:d}}finally{try{c||n||!(l=u.return)||(yield ys(l.call(u)))}finally{if(s)throw s.error}}a=!0}catch(p){if(lo(p))return yield ys(void 0);throw p}finally{a||t.abort()}})},t,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new sa(()=>r(e),this.controller,this.client),new sa(()=>r(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return Io({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:r}=await t.next();if(r)return e.close();const s=Bo(JSON.stringify(n)+"\n");e.enqueue(s)}catch(n){e.error(n)}},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}}class la{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}async function oa(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:l}=t,o=await(async()=>{var r;if(t.options.stream)return na(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):sa.fromSSEResponse(n,t.controller,e);if(204===n.status)return null;if(t.options.__binaryResponse)return n;const s=n.headers.get("content-type"),l=null===(r=null==s?void 0:s.split(";")[0])||void 0===r?void 0:r.trim();if((null==l?void 0:l.includes("application/json"))||(null==l?void 0:l.endsWith("+json"))){return await n.json()}return await n.text()})();return na(e).debug(`[${r}] response parsed`,ra({retryOfRequestLogID:s,url:n.url,status:n.status,body:o,durationMs:Date.now()-l})),o}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aa extends Promise{constructor(e,t,n=oa){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new aa(this.client,this.responsePromise,async(t,n)=>e(await this.parseResponse(t,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ia=Symbol("brand.privateNullableHeaders");function*ca(e){if(!e)return;if(ia in e){const{values:t,nulls:n}=e;yield*t.entries();for(const e of n)yield[e,null];return}let t,n=!1;e instanceof Headers?t=e.entries():So(e)?t=e:(n=!0,t=Object.entries(null!=e?e:{}));for(let r of t){const e=r[0];if("string"!=typeof e)throw new TypeError("expected header name to be a string");const t=So(r[1])?r[1]:[r[1]];let s=!1;for(const r of t)void 0!==r&&(n&&!s&&(s=!0,yield[e,null]),yield[e,r])}}const ua=e=>{const t=new Headers,n=new Set;for(const r of e){const e=new Set;for(const[s,l]of ca(r)){const r=s.toLowerCase();e.has(r)||(t.delete(s),e.add(r)),null===l?(t.delete(s),n.add(r)):(t.append(s,l),n.delete(r))}}return{[ia]:!0,values:t,nulls:n}},da=e=>{var t,n,r,s,l,o;return void 0!==globalThis.process?null!==(r=null===(n=null===(t=Ne)||void 0===t?void 0:t[e])||void 0===n?void 0:n.trim())&&void 0!==r?r:void 0:void 0!==globalThis.Deno?null===(o=null===(l=null===(s=globalThis.Deno.env)||void 0===s?void 0:s.get)||void 0===l?void 0:l.call(s,e))||void 0===o?void 0:o.trim():void 0};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
var pa;class fa{constructor(e){var t,n,r,s,l,o,a,{baseURL:i=da("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(null!==(t=da("GEMINI_API_KEY"))&&void 0!==t?t:null),apiVersion:u="v1beta"}=e,d=xs(e,["baseURL","apiKey","apiVersion"]);const p=Object.assign(Object.assign({apiKey:c,apiVersion:u},d),{baseURL:i||"https://generativelanguage.googleapis.com"});this.baseURL=p.baseURL,this.timeout=null!==(n=p.timeout)&&void 0!==n?n:fa.DEFAULT_TIMEOUT,this.logger=null!==(r=p.logger)&&void 0!==r?r:console;const f="warn";this.logLevel=f,this.logLevel=null!==(l=null!==(s=Xo(p.logLevel,"ClientOptions.logLevel",this))&&void 0!==s?s:Xo(da("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))&&void 0!==l?l:f,this.fetchOptions=p.fetchOptions,this.maxRetries=null!==(o=p.maxRetries)&&void 0!==o?o:2,this.fetch=null!==(a=p.fetch)&&void 0!==a?a:
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function(){if("undefined"!=typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),this.encoder=Oo,this._options=p,this.apiKey=c,this.apiVersion=u,this.clientAdapter=p.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return"https://generativelanguage.googleapis.com"!==this.baseURL}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!e.has("authorization")&&!e.has("x-goog-api-key")&&!(this.apiKey&&e.get("x-goog-api-key")||t.has("x-goog-api-key")))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=ua([e.headers]);if(!t.values.has("authorization")&&!t.values.has("x-goog-api-key"))return this.apiKey?ua([{"x-goog-api-key":this.apiKey}]):this.clientAdapter.isVertexAI()?ua([await this.clientAdapter.getAuthHeaders()]):void 0}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new ao(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Eo}`}defaultIdempotencyKey(){return`stainless-node-retry-${so()}`}makeStatusError(e,t,n,r){return io.generate(e,t,n,r)}buildURL(e,t,n){const r=!this.baseURLOverridden()&&n||this.baseURL,s=(e=>wo.test(e))(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return function(e){if(!e)return!0;for(const t in e)return!1;return!0}(l)||(t=Object.assign(Object.assign({},l),t)),"object"==typeof t&&t&&!Array.isArray(t)&&(s.search=this.stringifyQuery(t)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:n}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(n=>Object.assign({method:e,path:t},n)))}request(e,t=null){return new aa(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){var r,s,l;const o=await e,a=null!==(r=o.maxRetries)&&void 0!==r?r:this.maxRetries;null==t&&(t=a),await this.prepareOptions(o);const{req:i,url:c,timeout:u}=await this.buildRequest(o,{retryCount:a-t});await this.prepareRequest(i,{url:c,options:o});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),p=void 0===n?"":`, retryOf: ${n}`,f=Date.now();if(na(this).debug(`[${d}] sending request`,ra({retryOfRequestLogID:n,method:o.method,url:c,options:o,headers:i.headers})),null===(s=o.signal)||void 0===s?void 0:s.aborted)throw new co;const m=new AbortController,h=await this.fetchWithTimeout(c,i,u,m).catch(oo),g=Date.now();if(h instanceof globalThis.Error){const e=`retrying, ${t} attempts remaining`;if(null===(l=o.signal)||void 0===l?void 0:l.aborted)throw new co;const r=lo(h)||/timed? ?out/i.test(String(h)+("cause"in h?String(h.cause):""));if(t)return na(this).info(`[${d}] connection ${r?"timed out":"failed"} - ${e}`),na(this).debug(`[${d}] connection ${r?"timed out":"failed"} (${e})`,ra({retryOfRequestLogID:n,url:c,durationMs:g-f,message:h.message})),this.retryRequest(o,t,null!=n?n:d);if(na(this).info(`[${d}] connection ${r?"timed out":"failed"} - error; no more retries left`),na(this).debug(`[${d}] connection ${r?"timed out":"failed"} (error; no more retries left)`,ra({retryOfRequestLogID:n,url:c,durationMs:g-f,message:h.message})),r)throw new po;throw new uo({cause:h})}const x=`[${d}${p}] ${i.method} ${c} ${h.ok?"succeeded":"failed"} with status ${h.status} in ${g-f}ms`;if(!h.ok){const e=await this.shouldRetry(h);if(t&&e){const e=`retrying, ${t} attempts remaining`;return await async function(e){var t,n;if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void(await(null===(n=(t=e[Symbol.asyncIterator]()).return)||void 0===n?void 0:n.call(t)));const r=e.getReader(),s=r.cancel();r.releaseLock(),await s}(h.body),na(this).info(`${x} - ${e}`),na(this).debug(`[${d}] response error (${e})`,ra({retryOfRequestLogID:n,url:h.url,status:h.status,headers:h.headers,durationMs:g-f})),this.retryRequest(o,t,null!=n?n:d,h.headers)}const r=e?"error; no more retries left":"error; not retryable";na(this).info(`${x} - ${r}`);const s=await h.text().catch(e=>oo(e).message),l=(e=>{try{return JSON.parse(e)}catch(t){return}})(s),a=l?void 0:s;na(this).debug(`[${d}] response error (${r})`,ra({retryOfRequestLogID:n,url:h.url,status:h.status,headers:h.headers,message:a,durationMs:Date.now()-f}));throw this.makeStatusError(h.status,l,a,h.headers)}return na(this).info(x),na(this).debug(`[${d}] response start`,ra({retryOfRequestLogID:n,url:h.url,status:h.status,headers:h.headers,durationMs:g-f})),{response:h,options:o,controller:m,requestLogID:d,retryOfRequestLogID:n,startTime:f}}async fetchWithTimeout(e,t,n,r){const s=t||{},{signal:l,method:o}=s,a=xs(s,["signal","method"]);l&&l.addEventListener("abort",()=>r.abort());const i=setTimeout(()=>r.abort(),n),c=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||"object"==typeof a.body&&null!==a.body&&Symbol.asyncIterator in a.body,u=Object.assign(Object.assign(Object.assign({signal:r.signal},c?{duplex:"half"}:{}),{method:"GET"}),a);o&&(u.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,u)}finally{clearTimeout(i)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n,r){var s;let l;const o=null==r?void 0:r.get("retry-after-ms");if(o){const e=parseFloat(o);Number.isNaN(e)||(l=e)}const a=null==r?void 0:r.get("retry-after");if(a&&!l){const e=parseFloat(a);l=Number.isNaN(e)?Date.parse(a)-Date.now():1e3*e}if(!(l&&0<=l&&l<6e4)){const n=null!==(s=e.maxRetries)&&void 0!==s?s:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(t,n)}var i;return await(i=l,new Promise(e=>setTimeout(e,i))),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}async buildRequest(e,{retryCount:t=0}={}){var n,r,s;const l=Object.assign({},e),{method:o,path:a,query:i,defaultBaseURL:c}=l,u=this.buildURL(a,i,c);"timeout"in l&&((e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new ao(`${e} must be an integer`);if(t<0)throw new ao(`${e} must be a positive integer`)})("timeout",l.timeout),l.timeout=null!==(n=l.timeout)&&void 0!==n?n:this.timeout;const{bodyHeaders:d,body:p}=this.buildBody({options:l}),f=await this.buildHeaders({options:e,method:o,bodyHeaders:d,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:f},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&p instanceof globalThis.ReadableStream&&{duplex:"half"}),p&&{body:p}),null!==(r=this.fetchOptions)&&void 0!==r?r:{}),null!==(s=l.fetchOptions)&&void 0!==s?s:{}),url:u,timeout:l.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:n,retryCount:r}){let s={};this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let o=ua([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),null!=Ao?Ao:Ao=Co()),this._options.defaultHeaders,n,e.headers,l]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=ua([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"==typeof e.next)?{bodyHeaders:void 0,body:To(e)}:this.encoder({body:e,headers:n})}}fa.DEFAULT_TIMEOUT=6e4;class ma extends fa{constructor(){super(...arguments),this.interactions=new Go(this)}}function ha(e,t){const n={},r=Ie(e,["baseModel"]);null!=r&&Ae(n,["baseModel"],r);const s=Ie(e,["preTunedModel"]);null!=s&&Ae(n,["preTunedModel"],s);const l=Ie(e,["trainingDataset"]);null!=l&&function(e){const t={};if(void 0!==Ie(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==Ie(e,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=Ie(e,["examples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),Ae(t,["examples","examples"],e)}}(l);const o=Ie(e,["config"]);return null!=o&&function(e,t){const n={};if(void 0!==Ie(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const r=Ie(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=r&&Ae(t,["displayName"],r),void 0!==Ie(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const s=Ie(e,["epochCount"]);void 0!==t&&null!=s&&Ae(t,["tuningTask","hyperparameters","epochCount"],s);const l=Ie(e,["learningRateMultiplier"]);if(null!=l&&Ae(n,["tuningTask","hyperparameters","learningRateMultiplier"],l),void 0!==Ie(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==Ie(e,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==Ie(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const o=Ie(e,["batchSize"]);void 0!==t&&null!=o&&Ae(t,["tuningTask","hyperparameters","batchSize"],o);const a=Ie(e,["learningRate"]);if(void 0!==t&&null!=a&&Ae(t,["tuningTask","hyperparameters","learningRate"],a),void 0!==Ie(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");if(void 0!==Ie(e,["beta"]))throw new Error("beta parameter is not supported in Gemini API.")}(o,n),n}function ga(e,t){const n={},r=Ie(e,["baseModel"]);null!=r&&Ae(n,["baseModel"],r);const s=Ie(e,["preTunedModel"]);null!=s&&Ae(n,["preTunedModel"],s);const l=Ie(e,["trainingDataset"]);null!=l&&function(e,t,n){const r={};let s=Ie(n,["config","method"]);void 0===s&&(s="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===s){const n=Ie(e,["gcsUri"]);void 0!==t&&null!=n&&Ae(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===s){const n=Ie(e,["gcsUri"]);void 0!==t&&null!=n&&Ae(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}let l=Ie(n,["config","method"]);void 0===l&&(l="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===l){const n=Ie(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&Ae(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===l){const n=Ie(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&Ae(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}if(void 0!==Ie(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.")}(l,n,t);const o=Ie(e,["config"]);return null!=o&&function(e,t,n){let r=Ie(n,["config","method"]);if(void 0===r&&(r="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===r){const n=Ie(e,["validationDataset"]);void 0!==t&&null!=n&&Ae(t,["supervisedTuningSpec"],wa(n))}else if("PREFERENCE_TUNING"===r){const n=Ie(e,["validationDataset"]);void 0!==t&&null!=n&&Ae(t,["preferenceOptimizationSpec"],wa(n))}const s=Ie(e,["tunedModelDisplayName"]);void 0!==t&&null!=s&&Ae(t,["tunedModelDisplayName"],s);const l=Ie(e,["description"]);void 0!==t&&null!=l&&Ae(t,["description"],l);let o=Ie(n,["config","method"]);if(void 0===o&&(o="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===o){const n=Ie(e,["epochCount"]);void 0!==t&&null!=n&&Ae(t,["supervisedTuningSpec","hyperParameters","epochCount"],n)}else if("PREFERENCE_TUNING"===o){const n=Ie(e,["epochCount"]);void 0!==t&&null!=n&&Ae(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],n)}let a=Ie(n,["config","method"]);if(void 0===a&&(a="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===a){const n=Ie(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&Ae(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],n)}else if("PREFERENCE_TUNING"===a){const n=Ie(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&Ae(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],n)}let i=Ie(n,["config","method"]);if(void 0===i&&(i="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===i){const n=Ie(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&Ae(t,["supervisedTuningSpec","exportLastCheckpointOnly"],n)}else if("PREFERENCE_TUNING"===i){const n=Ie(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&Ae(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],n)}let c=Ie(n,["config","method"]);if(void 0===c&&(c="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===c){const n=Ie(e,["adapterSize"]);void 0!==t&&null!=n&&Ae(t,["supervisedTuningSpec","hyperParameters","adapterSize"],n)}else if("PREFERENCE_TUNING"===c){const n=Ie(e,["adapterSize"]);void 0!==t&&null!=n&&Ae(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],n)}if(void 0!==Ie(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==Ie(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");const u=Ie(e,["labels"]);void 0!==t&&null!=u&&Ae(t,["labels"],u);const d=Ie(e,["beta"]);void 0!==t&&null!=d&&Ae(t,["preferenceOptimizationSpec","hyperParameters","beta"],d)}(o,n,t),n}function xa(e,t){const n={},r=Ie(e,["config"]);return null!=r&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ae(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);void 0!==t&&null!=r&&Ae(t,["_query","pageToken"],r);const s=Ie(e,["filter"]);void 0!==t&&null!=s&&Ae(t,["_query","filter"],s)}(r,n),n}function ba(e,t){const n={},r=Ie(e,["config"]);return null!=r&&function(e,t){const n=Ie(e,["pageSize"]);void 0!==t&&null!=n&&Ae(t,["_query","pageSize"],n);const r=Ie(e,["pageToken"]);void 0!==t&&null!=r&&Ae(t,["_query","pageToken"],r);const s=Ie(e,["filter"]);void 0!==t&&null!=s&&Ae(t,["_query","filter"],s)}(r,n),n}function ya(e,t){const n={},r=Ie(e,["sdkHttpResponse"]);null!=r&&Ae(n,["sdkHttpResponse"],r);const s=Ie(e,["name"]);null!=s&&Ae(n,["name"],s);const l=Ie(e,["state"]);null!=l&&Ae(n,["state"],Fr(l));const o=Ie(e,["createTime"]);null!=o&&Ae(n,["createTime"],o);const a=Ie(e,["tuningTask","startTime"]);null!=a&&Ae(n,["startTime"],a);const i=Ie(e,["tuningTask","completeTime"]);null!=i&&Ae(n,["endTime"],i);const c=Ie(e,["updateTime"]);null!=c&&Ae(n,["updateTime"],c);const u=Ie(e,["description"]);null!=u&&Ae(n,["description"],u);const d=Ie(e,["baseModel"]);null!=d&&Ae(n,["baseModel"],d);const p=Ie(e,["_self"]);return null!=p&&Ae(n,["tunedModel"],function(e){const t={},n=Ie(e,["name"]);null!=n&&Ae(t,["model"],n);const r=Ie(e,["name"]);return null!=r&&Ae(t,["endpoint"],r),t}(p)),n}function va(e,t){const n={},r=Ie(e,["sdkHttpResponse"]);null!=r&&Ae(n,["sdkHttpResponse"],r);const s=Ie(e,["name"]);null!=s&&Ae(n,["name"],s);const l=Ie(e,["state"]);null!=l&&Ae(n,["state"],Fr(l));const o=Ie(e,["createTime"]);null!=o&&Ae(n,["createTime"],o);const a=Ie(e,["startTime"]);null!=a&&Ae(n,["startTime"],a);const i=Ie(e,["endTime"]);null!=i&&Ae(n,["endTime"],i);const c=Ie(e,["updateTime"]);null!=c&&Ae(n,["updateTime"],c);const u=Ie(e,["error"]);null!=u&&Ae(n,["error"],u);const d=Ie(e,["description"]);null!=d&&Ae(n,["description"],d);const p=Ie(e,["baseModel"]);null!=p&&Ae(n,["baseModel"],p);const f=Ie(e,["tunedModel"]);null!=f&&Ae(n,["tunedModel"],f);const m=Ie(e,["preTunedModel"]);null!=m&&Ae(n,["preTunedModel"],m);const h=Ie(e,["supervisedTuningSpec"]);null!=h&&Ae(n,["supervisedTuningSpec"],h);const g=Ie(e,["preferenceOptimizationSpec"]);null!=g&&Ae(n,["preferenceOptimizationSpec"],g);const x=Ie(e,["tuningDataStats"]);null!=x&&Ae(n,["tuningDataStats"],x);const b=Ie(e,["encryptionSpec"]);null!=b&&Ae(n,["encryptionSpec"],b);const y=Ie(e,["partnerModelTuningSpec"]);null!=y&&Ae(n,["partnerModelTuningSpec"],y);const v=Ie(e,["customBaseModel"]);null!=v&&Ae(n,["customBaseModel"],v);const w=Ie(e,["experiment"]);null!=w&&Ae(n,["experiment"],w);const N=Ie(e,["labels"]);null!=N&&Ae(n,["labels"],N);const S=Ie(e,["outputUri"]);null!=S&&Ae(n,["outputUri"],S);const E=Ie(e,["pipelineJob"]);null!=E&&Ae(n,["pipelineJob"],E);const C=Ie(e,["serviceAccount"]);null!=C&&Ae(n,["serviceAccount"],C);const j=Ie(e,["tunedModelDisplayName"]);null!=j&&Ae(n,["tunedModelDisplayName"],j);const k=Ie(e,["veoTuningSpec"]);return null!=k&&Ae(n,["veoTuningSpec"],k),n}function wa(e,t){const n={},r=Ie(e,["gcsUri"]);null!=r&&Ae(n,["validationDatasetUri"],r);const s=Ie(e,["vertexDatasetResource"]);return null!=s&&Ae(n,["validationDatasetUri"],s),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */pa=ma,ma.GeminiNextGenAPIClient=pa,ma.GeminiNextGenAPIClientError=ao,ma.APIError=io,ma.APIConnectionError=uo,ma.APIConnectionTimeoutError=po,ma.APIUserAbortError=co,ma.NotFoundError=go,ma.ConflictError=xo,ma.RateLimitError=yo,ma.BadRequestError=fo,ma.AuthenticationError=mo,ma.InternalServerError=vo,ma.PermissionDeniedError=ho,ma.UnprocessableEntityError=bo,ma.toFile=async function(e,t,n){if(Po(),(e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&Do(e))(e=await e))return e instanceof File?e:Ro([await e.arrayBuffer()],e.name);if((e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob)(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Ro(await Mo(r),t,n)}const r=await Mo(e);if(t||(t=function(e){return("object"==typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}(e)),!(null==n?void 0:n.type)){const e=r.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(n=Object.assign(Object.assign({},n),{type:e}))}return Ro(r,t,n)},ma.Interactions=Go;class Na extends je{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new as(Gn.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.get=async e=>await this.getInternal(e),this.tune=async e=>{var t;if(this.apiClient.isVertexAI()){if(e.baseModel.startsWith("projects/")){const n={tunedModelName:e.baseModel};(null===(t=e.config)||void 0===t?void 0:t.preTunedModelCheckpointId)&&(n.checkpointId=e.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},e),{preTunedModel:n});return r.baseModel=void 0,await this.tuneInternal(r)}{const t=Object.assign({},e);return await this.tuneInternal(t)}}{const t=Object.assign({},e),n=await this.tuneMldevInternal(t);let r="";void 0!==n.metadata&&void 0!==n.metadata.tunedModel?r=n.metadata.tunedModel:void 0!==n.name&&n.name.includes("/operations/")&&(r=n.name.split("/operations/")[0]);return{name:r,state:Ot.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Ie(e,["name"]);return null!=n&&Ae(t,["_url","name"],n),t}(e);return o=ke("{name}",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>va(e))}{const t=function(e){const t={},n=Ie(e,["name"]);return null!=n&&Ae(t,["_url","name"],n),t}(e);return o=ke("{name}",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>ya(e))}}async listInternal(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=ba(e);return o=ke("tuningJobs",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ae(t,["nextPageToken"],r);const s=Ie(e,["tuningJobs"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>va(e))),Ae(t,["tuningJobs"],e)}return t}(e),n=new rr;return Object.assign(n,t),n})}{const t=xa(e);return o=ke("tunedModels",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["nextPageToken"]);null!=r&&Ae(t,["nextPageToken"],r);const s=Ie(e,["tunedModels"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>ya(e))),Ae(t,["tuningJobs"],e)}return t}(e),n=new rr;return Object.assign(n,t),n})}}async cancel(e){var t,n,r,s;let l,o="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=Ie(e,["name"]);return null!=n&&Ae(t,["_url","name"],n),t}(e);return o=ke("{name}:cancel",r._url),a=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ae(t,["sdkHttpResponse"],n),t}(e),n=new sr;return Object.assign(n,t),n})}{const t=
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function(e){const t={},n=Ie(e,["name"]);return null!=n&&Ae(t,["_url","name"],n),t}(e);return o=ke("{name}:cancel",t._url),a=t._query,delete t._url,delete t._query,l=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(s=e.config)||void 0===s?void 0:s.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),l.then(e=>{const t=function(e){const t={},n=Ie(e,["sdkHttpResponse"]);return null!=n&&Ae(t,["sdkHttpResponse"],n),t}(e),n=new sr;return Object.assign(n,t),n})}}async tuneInternal(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI()){const o=ga(e,e);return s=ke("tuningJobs",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>va(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let r,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ha(e);return s=ke("tunedModels",o._url),l=o._query,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>function(e){const t={},n=Ie(e,["sdkHttpResponse"]);null!=n&&Ae(t,["sdkHttpResponse"],n);const r=Ie(e,["name"]);null!=r&&Ae(t,["name"],r);const s=Ie(e,["metadata"]);null!=s&&Ae(t,["metadata"],s);const l=Ie(e,["done"]);null!=l&&Ae(t,["done"],l);const o=Ie(e,["error"]);return null!=o&&Ae(t,["error"],o),t}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sa{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Ea="x-goog-upload-status";async function Ca(e,t,n){var r,s;let l=0,o=0,a=new Vn(new Response),i="upload";for(l=e.size;o<l;){const c=Math.min(8388608,l-o),u=e.slice(o,o+c);o+c>=l&&(i+=", finalize");let d=0,p=1e3;for(;d<3&&(a=await n.request({path:"",body:u,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":i,"X-Goog-Upload-Offset":String(o),"Content-Length":String(c)}}}),!(null===(r=null==a?void 0:a.headers)||void 0===r?void 0:r[Ea]));)d++,await ja(p),p*=2;if(o+=c,"active"!==(null===(s=null==a?void 0:a.headers)||void 0===s?void 0:s[Ea]))break;if(l<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}function ja(e){return new Promise(t=>setTimeout(t,e))}class ka{async upload(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const s=await Ca(e,t,n),l=await(null==s?void 0:s.json());if("final"!==(null===(r=null==s?void 0:s.headers)||void 0===r?void 0:r[Ea]))throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}(e,t,n)}async uploadToFileSearchStore(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const s=await Ca(e,t,n),l=await(null==s?void 0:s.json());if("final"!==(null===(r=null==s?void 0:s.headers)||void 0===r?void 0:r[Ea]))throw new Error("Failed to upload file: Upload status is not finalized.");const o=De(l),a=new xr;return Object.assign(a,o),a}(e,t,n)}async stat(e){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aa{create(e,t,n){return new Ia(e,t,n)}}class Ia{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ta="x-goog-api-key";class _a{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(null===e.get(Ta)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Ta,this.apiKey)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */new class{get interactions(){if(void 0!==this._interactions)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;(null==e?void 0:e.extraBody)&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new ma({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:null==e?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=Ce(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new _a(this.apiKey);this.apiClient=new Ol({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:"gl-node/web",uploader:new ka,downloader:new Sa}),this.models=new Wl(this.apiClient),this.live=new ql(this.apiClient,r,new Aa),this.batches=new is(this.apiClient),this.chats=new Cs(this.models,this.apiClient),this.caches=new gs(this.apiClient),this.files=new Is(this.apiClient),this.operations=new Yl(this.apiClient),this.authTokens=new Zl(this.apiClient),this.tunings=new Na(this.apiClient),this.fileSearchStores=new ro(this.apiClient)}}({apiKey:""});const Oa="scan2oblio_persons",Pa=()=>{const e={issuers:[],deputies:[],salesAgents:[]};try{const t=localStorage.getItem(Oa);if(console.log("[DEBUG] Raw localStorage value:",t),!t)return e;const n=JSON.parse(t);return{...e,...n}}catch(t){return console.error("Error loading persons from localStorage:",t),e}},Ra=e=>{try{localStorage.setItem(Oa,JSON.stringify(e))}catch(t){console.error("Error saving persons to localStorage:",t)}},Da=e=>{switch(e){case"issuer":return"issuers";case"deputy":return"deputies";case"salesAgent":return"salesAgents"}},Ma=({type:e,label:t,value:r,onChange:s,onFieldsChange:l,placeholder:o="Selecteaz sau adaug..."})=>{var a;const[i,c]=n.useState([]),[u,d]=n.useState(""),[p,f]=n.useState(!1),[h,g]=n.useState(!1),[x,b]=n.useState({name:"",cnp:"",identityCard:"",auto:""});n.useEffect(()=>{y()},[e]);const y=()=>{const t=Pa();console.log("[DEBUG] FULL LOCAL STORAGE content:",t);const n=(e=>Pa()[Da(e)].sort((e,t)=>{const n=e.lastUsed?new Date(e.lastUsed).getTime():0;return(t.lastUsed?new Date(t.lastUsed).getTime():0)-n}))(e);console.log(`[DEBUG] Loaded persons for current type '${e}':`,n),c(n)},v=i.filter(e=>e&&e.name&&e.name.toLowerCase().includes(u.toLowerCase())),w=t=>{s(t),((e,t)=>{const n=Pa(),r=Da(t),s=n[r].findIndex(t=>t.id===e);s>=0&&(n[r][s].lastUsed=(new Date).toISOString(),Ra(n))})(t.id,e);const n={};"issuer"===e&&t.cnp?n.issuerId=t.cnp:"deputy"===e&&(t.identityCard&&(n.deputyIdentityCard=t.identityCard),t.auto&&(n.deputyAuto=t.auto)),Object.keys(n).length>0&&l(n),f(!1),d("")},N=(t,n)=>{n.stopPropagation(),confirm("Sigur vrei s tergi aceast persoan?")&&(((e,t)=>{const n=Pa(),r=Da(t);n[r]=n[r].filter(t=>t.id!==e),Ra(n)})(t,e),y(),(null==r?void 0:r.id)===t&&s(null))};return m.jsxs("div",{className:"relative "+(p?"z-50":"z-auto"),children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:t}),r?m.jsxs("div",{className:"bg-slate-900 border border-emerald-600 rounded-lg px-4 py-2.5 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(pe,{className:"w-4 h-4 text-emerald-400"}),m.jsx("span",{className:"text-white font-medium",children:r.name}),"issuer"===e&&r.cnp&&m.jsxs("span",{className:"text-xs text-slate-400",children:["CNP: ",r.cnp]})]}),m.jsx("button",{onClick:()=>{s(null),l("issuer"===e?{issuerId:""}:"deputy"===e?{deputyIdentityCard:"",deputyAuto:""}:{})},className:"text-slate-400 hover:text-white transition-colors",children:m.jsx(fe,{className:"w-4 h-4"})})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",value:u,onChange:e=>{d(e.target.value),f(!0)},onFocus:()=>f(!0),placeholder:o,className:"w-full bg-slate-900 border border-slate-700 text-white rounded-lg px-4 py-2.5 pr-10 focus:ring-2 focus:ring-emerald-500 outline-none"}),m.jsx(se,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"})]}),p&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),m.jsxs("div",{className:"absolute z-20 mt-2 w-full bg-slate-800 border border-slate-700 rounded-lg shadow-xl max-h-64 overflow-y-auto",children:[m.jsxs("button",{onClick:()=>{g(!0),f(!1)},className:"w-full px-4 py-3 text-left hover:bg-slate-700 transition-colors border-b border-slate-700 flex items-center gap-2 text-emerald-400",children:[m.jsx(Z,{className:"w-4 h-4"}),m.jsxs("span",{className:"font-medium",children:["Adaug ",t," Nou"]})]}),v.length>0?v.map(t=>m.jsxs("div",{onClick:()=>w(t),className:"px-4 py-3 hover:bg-slate-700 transition-colors cursor-pointer flex items-center justify-between group",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-white font-medium",children:t.name}),"issuer"===e&&t.cnp&&m.jsxs("div",{className:"text-xs text-slate-400",children:["CNP: ",t.cnp]}),"deputy"===e&&m.jsxs("div",{className:"text-xs text-slate-400",children:[t.identityCard&&`CI: ${t.identityCard}`,t.identityCard&&t.auto&&"  ",t.auto&&`Auto: ${t.auto}`]})]}),m.jsx("button",{onClick:e=>N(t.id,e),className:"opacity-0 group-hover:opacity-100 text-red-400 hover:text-red-300 transition-opacity",children:m.jsx(ce,{className:"w-4 h-4"})})]},t.id)):m.jsx("div",{className:"px-4 py-8 text-center text-slate-400",children:u?`Nu s-au gsit rezultate (${i.length} salvate)`:`Nicio persoan salvat (${i.length})`})]})]})]}),h&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:m.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 max-w-md w-full border border-slate-700",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:"text-lg font-bold text-white",children:["Adaug ",t," Nou"]}),m.jsx("button",{onClick:()=>g(!1),className:"text-slate-400 hover:text-white transition-colors",children:m.jsx(fe,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:["Nume ",t," *"]}),m.jsx("input",{type:"text",value:x.name||"",onChange:e=>b(t=>({...t,name:e.target.value})),className:"w-full bg-slate-900 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Ex: Ion Popescu",autoFocus:!0})]}),"issuer"===e&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"CNP"}),m.jsx("input",{type:"text",value:x.cnp||"",onChange:e=>b(t=>({...t,cnp:e.target.value})),className:"w-full bg-slate-900 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"1234567890123",maxLength:13})]}),"deputy"===e&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"CI Delegat"}),m.jsx("input",{type:"text",value:x.identityCard||"",onChange:e=>b(t=>({...t,identityCard:e.target.value})),className:"w-full bg-slate-900 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Ex: CT 123456"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Auto Delegat"}),m.jsx("input",{type:"text",value:x.auto||"",onChange:e=>b(t=>({...t,auto:e.target.value})),className:"w-full bg-slate-900 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Ex: CT 12 ABC"})]})]})]}),m.jsxs("div",{className:"mt-6 flex gap-3",children:[m.jsx("button",{onClick:()=>g(!1),className:"flex-1 py-2.5 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-colors",children:"Anuleaz"}),m.jsx("button",{onClick:()=>{var t,n,r,s;if(!(null==(t=x.name)?void 0:t.trim()))return;const l={id:`person_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:x.name.trim(),type:e,cnp:(null==(n=x.cnp)?void 0:n.trim())||void 0,identityCard:(null==(r=x.identityCard)?void 0:r.trim())||void 0,auto:(null==(s=x.auto)?void 0:s.trim())||void 0};(e=>{const t=Pa(),n=Da(e.type),r=t[n].findIndex(t=>t.name.toLowerCase()===e.name.toLowerCase());r>=0?t[n][r]={...e,lastUsed:(new Date).toISOString()}:t[n].push({...e,lastUsed:(new Date).toISOString()}),Ra(t)})(l),y(),w(l),b({name:"",cnp:"",identityCard:"",auto:""}),g(!1)},disabled:!(null==(a=x.name)?void 0:a.trim()),className:"flex-1 py-2.5 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Adaug"})]})]})})]})},La=({config:e,onClose:t,onSuccess:r,initialData:s})=>{const[l,o]=n.useState({name:(null==s?void 0:s.name)||"",cif:(null==s?void 0:s.cif)||"",rc:(null==s?void 0:s.rc)||"",address:(null==s?void 0:s.address)||"",city:(null==s?void 0:s.city)||"",state:(null==s?void 0:s.state)||"",country:(null==s?void 0:s.country)||"Romania",email:(null==s?void 0:s.email)||"",phone:(null==s?void 0:s.phone)||"",iban:(null==s?void 0:s.iban)||"",bank:(null==s?void 0:s.bank)||"",contact:(null==s?void 0:s.contact)||"",vatPayer:(null==s?void 0:s.vatPayer)||!1}),[a,i]=n.useState(!1),[c,u]=n.useState(null),[d,p]=n.useState(!1),f=async e=>{var n,s;if(e.preventDefault(),null==(n=l.name)?void 0:n.trim())if(d||(null==(s=l.cif)?void 0:s.trim())){i(!0),u(null);try{const e={id:`temp_${Date.now()}`,name:l.name,cif:l.cif||"",rc:l.rc||"",address:l.address||"",city:l.city||"",state:l.state||"",country:l.country||"Romania",email:l.email||"",phone:l.phone||"",iban:l.iban||"",bank:l.bank||"",contact:l.contact||"",vatPayer:l.vatPayer||!1};r(e),t()}catch(o){u(o.message||"Eroare la procesarea datelor clientului")}finally{i(!1)}}else u("CIF-ul este obligatoriu (sau bifai Fr CNP).");else u("Numele este obligatoriu.")},h=(e,t)=>{o(n=>({...n,[e]:t}))};return m.jsx("div",{className:"fixed inset-0 z-[60] bg-black/80 flex items-center justify-center p-4 overflow-y-auto",children:m.jsxs("div",{className:"bg-slate-900 rounded-xl border border-slate-700 w-full max-w-4xl shadow-2xl flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-800 bg-slate-900 sticky top-0 z-10 rounded-t-xl",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(pe,{className:"w-6 h-6 text-emerald-400"}),m.jsx("h2",{className:"text-xl font-bold text-white",children:"Adaug Client Nou"})]}),m.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors p-2 hover:bg-slate-800 rounded-lg",children:m.jsx(fe,{className:"w-6 h-6"})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[c&&m.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-4 text-red-200 text-sm",children:c}),m.jsxs("form",{id:"client-form",onSubmit:f,className:"space-y-8",children:[m.jsxs("section",{children:[m.jsxs("h3",{className:"text-sm font-semibold text-emerald-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[m.jsx(T,{className:"w-4 h-4"}),"Date Identificare"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Nume Client *"}),m.jsx("input",{type:"text",value:l.name,onChange:e=>h("name",e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Nume Companie sau Persoan",autoFocus:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"CIF / CNP *"}),m.jsx("input",{type:"text",value:l.cif,onChange:e=>h("cif",e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"RO123456",disabled:d}),m.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[m.jsx("input",{type:"checkbox",id:"defaultCnp",checked:d,onChange:e=>{const t=e.target.checked;p(t),t&&h("cif","")},className:"w-4 h-4 rounded border-slate-700 bg-slate-800 text-emerald-500 focus:ring-emerald-500"}),m.jsx("label",{htmlFor:"defaultCnp",className:"text-xs text-slate-400",children:"Fr CNP / Persoan Fizic"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Nr. Reg. Com."}),m.jsx("input",{type:"text",value:l.rc||"",onChange:e=>h("rc",e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"J40/123/2023"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"checkbox",id:"vatPayer",checked:l.vatPayer||!1,onChange:e=>h("vatPayer",e.target.checked),className:"w-4 h-4 rounded border-slate-700 bg-slate-800 text-emerald-500 focus:ring-emerald-500"}),m.jsx("label",{htmlFor:"vatPayer",className:"text-sm text-slate-300",children:"Pltitor de TVA"})]})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-sm font-semibold text-emerald-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[m.jsx(K,{className:"w-4 h-4"}),"Adres"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Adres complet"}),m.jsx("textarea",{value:l.address||"",onChange:e=>h("address",e.target.value),rows:2,className:"w-full bg-slate-800 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none resize-none",placeholder:"Strada, Numr, Bloc, etc."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Jude"}),m.jsx("input",{type:"text",value:l.state||"",onChange:e=>h("state",e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Bucureti"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Ora"}),m.jsx("input",{type:"text",value:l.city||"",onChange:e=>h("city",e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Sector 1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"ar"}),m.jsx("input",{type:"text",value:l.country||"Romania",onChange:e=>h("country",e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none"})]})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-sm font-semibold text-emerald-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[m.jsx(Y,{className:"w-4 h-4"}),"Contact"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Email"}),m.jsx("input",{type:"email",value:l.email||"",onChange:e=>h("email",e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"contact@firma.ro"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Telefon"}),m.jsx("input",{type:"text",value:l.phone||"",onChange:e=>h("phone",e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"07xxxxxxxx"})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Persoan de contact"}),m.jsx("input",{type:"text",value:l.contact||"",onChange:e=>h("contact",e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Nume Prenume"})]})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-sm font-semibold text-emerald-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[m.jsx(G,{className:"w-4 h-4"}),"Date Financiare"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Banca"}),m.jsx("input",{type:"text",value:l.bank||"",onChange:e=>h("bank",e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Nume Banc"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Cont IBAN"}),m.jsx("input",{type:"text",value:l.iban||"",onChange:e=>h("iban",e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"RO00BANC..."})]})]})]})]})]}),m.jsxs("div",{className:"p-6 border-t border-slate-800 bg-slate-900 sticky bottom-0 z-10 rounded-b-xl flex justify-end gap-3",children:[m.jsx("button",{onClick:t,disabled:a,className:"px-6 py-2.5 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:"Anuleaz"}),m.jsx("button",{onClick:f,disabled:a,className:"px-8 py-2.5 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-bold transition-colors disabled:opacity-50 flex items-center gap-2",children:a?m.jsxs(m.Fragment,{children:[m.jsx(J,{className:"w-5 h-5 animate-spin"}),"Se salveaz..."]}):m.jsxs(m.Fragment,{children:[m.jsx(ne,{className:"w-5 h-5"}),"Salveaz Client"]})})]})]})})},Ua=["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],Fa=["Lu","Ma","Mi","Jo","Vi","S","Du"],za=({value:e,onChange:t,label:r,placeholder:s="ZZ.LL.AAAA",className:l=""})=>{const[o,a]=n.useState(!1),[i,c]=n.useState(new Date),u=n.useRef(null);n.useEffect(()=>{if(e){const t=new Date(e);isNaN(t.getTime())||c(t)}},[e]),n.useEffect(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const d=e=>{const t=new Date(i);t.setMonth(t.getMonth()+e),c(t)},p=(f=i.getFullYear(),h=i.getMonth(),new Date(f,h+1,0).getDate());var f,h;const g=((e,t)=>{const n=new Date(e,t,1).getDay();return 0===n?6:n-1})(i.getFullYear(),i.getMonth()),x=Array.from({length:p},(e,t)=>t+1),b=Array.from({length:g},(e,t)=>t);return m.jsxs("div",{className:`relative ${l}`,ref:u,children:[r&&m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:r}),m.jsxs("div",{onClick:()=>a(!o),className:"w-full bg-slate-900 border border-slate-700 text-white rounded-lg px-4 py-2.5 flex items-center justify-between cursor-pointer hover:border-slate-600 transition-colors focus-within:ring-2 focus-within:ring-emerald-500",children:[m.jsx("span",{className:e?"text-white":"text-slate-500",children:e?(e=>{if(!e)return"";const[t,n,r]=e.split("-");return t&&n&&r?`${r}.${n}.${t}`:e})(e):s}),m.jsx(_,{className:"w-4 h-4 text-slate-400"})]}),o&&m.jsxs("div",{className:"absolute z-50 top-full mt-2 left-0 w-72 bg-slate-800 border border-slate-700 rounded-xl shadow-2xl p-4 animate-in fade-in zoom-in-95 duration-100",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("button",{onClick:e=>{e.stopPropagation(),d(-1)},className:"p-1 hover:bg-slate-700 rounded-lg text-slate-400 hover:text-white transition-colors",children:m.jsx(D,{className:"w-5 h-5"})}),m.jsxs("span",{className:"font-semibold text-white",children:[Ua[i.getMonth()]," ",i.getFullYear()]}),m.jsx("button",{onClick:e=>{e.stopPropagation(),d(1)},className:"p-1 hover:bg-slate-700 rounded-lg text-slate-400 hover:text-white transition-colors",children:m.jsx(R,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"grid grid-cols-7 mb-2",children:Fa.map(e=>m.jsx("div",{className:"h-8 flex items-center justify-center text-xs font-medium text-slate-500",children:e},e))}),m.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[b.map(e=>m.jsx("div",{},`blank-${e}`)),x.map(n=>{const r=e===`${i.getFullYear()}-${(i.getMonth()+1).toString().padStart(2,"0")}-${n.toString().padStart(2,"0")}`,s=(new Date).toDateString()===new Date(i.getFullYear(),i.getMonth(),n).toDateString();return m.jsx("button",{onClick:e=>{e.stopPropagation(),(e=>{const n=`${i.getFullYear()}-${(i.getMonth()+1).toString().padStart(2,"0")}-${e.toString().padStart(2,"0")}`;t(n),a(!1)})(n)},className:`\n                                        h-8 w-8 rounded-lg text-sm flex items-center justify-center transition-all\n                                        ${r?"bg-emerald-600 text-white font-bold shadow-lg shadow-emerald-600/20":s?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/30":"text-slate-300 hover:bg-slate-700 hover:text-white"}\n                                    `,children:n},n)})]}),e&&m.jsx("div",{className:"mt-3 pt-3 border-t border-slate-700",children:m.jsxs("button",{onClick:e=>{e.stopPropagation(),t(""),a(!1)},className:"w-full py-1 text-xs text-slate-400 hover:text-red-400 transition-colors flex items-center justify-center gap-1",children:[m.jsx(fe,{className:"w-3 h-3"}),"terge data"]})})]})]})},qa=({config:e,selectedStation:t,onSelect:r})=>{const[s,l]=n.useState([]),[o,a]=n.useState(!1);return n.useEffect(()=>{(async()=>{if(e.cif){a(!0);try{const t=await we(e);console.log("[DEBUG] ManagementUnits fetched:",t),l(t)}catch(t){console.error("Failed to load management units",t)}finally{a(!1)}}})()},[e.cif,e.email]),s&&0!==s.length?m.jsxs("div",{className:"flex items-center gap-2 bg-slate-800 rounded-lg p-2 border border-slate-700",children:[m.jsx(I,{className:"w-4 h-4 text-emerald-400"}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-wider leading-none mb-0.5",children:"Gestiune / Punct Lucru"}),m.jsx("select",{value:t,onChange:e=>r(e.target.value),className:"bg-slate-800 text-sm font-bold text-white outline-none border-none p-0 cursor-pointer hover:text-emerald-400 transition-colors w-full min-w-[120px]",disabled:o,children:o?m.jsx("option",{children:"Se ncarc..."}):m.jsx(m.Fragment,{children:s.map((e,t)=>{const n=e.name||e.management||e.workStation||`Gestiune ${t+1}`;return m.jsx("option",{value:e.name||n,className:"bg-slate-900 text-white",children:n},t)})})})]})]}):null},Ga=({config:e,initialProducts:t,onClose:r,onSuccess:l})=>{const[o,a]=n.useState([]),[i,c]=n.useState(!1),[u,d]=n.useState(""),[p,f]=n.useState(!1),[h,g]=n.useState(!1),[x,b]=n.useState(null),y=s.useRef(null),[v,w]=n.useState(null),[N,S]=n.useState(null),[E,C]=n.useState(null),[j,k]=n.useState({client:null,issueDate:(new Date).toISOString().split("T")[0],dueDate:"",deliveryDate:"",collectDate:"",seriesName:e.seriesName||"",workStation:e.workStation||"Sediu",language:"RO",currency:"RON",products:t,mentions:"",internalNote:"",issuerName:"",issuerId:"",deputyName:"",deputyIdentityCard:"",deputyAuto:"",salesAgent:"",noticeNumber:""}),[A,I]=n.useState(!1),[T,P]=n.useState(null);n.useEffect(()=>{R()},[]);const R=async()=>{c(!0),P(null);try{const t=await(async e=>{if(console.log("Fetching clients from Oblio via PHP backend..."),!e.email||!e.apiSecret||!e.cif)throw new Error("Credeniale Oblio lips (Email, Secret, CIF).");const t=encodeURIComponent(e.cif.trim()),n=encodeURIComponent(e.email.trim()),r=encodeURIComponent(e.apiSecret.trim()),s=`${ye}?action=clients&email=${n}&apiSecret=${r}&cif=${t}`;try{const e=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();if(!t.success)throw new Error(t.error||"Eroare la obinerea clienilor din Oblio.");return t.data&&Array.isArray(t.data)?(console.log("Clients fetched:",t.data.length),t.data):(console.warn("Unexpected API response format:",t),[])}catch(T){if(console.error("Oblio Clients Fetch Error:",T),T.message.includes("Failed to fetch"))throw new Error("Eroare Conexiune. Verificai c backend-ul PHP este accesibil.");throw T}})(e);a(t)}catch(t){P(t.message||"Eroare la ncrcarea clienilor")}finally{c(!1)}},D=o.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())||e.cif.toLowerCase().includes(u.toLowerCase())),L=(e,t,n)=>{k(r=>({...r,products:r.products.map((r,s)=>s===e?{...r,[t]:n}:r)}))};return m.jsxs("div",{className:"fixed inset-0 z-50 bg-slate-900 overflow-y-auto",children:[m.jsx("div",{className:"sticky top-0 z-10 bg-slate-900/95 backdrop-blur-md border-b border-slate-700 px-6 py-4",children:m.jsxs("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(B,{className:"w-6 h-6 text-emerald-400"}),m.jsx("h1",{className:"text-2xl font-bold text-white",children:"Creare Factur"})]}),m.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-800 rounded-full transition-colors text-slate-400 hover:text-white",children:m.jsx(fe,{className:"w-6 h-6"})})]})}),m.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8 space-y-8",children:[T&&m.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 rounded-xl p-4 flex items-start gap-3",children:[m.jsx(M,{className:"w-5 h-5 text-red-400 shrink-0 mt-0.5"}),m.jsx("div",{className:"flex-1",children:m.jsx("p",{className:"text-red-200 text-sm",children:T})}),m.jsx("button",{onClick:()=>P(null),className:"text-red-400 hover:text-red-300",children:m.jsx(fe,{className:"w-4 h-4"})})]}),m.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx(pe,{className:"w-5 h-5 text-emerald-400"}),m.jsx("h2",{className:"text-lg font-bold text-white",children:"Client"})]}),j.client?m.jsx("div",{className:"bg-slate-900 rounded-lg p-4 border border-slate-700",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("h3",{className:"font-semibold text-white text-lg",children:j.client.name}),m.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1 text-sm",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-slate-400",children:"CIF:"})," ",m.jsx("span",{className:"text-white",children:j.client.cif})]}),j.client.rc&&m.jsxs("div",{children:[m.jsx("span",{className:"text-slate-400",children:"RC:"})," ",m.jsx("span",{className:"text-white",children:j.client.rc})]}),j.client.address&&m.jsxs("div",{className:"col-span-2",children:[m.jsx("span",{className:"text-slate-400",children:"Adres:"})," ",m.jsx("span",{className:"text-white",children:j.client.address})]}),j.client.city&&m.jsxs("div",{children:[m.jsx("span",{className:"text-slate-400",children:"Ora:"})," ",m.jsx("span",{className:"text-white",children:j.client.city})]}),j.client.email&&m.jsxs("div",{children:[m.jsx("span",{className:"text-slate-400",children:"Email:"})," ",m.jsx("span",{className:"text-white",children:j.client.email})]}),j.client.phone&&m.jsxs("div",{children:[m.jsx("span",{className:"text-slate-400",children:"Telefon:"})," ",m.jsx("span",{className:"text-white",children:j.client.phone})]})]})]}),m.jsx("button",{onClick:()=>k(e=>({...e,client:null})),className:"text-slate-400 hover:text-white transition-colors",children:m.jsx(fe,{className:"w-5 h-5"})})]})}):m.jsxs("div",{className:"space-y-3",children:[m.jsx("input",{type:"text",placeholder:"Caut client dup nume sau CIF...",value:u,onChange:e=>d(e.target.value),className:"w-full bg-slate-900 border border-slate-700 text-white rounded-lg px-4 py-3 focus:ring-2 focus:ring-emerald-500 outline-none"}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("button",{onClick:()=>{b(null),f(!0)},className:"flex-1 py-3 bg-slate-900/50 border border-dashed border-slate-600 text-slate-400 hover:text-white hover:border-emerald-500 hover:bg-slate-800 rounded-lg transition-all flex items-center justify-center gap-2 group",children:[m.jsx(Z,{className:"w-5 h-5 group-hover:text-emerald-400"}),m.jsx("span",{children:"Adaug Client Nou"})]}),m.jsxs("button",{onClick:()=>{var e;return null==(e=y.current)?void 0:e.click()},disabled:h,className:"flex-1 py-3 bg-slate-900/50 border border-dashed border-slate-600 text-slate-400 hover:text-white hover:border-emerald-500 hover:bg-slate-800 rounded-lg transition-all flex items-center justify-center gap-2 group disabled:opacity-50",children:[h?m.jsx(J,{className:"w-5 h-5 animate-spin text-emerald-400"}):m.jsx(O,{className:"w-5 h-5 group-hover:text-emerald-400"}),m.jsx("span",{children:h?"Se proceseaz...":"Adaug prin Imagine/CI"})]}),m.jsx("input",{type:"file",ref:y,onChange:async e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];if(n){g(!0),P(null);try{const e=new FileReader,t=new Promise(t=>{e.onload=()=>{const n=e.result.split(",")[1];t(n)}});e.readAsDataURL(n);await t;const r=await(async()=>(console.warn("Gemini API Key is missing."),null))();r?(b({name:r.name,cif:r.cif,address:r.address,city:r.city,state:r.state}),f(!0)):(P("Nu s-au putut extrage datele din imagine. V rugm s introducei datele manual."),f(!0))}catch(r){console.error("Error processing CI image:",r),P("Eroare la procesarea imaginii.")}finally{g(!1),y.current&&(y.current.value="")}}},accept:"image/*",capture:"environment",className:"hidden"})]}),i?m.jsxs("div",{className:"flex items-center justify-center py-8",children:[m.jsx(J,{className:"w-6 h-6 text-emerald-400 animate-spin"}),m.jsx("span",{className:"ml-2 text-slate-400",children:"Se ncarc clienii..."})]}):u&&D.length>0?m.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 bg-slate-900 rounded-lg border border-slate-700 p-2",children:D.map(e=>m.jsxs("button",{onClick:()=>(e=>{k(t=>({...t,client:e})),d("")})(e),className:"w-full text-left px-4 py-3 hover:bg-slate-800 rounded-lg transition-colors",children:[m.jsx("div",{className:"font-semibold text-white",children:e.name}),m.jsxs("div",{className:"text-sm text-slate-400",children:["CIF: ",e.cif]})]},e.id))}):u?m.jsx("div",{className:"text-center py-8 text-slate-400",children:"Nu s-au gsit clieni"}):null]})]}),p&&m.jsx(La,{config:e,initialData:x||void 0,onClose:()=>{f(!1),b(null)},onSuccess:e=>{a(t=>[...t,e]),k(t=>({...t,client:e})),f(!1),b(null)}}),m.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx(_,{className:"w-5 h-5 text-emerald-400"}),m.jsx("h2",{className:"text-lg font-bold text-white",children:"Detalii Factur"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("div",{children:m.jsx(za,{label:"Data Emiterii *",value:j.issueDate,onChange:e=>k(t=>({...t,issueDate:e}))})}),m.jsx("div",{children:m.jsx(za,{label:"Data Scaden",value:j.dueDate||"",onChange:e=>k(t=>({...t,dueDate:e}))})}),m.jsx("div",{children:m.jsx(za,{label:"Data Livrare",value:j.deliveryDate||"",onChange:e=>k(t=>({...t,deliveryDate:e}))})}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Serie Factur"}),m.jsx("input",{type:"text",value:j.seriesName,onChange:e=>k(t=>({...t,seriesName:e.target.value})),className:"w-full bg-slate-900 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"Ex: FCT"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Gestiune"}),m.jsx(qa,{config:e,selectedStation:j.workStation,onSelect:e=>k(t=>({...t,workStation:e}))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Limba"}),m.jsxs("select",{value:j.language,onChange:e=>k(t=>({...t,language:e.target.value})),className:"w-full bg-slate-900 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none",children:[m.jsx("option",{value:"RO",children:"Romn"}),m.jsx("option",{value:"EN",children:"Englez"}),m.jsx("option",{value:"FR",children:"Francez"}),m.jsx("option",{value:"DE",children:"German"})]})]})]}),m.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("div",{className:"md:col-span-2",children:m.jsx(Ma,{type:"issuer",label:"Emitent",value:v,onChange:e=>{w(e),k(t=>({...t,issuerName:(null==e?void 0:e.name)||"",issuerId:(null==e?void 0:e.cnp)||""}))},onFieldsChange:e=>{k(t=>({...t,...e}))},placeholder:"Selecteaz emitent sau adaug nou..."})}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(Ma,{type:"deputy",label:"Delegat",value:N,onChange:e=>{S(e),k(t=>({...t,deputyName:(null==e?void 0:e.name)||"",deputyIdentityCard:(null==e?void 0:e.identityCard)||"",deputyAuto:(null==e?void 0:e.auto)||""}))},onFieldsChange:e=>{k(t=>({...t,...e}))},placeholder:"Selecteaz delegat sau adaug nou..."})}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(Ma,{type:"salesAgent",label:"Agent Vnzri",value:E,onChange:e=>{C(e),k(t=>({...t,salesAgent:(null==e?void 0:e.name)||""}))},onFieldsChange:e=>{k(t=>({...t,...e}))},placeholder:"Selecteaz agent vnzri sau adaug nou..."})})]}),m.jsxs("div",{className:"mt-4 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Meniuni"}),m.jsx("textarea",{value:j.mentions,onChange:e=>k(t=>({...t,mentions:e.target.value})),rows:2,className:"w-full bg-slate-900 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none resize-none",placeholder:"Meniuni vizibile pe factur..."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Not Intern"}),m.jsx("textarea",{value:j.internalNote,onChange:e=>k(t=>({...t,internalNote:e.target.value})),rows:2,className:"w-full bg-slate-900 border border-slate-700 text-white rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-emerald-500 outline-none resize-none",placeholder:"Not intern (nu apare pe factur)..."})]})]})]}),m.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx(X,{className:"w-5 h-5 text-emerald-400"}),m.jsxs("h2",{className:"text-lg font-bold text-white",children:["Produse (",j.products.length,")"]})]}),m.jsx("div",{className:"space-y-3",children:j.products.map((e,t)=>m.jsxs("div",{className:"bg-slate-900 rounded-lg p-4 border border-slate-700",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-5 gap-3",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Produs"}),m.jsx("input",{type:"text",value:e.name,onChange:e=>L(t,"name",e.target.value),className:"w-full bg-slate-800 border border-slate-700 text-white rounded px-3 py-2 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Cantitate"}),m.jsx("input",{type:"number",value:e.quantity,onChange:e=>L(t,"quantity",parseFloat(e.target.value)||0),min:"0",step:"0.01",className:"w-full bg-slate-800 border border-slate-700 text-white rounded px-3 py-2 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"Pre"}),m.jsx("input",{type:"number",value:e.price,onChange:e=>L(t,"price",parseFloat(e.target.value)||0),min:"0",step:"0.01",className:"w-full bg-slate-800 border border-slate-700 text-white rounded px-3 py-2 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:"TVA %"}),m.jsx("input",{type:"number",value:e.vatPercentage,onChange:e=>L(t,"vatPercentage",parseFloat(e.target.value)||0),min:"0",max:"100",className:"w-full bg-slate-800 border border-slate-700 text-white rounded px-3 py-2 text-sm focus:ring-2 focus:ring-emerald-500 outline-none"})]})]}),m.jsx("button",{onClick:()=>(e=>{k(t=>({...t,products:t.products.filter((t,n)=>n!==e)}))})(t),className:"mt-6 p-2 text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded transition-colors",children:m.jsx(fe,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"mt-2 text-right text-sm",children:[m.jsx("span",{className:"text-slate-400",children:"Total: "}),m.jsxs("span",{className:"text-white font-semibold",children:[(e.price*e.quantity).toFixed(2)," RON"]})]})]},e.id))}),m.jsx("div",{className:"mt-6 bg-gradient-to-r from-emerald-900/20 to-emerald-800/20 rounded-lg p-4 border border-emerald-700/30",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-lg font-medium text-slate-300",children:"Total Factur"}),m.jsxs("span",{className:"text-2xl font-bold text-white",children:[j.products.reduce((e,t)=>e+t.price*t.quantity,0).toFixed(2)," ",m.jsx("span",{className:"text-emerald-400",children:"RON"})]})]})})]})]}),m.jsx("div",{className:"sticky bottom-0 bg-slate-900/95 backdrop-blur-md border-t border-slate-700 px-6 py-4",children:m.jsxs("div",{className:"max-w-5xl mx-auto flex gap-4 justify-end",children:[m.jsx("button",{onClick:r,disabled:A,className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Anuleaz"}),m.jsx("button",{onClick:async()=>{if(j.client)if(0!==j.products.length){I(!0),P(null);try{const t={client:j.client?{cif:j.client.cif,name:j.client.name,rc:j.client.rc||"",address:j.client.address||"",city:j.client.city||"",state:j.client.state||"",country:j.client.country||"",email:j.client.email||"",phone:j.client.phone||"",iban:j.client.iban||"",bank:j.client.bank||"",contact:j.client.contact||"",vatPayer:j.client.vatPayer||!1}:void 0,issueDate:j.issueDate,dueDate:j.dueDate||void 0,deliveryDate:j.deliveryDate||void 0,collectDate:j.collectDate||void 0,seriesName:j.seriesName,workStation:j.workStation,language:j.language,currency:j.currency,products:j.products,mentions:j.mentions||void 0,internalNote:j.internalNote||void 0,issuerName:j.issuerName||void 0,issuerId:j.issuerId||void 0,deputyName:j.deputyName||void 0,deputyIdentityCard:j.deputyIdentityCard||void 0,deputyAuto:j.deputyAuto||void 0,salesAgent:j.salesAgent||void 0,noticeNumber:j.noticeNumber||void 0};console.log("=== INVOICE DATA BEING SENT ==="),console.log("deliveryDate:",t.deliveryDate),console.log("Full invoice data:",t),await(async(e,t)=>{var n,r;const s={email:e.email.trim(),apiSecret:e.apiSecret.trim(),cif:e.cif.trim(),seriesName:t.seriesName||(null==(n=e.seriesName)?void 0:n.trim())||"",workStation:t.workStation||(null==(r=e.workStation)?void 0:r.trim())||"Sediu",products:t.products.map(e=>({name:e.name,barcode:e.barcode,unit:e.unit,quantity:e.quantity,price:e.price,vatPercentage:e.vatPercentage}))};t.client&&(s.client=t.client),t.issueDate&&(s.issueDate=t.issueDate),t.dueDate&&(s.dueDate=t.dueDate),t.deliveryDate&&(s.deliveryDate=t.deliveryDate),t.collectDate&&(s.collectDate=t.collectDate),t.language&&(s.language=t.language),t.currency&&(s.currency=t.currency),t.mentions&&(s.mentions=t.mentions),t.internalNote&&(s.internalNote=t.internalNote),t.issuerName&&(s.issuerName=t.issuerName),t.issuerId&&(s.issuerId=t.issuerId),t.deputyName&&(s.deputyName=t.deputyName),t.deputyIdentityCard&&(s.deputyIdentityCard=t.deputyIdentityCard),t.deputyAuto&&(s.deputyAuto=t.deputyAuto),t.salesAgent&&(s.salesAgent=t.salesAgent),t.noticeNumber&&(s.noticeNumber=t.noticeNumber);try{const e=await fetch(ye,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"invoice",...s})}),t=await e.json();if(!t.success)throw new Error(t.error||"Eroare la generarea facturii.");return{status:t.status||200,message:t.message||"Factura a fost emis cu succes!",link:t.link}}catch(T){if(console.error("Oblio Invoice Create Error:",T),T.message.includes("Failed to fetch"))throw new Error("Eroare Conexiune. Verificai c backend-ul PHP este accesibil.");throw T}})(e,t),l()}catch(t){P(t.message||"Eroare la trimiterea facturii")}finally{I(!1)}}else P("Adugai cel puin un produs");else P("Selectai un client")},disabled:A||!j.client||0===j.products.length,className:"px-8 py-3 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:A?m.jsxs(m.Fragment,{children:[m.jsx(J,{className:"w-5 h-5 animate-spin"}),"Se trimite..."]}):m.jsxs(m.Fragment,{children:[m.jsx(ne,{className:"w-5 h-5"}),"Trimite Factura"]})})]})})]})},Ha="api.php",Va=async()=>{try{const e=await fetch(`${Ha}?action=get_stocks_file`),t=await e.json();if(t.success)return t.data||[];throw new Error(t.message||"Eroare la ncrcarea stocurilor.")}catch(e){throw console.error("Fetch stocks error:",e),e}},Ba=async e=>{try{const t=await fetch(Ha,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"save_stocks_file",data:e})}),n=await t.json();if(!n.success)throw new Error(n.message||"Eroare la salvarea stocurilor.")}catch(t){throw console.error("Save stocks error:",t),t}},$a=()=>`${Ha}?action=export_stocks_xls`,Ja=()=>{let e="200";for(let r=0;r<9;r++)e+=Math.floor(10*Math.random());let t=0;for(let r=0;r<12;r++){const n=parseInt(e[r]);t+=r%2==0?1*n:3*n}const n=t%10;return e+(0===n?0:10-n)},Wa=e=>e.map(e=>{var t;return{ID:"","Denumire produs":e.name,"Cod produs":e.productCode||e.code||"",Pret:Number(e.price)||0,"Pretul contine TVA (DA/NU)":"DA","Unitate masura":e.measuringUnit||"BUC","UM in SPV":"BUC"===(null==(t=e.measuringUnit)?void 0:t.toUpperCase())?"H87":"",Moneda:e.currency||"RON","Cota TVA":Number(e.vatPercentage)||19,Descriere:e.description||"","Cod NC":"","Cod CPV":e.code||"","Garantie SGR (DA/NU)":"NU","Grup produse":"",Stoc:Number(e.stock)||0}}),Ya=e=>{var t;const n=[e.furnizor||"",e.material||"",e.woodColor||"",e.sizeClass||"",e.weightCapacityMax?`${e.weightCapacityMax} kg`:"",e.isSmallLabel?"SMALL: DA":"SMALL: NU"].join("\n"),r=e.rawStockData||{};return{...r,"Denumire produs":e.modelName,"Cod produs":e.code,Pret:Number(e.price)||0,"Pretul contine TVA (DA/NU)":r["Pretul contine TVA (DA/NU)"]||"DA","Unitate masura":r["Unitate masura"]||e.measuringUnit||"BUC","UM in SPV":r["UM in SPV"]||(null==(t=e.measuringUnit)||t.toUpperCase(),"H87"),Moneda:e.currency||"RON","Cota TVA":void 0!==r["Cota TVA"]?r["Cota TVA"]:Number(e.vatPercentage)||19,Descriere:n,Stoc:void 0!==r.Stoc?r.Stoc:Number(e.stock)||0,lastEdit:(new Date).toLocaleString("ro-RO").replace(",","")}},Ka=({config:e,onSuccess:t,onError:r})=>{const[s,l]=n.useState(!1);return m.jsxs("button",{onClick:async()=>{var n;if(!e.email||!e.apiSecret||!e.cif){return void(null==r||r("Configurare Oblio incomplet (Email, Secret, CIF)."))}const s=(null==(n=e.workStation)?void 0:n.trim())||"Sediu";if(confirm(`Atenie! Aceast aciune va prelua produsele din Oblio pentru gestiunea "${s}" i va actualiza baza de date local. Dorii s continuai?`)){l(!0);try{const n=await ve(e),r=Wa(n);await Ba(r),null==t||t(n),alert(`Sincronizare efectuat cu succes! ${n.length} produse procesate.`)}catch(o){console.error("Sync error:",o);const e=`Eroare la sincronizare: ${o.message}`;null==r||r(e),alert(e)}finally{l(!1)}}},disabled:s,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600/10 hover:bg-blue-600/20 disabled:bg-slate-800 text-blue-400 border border-blue-500/30 rounded-lg transition-all shadow-sm font-bold text-xs h-[42px] uppercase tracking-wider",children:[s?m.jsx(J,{className:"w-4 h-4 animate-spin"}):m.jsx(te,{className:"w-4 h-4"}),m.jsx("span",{className:"truncate",children:"Sincronizare Oblio"})]})};var Xa=l();const Qa=({label:e,value:t,onChange:r,options:s,placeholder:l="Selecteaz sau scrie...",className:o=""})=>{const[a,i]=n.useState(!1),[c,u]=n.useState(t),d=n.useRef(null);n.useEffect(()=>{u(t||"")},[t]),n.useEffect(()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const p=(s||[]).filter(e=>{if(!e)return!1;const t=String(e),n=String(c||"");return t.toLowerCase().includes(n.toLowerCase())&&t!==n}),f=e=>{u(e),r(e),i(!1)};return m.jsxs("div",{className:`relative ${o}`,ref:d,children:[m.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:e}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",value:c,onChange:e=>{const t=e.target.value;u(t),r(t),i(!0)},onFocus:()=>i(!0),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-2.5 pr-8 text-white focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:l}),m.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[c&&m.jsx("button",{onClick:e=>{e.stopPropagation(),u(""),r(""),i(!0)},className:"text-slate-500 hover:text-white",type:"button",children:m.jsx(fe,{className:"w-3 h-3"})}),m.jsx(P,{className:"w-4 h-4 text-slate-500 transition-transform "+(a?"rotate-180":"")})]})]}),a&&m.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-slate-800 border border-slate-700 rounded-lg shadow-xl max-h-60 overflow-y-auto",children:[p.length>0?p.map((e,t)=>m.jsx("button",{type:"button",onClick:()=>f(e),className:"w-full text-left px-3 py-2 text-sm text-slate-200 hover:bg-slate-700 transition-colors",children:e},t)):m.jsx("div",{className:"px-3 py-2 text-xs text-slate-500 italic",children:c?"Valoare nou":"ncepe s scrii..."}),c&&!s.includes(c)&&m.jsxs("button",{type:"button",onClick:()=>f(c),className:"w-full text-left px-3 py-2 text-sm text-emerald-400 hover:bg-slate-700 transition-colors flex items-center gap-2 border-t border-slate-700/50",children:[m.jsx(Z,{className:"w-3 h-3"}),'Adaug "',c,'"']})]})]})},Za=({product:e,isNew:t,onClose:r,onSave:s,onDelete:l,options:o})=>{const a={"Denumire produs":"","Cod produs":"",Pret:0,"Pretul contine TVA (DA/NU)":"DA","Unitate masura":"BUC","UM in SPV":"H87",Moneda:"RON","Cota TVA":19,Descriere:"",ID:"","Cod NC":"","Cod CPV":"","Garantie SGR (DA/NU)":"NU","Grup produse":"",Stoc:0},[i,c]=n.useState(a),[u,d]=n.useState(""),[p,f]=n.useState({furnizor:"",material:"BRAD",woodColor:"NUC",size:"L",weight:""});n.useEffect(()=>{if(e){c(e),d(e["Cod produs"]);const t=(e.Descriere||"").split("\n").map(e=>e.trim());f({furnizor:t[0]||"",material:t[1]||"BRAD",woodColor:t[2]||"NUC",size:t[3]||"L",weight:t[4]||""})}else c(a),d("")},[e]);const h=(e,t)=>{c(n=>({...n,[e]:t}))},g=(e,t)=>{f(n=>({...n,[e]:t}))},x=(e,t)=>{if(""===t)return void h(e,"");const n=parseFloat(t);h(e,isNaN(n)?t:n)};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-xl shadow-2xl",children:[m.jsxs("div",{className:"sticky top-0 bg-slate-900 border-b border-slate-800 p-4 flex justify-between items-center z-10",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h2",{className:"text-xl font-bold text-white",children:t?"Adaug Produs Nou (Format Oblio)":"Editare Produs (Format Oblio)"}),(null==e?void 0:e.lastEdit)&&m.jsxs("span",{className:"text-xs text-slate-500 italic",children:["Ultima editare: ",e.lastEdit]})]}),m.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-800 rounded-full text-slate-400 hover:text-white transition-colors",children:m.jsx(fe,{className:"w-5 h-5"})})]}),m.jsxs("form",{onSubmit:e=>{e.preventDefault();const t=[p.furnizor,p.material,p.woodColor,p.size,p.weight].join("\n"),n={...i,Descriere:t};["Stoc","Pret","Cota TVA"].forEach(e=>{"string"==typeof n[e]&&(n[e]=parseFloat(n[e])||0)}),s(n,u)},className:"p-6 space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1 uppercase tracking-wider",children:"Denumire Produs (sau Model)"}),m.jsx("input",{type:"text",value:i["Denumire produs"],onChange:e=>h("Denumire produs",e.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-emerald-500 outline-none",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1 uppercase tracking-wider",children:"Cod Produs (EAN13)"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:i["Cod produs"],onChange:e=>h("Cod produs",e.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-2.5 text-white focus:ring-2 focus:ring-emerald-500 outline-none font-mono",required:!0}),m.jsx("button",{type:"button",onClick:()=>{const e=Ja();h("Cod produs",e)},className:"px-3 py-2 bg-slate-700 text-slate-300 rounded-lg hover:bg-slate-600 transition-colors text-xs font-bold",children:"GEN"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1 uppercase tracking-wider",children:"Grup Produse / ID Oblio"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",placeholder:"Grup (ex: CRUCI)",value:i["Grup produse"]||"",onChange:e=>h("Grup produse",e.target.value),className:"w-1/2 bg-slate-800 border border-slate-700 rounded-lg p-2.5 text-white outline-none"}),m.jsx("input",{type:"text",placeholder:"ID",value:i.ID||"",onChange:e=>h("ID",e.target.value),className:"w-1/2 bg-slate-800 border border-slate-700 rounded-lg p-2.5 text-white outline-none"})]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 border-t border-slate-800 pt-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-amber-400 mb-1 uppercase tracking-widest",children:"Pre Vnzare"}),m.jsx("input",{type:"number",value:i.Pret,onChange:e=>x("Pret",e.target.value),className:"w-full bg-amber-900/10 border border-amber-900/30 rounded-lg p-2.5 text-amber-200 focus:ring-2 focus:ring-amber-500 outline-none font-bold"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1 uppercase tracking-wider",children:"Moned"}),m.jsxs("select",{value:i.Moneda,onChange:e=>h("Moneda",e.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-2.5 text-white outline-none",children:[m.jsx("option",{value:"RON",children:"RON"}),m.jsx("option",{value:"EUR",children:"EUR"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1 uppercase tracking-wider",children:"TVA Inclus"}),m.jsxs("select",{value:i["Pretul contine TVA (DA/NU)"],onChange:e=>h("Pretul contine TVA (DA/NU)",e.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-2.5 text-white outline-none",children:[m.jsx("option",{value:"DA",children:"DA"}),m.jsx("option",{value:"NU",children:"NU"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1 uppercase tracking-wider",children:"Cota TVA (%)"}),m.jsx("input",{type:"number",value:i["Cota TVA"],onChange:e=>x("Cota TVA",e.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-2.5 text-white outline-none"})]})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 border-t border-slate-800 pt-4 text-emerald-400",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-emerald-500/80 mb-1 uppercase tracking-wider",children:"Stoc Real"}),m.jsx("input",{type:"number",value:i.Stoc,onChange:e=>x("Stoc",e.target.value),className:"w-full bg-emerald-900/10 border border-emerald-900/30 rounded-lg p-2.5 text-emerald-200 outline-none font-black"})]}),m.jsx("div",{children:m.jsx(Qa,{label:"Unitate Msur",value:i["Unitate masura"]||"BUC",onChange:e=>h("Unitate masura",e),options:["BUC","KG","SET"]})}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1 uppercase tracking-wider",children:"UM in SPV"}),m.jsx("input",{type:"text",value:i["UM in SPV"]||"H87",onChange:e=>h("UM in SPV",e.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-2.5 text-slate-300 outline-none text-center font-mono"})]})]}),m.jsxs("div",{className:"bg-slate-800/40 p-4 rounded-xl border border-slate-700/50 space-y-4",children:[m.jsx("label",{className:"block text-[10px] font-black text-indigo-400 uppercase tracking-[0.2em] mb-2",children:"Configuraie Etichet (Descriere Oblio)"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[m.jsx("div",{children:m.jsx(Qa,{label:"Furnizor (Linia 1)",value:p.furnizor,onChange:e=>g("furnizor",e),options:(null==o?void 0:o.furnizor)||[]})}),m.jsx("div",{children:m.jsx(Qa,{label:"Material (Linia 2)",value:p.material,onChange:e=>g("material",e),options:(null==o?void 0:o.material)||["BRAD","STEJAR","FAG"]})}),m.jsx("div",{children:m.jsx(Qa,{label:"Culoare (Linia 3)",value:p.woodColor,onChange:e=>g("woodColor",e),options:(null==o?void 0:o.woodColor)||["NUC","MAHON","CIRE"]})}),m.jsx("div",{children:m.jsx(Qa,{label:"Mrime / Dim. (Linia 4)",value:p.size,onChange:e=>g("size",e),options:["XL","L","M","S"]})}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{className:"block text-[10px] font-bold text-slate-500 mb-1 uppercase",children:"Sarcina Max (Linia 5)"}),m.jsx("input",{type:"text",placeholder:"ex: 150 kg",value:p.weight,onChange:e=>g("weight",e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-white outline-none text-xs"})]})]}),m.jsxs("div",{className:"mt-2 text-[10px] text-slate-500 italic",children:["Previzualizare descriere: ",p.furnizor," | ",p.material," | ",p.woodColor," | ",p.size," | ",p.weight]})]}),m.jsxs("div",{className:"flex justify-between pt-6 mt-4 border-t border-slate-800",children:[!t&&l?m.jsx("button",{type:"button",onClick:()=>{confirm("Sigur dorii s tergei acest produs din list?")&&l(i["Cod produs"])},className:"flex items-center justify-center p-2 bg-red-500/10 text-red-400 rounded-lg hover:bg-red-500/20 transition-colors",children:m.jsx(ce,{className:"w-5 h-5"})}):m.jsx("div",{}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 bg-slate-800 text-slate-300 rounded-lg hover:bg-slate-700 transition-colors font-medium",children:"Anuleaz"}),m.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-8 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-500 transition-colors font-bold shadow-lg shadow-emerald-500/20",children:[m.jsx(ne,{className:"w-4 h-4"})," Salveaz n JSON"]})]})]})]})]})})},ei=({config:e})=>{var t;const[r,s]=n.useState([]),[l,o]=n.useState(!1),[a,i]=n.useState(null),[c,u]=n.useState(""),[d,p]=n.useState(null),[f,h]=n.useState(!1),[g,x]=n.useState(!1),[b,y]=n.useState(!1),[v,w]=n.useState(!1),[N,S]=n.useState(!1),[E,C]=n.useState("all"),[j,k]=n.useState(new Set),[A,I]=n.useState([]),[T,_]=n.useState({}),[O,P]=n.useState({}),[R,D]=n.useState([]),[M,q]=n.useState([]),[G,H]=n.useState(!1),[B,$]=n.useState(null),[W,Y]=n.useState(null),[K,X]=n.useState(""),[te,ne]=n.useState(0),[le,oe]=n.useState(null),[ue,pe]=n.useState("none"),me=()=>{const e=new Date;return`${String(e.getDate()).padStart(2,"0")}:${String(e.getMonth()+1).padStart(2,"0")}:${String(e.getFullYear()).slice(-2)} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`},ge=(null==(t=e.workStation)?void 0:t.trim())||"Sediu",xe=e=>{var t,n;const r=null==(t=e.productCode)?void 0:t.trim();if(r)return r;const s=null==(n=e.code)?void 0:n.trim();return s||e.name},be=n.useMemo(()=>{if(!K.trim())return[];const e=K.toLowerCase();return A.filter(t=>{var n,r;return t.name.toLowerCase().includes(e)||(null==(n=t.code)?void 0:n.toLowerCase().includes(e))||(null==(r=t.productCode)?void 0:r.toLowerCase().includes(e))}).slice(0,5)},[A,K]),ye={new:{label:"Stoc 0  apare",className:"bg-emerald-500/10 text-emerald-300 border-emerald-500/30"},more:{label:"Mai multe",className:"bg-emerald-500/10 text-emerald-300 border-emerald-500/30"},less:{label:"Mai puine",className:"bg-amber-500/10 text-amber-300 border-amber-500/30"},missing:{label:"Lips",className:"bg-red-500/10 text-red-300 border-red-500/30"},unknown:{label:"Cod necunoscut",className:"bg-slate-500/10 text-slate-300 border-slate-500/30"}};n.useEffect(()=>{we()},[]);const we=async()=>{o(!0),i(null);try{const e=await Va();s(e)}catch(e){i(e.message||"Eroare la ncrcarea stocurilor.")}finally{o(!1)}},Ne=e=>{pe(e),setTimeout(()=>{window.print(),pe("none")},300)},Se=e=>{const t=e.trim();if(!t)return;if(0===A.length)return void i("Inventarul Oblio nu este ncrcat.");const n=((e,t)=>{const n=e.trim();return t.find(e=>e.productCode&&e.productCode.trim()===n||e.code&&e.code.trim()===n)})(t,A);if(n){const e=xe(n);_(t=>{const n=(t[e]||0)+1;return ne(n),{...t,[e]:n}}),Y(n),X("")}else P(e=>{const n=e[t]||0;return{...e,[t]:n+1}}),$({name:"Cod necunoscut",code:t});navigator.vibrate&&navigator.vibrate(50)},Ee=async e=>{try{const t=r.filter(t=>t["Cod produs"]!==e);if(s(t),p(null),j.has(e)){const t=new Set(j);t.delete(e),k(t)}await Ba(t)}catch(t){i(`Eroare la tergere: ${t.message}`),we()}},{furnizorOptions:Ce,materialOptions:je,woodColorOptions:ke,sidesTypeOptions:Ae,umOptions:Ie,vatRateOptions:Te}=n.useMemo(()=>{const e=new Set,t=new Set,n=new Set,s=new Set,l=new Set,o=new Set;return r.forEach(r=>{r.Furnizor&&e.add(String(r.Furnizor)),r.material&&t.add(String(r.material)),r.woodColor&&n.add(String(r.woodColor)),r.sidesType&&s.add(String(r.sidesType)),r["Unitate masura"]&&l.add(String(r["Unitate masura"])),void 0!==r["Cota TVA"]&&o.add(String(r["Cota TVA"]))}),{furnizorOptions:Array.from(e).sort(),materialOptions:Array.from(t).sort(),woodColorOptions:Array.from(n).sort(),sidesTypeOptions:Array.from(s).sort(),umOptions:Array.from(l).sort(),vatRateOptions:Array.from(o).sort((e,t)=>parseFloat(e)-parseFloat(t))}},[r]),_e=n.useMemo(()=>{const e=Object.values(T).reduce((e,t)=>e+t,0),t=Object.values(O).reduce((e,t)=>e+t,0);return{totalScanned:e+t,uniqueScanned:Object.keys(T).length+Object.keys(O).length,totalKnown:e,totalUnknown:t}},[T,O]),Oe=n.useMemo(()=>R.reduce((e,t)=>(e[t.status]=(e[t.status]||0)+1,e.total+=1,e),{total:0,new:0,more:0,less:0,missing:0,unknown:0}),[R]),Pe=n.useMemo(()=>{let e=r;if(c){const t=c.toLowerCase();e=e.filter(e=>e["Denumire produs"].toLowerCase().includes(t)||e["Cod produs"].toLowerCase().includes(t)||e.Descriere&&e.Descriere.toLowerCase().includes(t))}return"in_stock"===E?e=e.filter(e=>e.Stoc>0):"out_of_stock"===E&&(e=e.filter(e=>e.Stoc<=0)),[...e].sort((e,t)=>e["Denumire produs"].localeCompare(t["Denumire produs"],"ro",{sensitivity:"base"}))},[r,c,E]);return m.jsxs("div",{className:"flex flex-col h-full space-y-4",children:[m.jsxs("div",{className:"bg-slate-800 p-3 sm:p-4 rounded-xl border border-slate-700 flex flex-col gap-4 shadow-lg",children:[m.jsxs("div",{className:"flex gap-2 w-full",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(se,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 w-4 h-4"}),m.jsx("input",{type:"text",placeholder:"Caut produse (Nume, Cod, Furnizor)...",value:c,onChange:e=>u(e.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-2 text-white focus:ring-2 focus:ring-emerald-500 outline-none placeholder:text-slate-600"})]}),m.jsx("button",{onClick:()=>x(!0),disabled:b,className:"bg-slate-700 text-white p-2 rounded-lg border border-slate-600 transition-colors "+(b?"opacity-50 cursor-not-allowed":"hover:bg-slate-600"),title:b?"Inventar activ: scanarea este folosit pentru inventar":"Scaneaz pentru cutare",children:m.jsx(re,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"flex gap-2 w-full overflow-x-auto pb-1 md:pb-0",children:[m.jsxs("button",{onClick:b?()=>{y(!1),w(!1);const e=((e,t,n)=>{const r=[],s=[];return e.forEach(e=>{var n,l;const o=xe(e),a=Number(e.stock)||0,i=t[o]||0,c={key:o,name:e.name,code:(null==(n=e.productCode)?void 0:n.trim())||(null==(l=e.code)?void 0:l.trim())||"",expected:a,counted:i,delta:i-a,status:"unknown"};if(i===a)s.push(c);else{let e="less";0===a&&i>0?e="new":i>a?e="more":0===i&&(e="missing"),c.status=e,r.push(c)}}),Object.entries(n).forEach(([e,t])=>{t>0&&r.push({key:e,name:"Cod necunoscut",code:e,expected:0,counted:t,delta:t,status:"unknown"})}),{diffs:r.sort((e,t)=>Math.abs(t.delta)-Math.abs(e.delta)),matches:s.sort((e,t)=>e.name.localeCompare(t.name))}})(A,T,O);D(e.diffs),q(e.matches),H(!0),oe(new Date)}:async()=>{if(e.email&&e.apiSecret&&e.cif){if(confirm(`Se va porni inventarul pentru gestiunea "${ge}". Continuai?`)){S(!0),i(null),_({}),P({}),D([]),H(!1),$(null);try{const t=await ve(e);I(t),y(!0),w(!0)}catch(t){console.error("Inventory start error:",t),i(`Eroare la pornirea inventarului: ${t.message}`)}finally{S(!1)}}}else i("Configurare Oblio incomplet (Email, Secret, CIF).")},disabled:N,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-colors whitespace-nowrap border "+(b?"bg-red-600/20 text-red-300 border-red-500/30 hover:bg-red-600/30":"bg-emerald-600/20 text-emerald-300 border-emerald-500/30 hover:bg-emerald-600/30"),children:[N?m.jsx(J,{className:"w-4 h-4 animate-spin"}):b?m.jsx(U,{className:"w-4 h-4"}):m.jsx(z,{className:"w-4 h-4"}),b?"Stop inventar":"Start inventar"]}),m.jsxs("button",{onClick:()=>{if(0===j.size)return void alert("V rugm s selectai produsele pe care dorii s le exportai din list.");const e=Array.from(j).join(",");window.location.href=`${$a()}&codes=${encodeURIComponent(e)}`},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-emerald-700/50 text-emerald-100 border border-emerald-600/50 rounded-lg hover:bg-emerald-600/50 transition-colors whitespace-nowrap",title:"Descarc format Excel",children:[m.jsx(V,{className:"w-4 h-4"}),"Export XLS"]}),m.jsx("input",{type:"file",accept:".json",id:"json-upload",className:"hidden",onChange:e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];if(!n)return;const r=new FileReader;r.onload=async t=>{var n;try{const r=null==(n=t.target)?void 0:n.result,l=JSON.parse(r);let a=[];if(Array.isArray(l))a=l;else{if(!l.data||!Array.isArray(l.data))throw new Error("Format JSON invalid. Se ateapt un array de produse.");a=l.data}if(!confirm(`Suntei sigur c dorii s importai ${a.length} produse? Aceasta va suprascrie stocul existent.`))return void(e.target.value="");o(!0),await Ba(a),s(a),alert("Stocuri importate cu succes!")}catch(r){console.error("Upload error:",r),alert(`Eroare la import: ${r.message}`)}finally{o(!1),e.target.value=""}},r.readAsText(n)}}),m.jsxs("label",{htmlFor:"json-upload",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-slate-700 text-slate-300 border border-slate-600 rounded-lg hover:bg-slate-600 transition-colors whitespace-nowrap cursor-pointer",children:[m.jsx(de,{className:"w-4 h-4"}),"Upload JSON"]}),m.jsxs("button",{onClick:()=>{const e="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({data:r},null,2)),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","stocuri.json"),document.body.appendChild(t),t.click(),t.remove()},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-slate-700 text-slate-300 border border-slate-600 rounded-lg hover:bg-slate-600 transition-colors whitespace-nowrap",title:"Descarc format JSON",children:[m.jsx(V,{className:"w-4 h-4"}),"Export JSON"]})]}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-2 justify-between items-center bg-slate-700/30 p-2 rounded-lg",children:[m.jsxs("div",{className:"flex gap-1 w-full md:w-auto overflow-x-auto",children:[m.jsxs("button",{onClick:()=>C("all"),className:"px-3 py-1.5 rounded-md text-sm font-medium transition-colors whitespace-nowrap "+("all"===E?"bg-slate-600 text-white shadow":"text-slate-400 hover:bg-slate-700/50"),children:["Toate (",r.length,")"]}),m.jsx("button",{onClick:()=>C("in_stock"),className:"px-3 py-1.5 rounded-md text-sm font-medium transition-colors whitespace-nowrap "+("in_stock"===E?"bg-emerald-600/50 text-emerald-100 shadow":"text-slate-400 hover:bg-slate-700/50"),children:"n Stoc"}),m.jsx("button",{onClick:()=>C("out_of_stock"),className:"px-3 py-1.5 rounded-md text-sm font-medium transition-colors whitespace-nowrap "+("out_of_stock"===E?"bg-red-600/50 text-red-100 shadow":"text-slate-400 hover:bg-slate-700/50"),children:"Fr Stoc"})]}),j.size>0?m.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto justify-end animate-in fade-in bg-blue-900/20 px-3 py-1 rounded-md border border-blue-900/30",children:[m.jsxs("span",{className:"text-xs text-blue-200 font-semibold",children:[j.size," selectate"]}),m.jsx("button",{onClick:()=>k(new Set),className:"text-xs text-blue-300 hover:text-white underline decoration-blue-500/50 underline-offset-4 transition-colors px-2 py-1",children:"Reseteaz"}),m.jsx("div",{className:"w-px h-4 bg-blue-900/40 mx-1"}),m.jsxs("button",{onClick:async()=>{if(0!==j.size&&confirm(`Sigur dorii s tergei ${j.size} produse selectate?`))try{const e=r.filter(e=>!j.has(e["Cod produs"]));s(e),k(new Set),await Ba(e)}catch(e){i(`Eroare la tergere multipl: ${e.message}`),we()}},className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-500 text-sm transition-colors shadow-lg shadow-red-900/20",children:[m.jsx(ce,{className:"w-3.5 h-3.5"}),"terge Selectate"]})]}):Pe.length>0&&m.jsxs("button",{onClick:()=>{if(j.size===Pe.length)k(new Set);else{const e=new Set(Pe.map(e=>e["Cod produs"]));k(e)}},className:"hidden md:flex items-center gap-2 px-3 py-1.5 text-slate-400 hover:text-white transition-colors text-sm",children:[j.size===Pe.length?m.jsx(ae,{className:"w-4 h-4"}):m.jsx(ie,{className:"w-4 h-4"}),"Selecteaz Tot"]})]}),b&&m.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center bg-amber-900/20 border border-amber-700/30 rounded-lg p-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"text-amber-200 text-sm font-semibold",children:"Inventar activ"}),m.jsxs("div",{className:"text-xs text-amber-200/80",children:["Gestiune: ",ge,"  Scanate: ",_e.totalScanned," (",_e.uniqueScanned," unice)",_e.totalUnknown>0&&`  Necunoscute: ${_e.totalUnknown}`]}),B&&m.jsxs("div",{className:"text-[11px] text-amber-200/80 mt-1",children:["Ultimul: ",B.name," (",B.code,")"]})]}),m.jsxs("button",{onClick:()=>w(!0),disabled:v,className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-semibold border transition-colors "+(v?"bg-amber-900/40 text-amber-200 border-amber-700/40 cursor-not-allowed":"bg-amber-600/20 text-amber-200 border-amber-500/30 hover:bg-amber-600/30"),children:[m.jsx(re,{className:"w-4 h-4"}),v?"Scanner activ":"Scaneaz inventar"]})]}),m.jsxs("button",{onClick:()=>{p(null),h(!0),p({})},className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-500 transition-colors font-bold shadow-lg shadow-emerald-500/20",children:[m.jsx(Z,{className:"w-5 h-5"}),"Produs Nou"]})]}),a&&m.jsx("div",{className:"bg-red-500/10 border border-red-500/50 p-4 rounded-xl text-red-200 text-sm",children:a}),G&&m.jsxs("div",{className:"bg-slate-800/60 border border-slate-700 rounded-xl p-4",children:[m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(z,{className:"w-5 h-5 text-emerald-400"}),m.jsx("div",{className:"text-white font-semibold",children:"Diferene inventar"}),m.jsxs("span",{className:"text-xs bg-slate-700 text-slate-300 px-2 py-0.5 rounded-full border border-slate-600",children:[Oe.total," poziii"]})]}),m.jsxs("div",{className:"flex bg-slate-700/50 rounded-lg p-1 border border-slate-600 shadow-inner",children:[m.jsxs("button",{onClick:()=>Ne("diffs"),className:"px-3 py-1 text-[11px] font-bold text-slate-300 hover:text-white flex items-center gap-1.5 transition-all active:scale-95",title:"Printeaz doar diferenele",children:[m.jsx(ee,{className:"w-3.5 h-3.5"})," Diferene"]}),m.jsx("div",{className:"w-[1px] bg-slate-600 mx-1"}),m.jsxs("button",{onClick:()=>Ne("matches"),className:"px-3 py-1 text-[11px] font-bold text-slate-300 hover:text-white flex items-center gap-1.5 transition-all active:scale-95",title:"Printeaz doar produsele corecte",children:[m.jsx(ee,{className:"w-3.5 h-3.5"})," Corecte"]}),m.jsx("div",{className:"w-[1px] bg-slate-600 mx-1"}),m.jsxs("button",{onClick:()=>Ne("all"),className:"px-3 py-1 text-[11px] font-bold text-emerald-400 hover:text-emerald-300 flex items-center gap-1.5 transition-all active:scale-95",title:"Printeaz tot raportul",children:[m.jsx(ee,{className:"w-3.5 h-3.5"})," TOT"]})]})]}),0===R.length?m.jsx("div",{className:"text-sm text-slate-400 mt-3",children:"Nu exist diferene fa de stocul din Oblio."}):m.jsxs("div",{className:"mt-3 space-y-2",children:[R.map(e=>{const t=ye[e.status],n=e.code||e.key;return m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3 bg-slate-900/60 border border-slate-700/50 rounded-lg p-3",children:[m.jsxs("div",{className:"min-w-0",children:[m.jsx("div",{className:"text-sm text-white truncate",children:e.name}),m.jsx("div",{className:"text-xs text-slate-400 font-mono",children:n})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3 justify-between md:justify-end",children:[m.jsx("span",{className:`text-[11px] px-2 py-0.5 rounded-full border ${t.className}`,children:t.label}),m.jsxs("div",{className:"text-xs text-slate-400",children:["Oblio: ",m.jsx("span",{className:"text-slate-200 font-semibold",children:e.expected})]}),m.jsxs("div",{className:"text-xs text-slate-400",children:["Inventar: ",m.jsx("span",{className:"text-slate-200 font-semibold",children:e.counted})]}),m.jsx("div",{className:"text-sm font-semibold "+(e.delta>=0?"text-emerald-400":"text-red-400"),children:e.delta>0?`+${e.delta}`:e.delta})]})]},`${e.key}-${e.status}`)}),m.jsx("div",{className:"mt-4 pt-4 border-t border-slate-700/50 flex justify-end",children:m.jsxs("button",{onClick:()=>Ne("diffs"),className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-500 transition-colors font-bold text-sm shadow-lg shadow-emerald-900/40",children:[m.jsx(ee,{className:"w-4 h-4"})," Imprim Tabel Diferene"]})})]}),M.length>0&&m.jsxs("div",{className:"mt-8",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx(L,{className:"w-5 h-5 text-emerald-500"}),m.jsx("div",{className:"text-white font-semibold",children:"Produse corecte (fr diferene)"}),m.jsxs("span",{className:"text-xs bg-slate-700 text-slate-300 px-2 py-0.5 rounded-full border border-slate-600",children:[M.length," poziii"]})]}),m.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:M.map(e=>m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3 bg-slate-900/40 border border-slate-700/30 rounded-lg p-3 opacity-80 hover:opacity-100 transition-opacity",children:[m.jsxs("div",{className:"min-w-0",children:[m.jsx("div",{className:"text-sm text-slate-300 truncate",children:e.name}),m.jsx("div",{className:"text-xs text-slate-500 font-mono",children:e.code||e.key})]}),m.jsxs("div",{className:"flex items-center gap-4 justify-between md:justify-end",children:[m.jsxs("div",{className:"text-xs text-slate-500",children:["Stoc: ",m.jsx("span",{className:"text-emerald-500/80 font-semibold",children:e.counted})]}),m.jsx("div",{className:"text-xs bg-emerald-500/10 text-emerald-500/70 px-2 py-0.5 rounded border border-emerald-500/20",children:"CONFIRMAT"})]})]},e.key))})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700/50",children:l?m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx(J,{className:"w-8 h-8 text-emerald-500 animate-spin"})}):0===Pe.length?m.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500",children:[m.jsx("p",{children:"Nu exist produse."}),m.jsx("p",{className:"text-sm mt-1",children:"Importai din Oblio sau adugai manual."})]}):m.jsx("div",{className:"divide-y divide-slate-700/50",children:Pe.map((e,t)=>m.jsxs("div",{className:"p-1 sm:p-2 hover:bg-slate-700/50 transition-colors flex items-center justify-between group",children:[m.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>{p(e),h(!1)},children:[m.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[m.jsx("div",{onClick:t=>((e,t)=>{t.stopPropagation();const n=new Set(j);n.has(e)?n.delete(e):n.add(e),k(n)})(e["Cod produs"],t),className:"text-slate-500 hover:text-slate-300 transition-colors cursor-pointer",children:j.has(e["Cod produs"])?m.jsx(ae,{className:"w-5 h-5 text-emerald-500"}):m.jsx(ie,{className:"w-5 h-5"})}),m.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[m.jsx("span",{className:"font-semibold text-lg truncate "+(e.verified?"text-emerald-400":"text-white"),children:e["Denumire produs"]}),e.verified&&m.jsx(L,{className:"w-4 h-4 text-emerald-500"})]}),m.jsxs("span",{className:"px-2 py-0.5 rounded text-xs font-bold "+(e.Stoc>0?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"),children:[e.Stoc," ",e["U.M."]]})]}),m.jsxs("div",{className:"flex gap-4 text-xs text-slate-400",children:[m.jsx("span",{className:"font-mono bg-slate-900 px-1.5 rounded",children:e["Cod produs"]}),m.jsxs("span",{children:["Pre de vnzare: ",m.jsxs("span",{className:"text-emerald-300 font-bold",children:[e["Pret vanzare"]," ",e["Moneda vanzare"]]})]}),m.jsxs("span",{children:["Pre achiziie: ",m.jsxs("span",{className:"text-blue-300 font-bold",children:[e["Cost achizitie fara TVA"]," ",e["Moneda achizitie"]]})]}),e.lastEdit&&m.jsxs("span",{className:"text-slate-500 italic",children:["Editat: ",e.lastEdit]})]})]}),m.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 px-2",children:[m.jsx("button",{onClick:t=>(async(e,t)=>{t.stopPropagation();const n=r.map(t=>t["Cod produs"]===e?{...t,verified:!t.verified}:t);s(n);try{await Ba(n)}catch(l){i(`Eroare la salvare status: ${l.message}`),we()}})(e["Cod produs"],t),className:"p-2 rounded-lg transition-colors "+(e.verified?"text-emerald-500 hover:bg-emerald-500/10":"text-slate-600 hover:bg-slate-600 hover:text-slate-300"),title:e.verified?"Debifeaz ca verificat":"Bifeaz ca verificat",children:e.verified?m.jsx(L,{className:"w-4 h-4 fill-emerald-500/20"}):m.jsx(F,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>{p(e),h(!1)},className:"p-2 hover:bg-slate-600 rounded-lg text-slate-400 hover:text-white transition-colors",title:"Editeaz",children:m.jsx(Q,{className:"w-4 h-4"})}),m.jsx("button",{onClick:t=>{t.stopPropagation(),confirm("Sigur dorii s tergei acest produs?")&&Ee(e["Cod produs"])},className:"p-2 hover:bg-red-500/20 rounded-lg text-slate-400 hover:text-red-400 transition-colors",title:"terge",children:m.jsx(ce,{className:"w-4 h-4"})})]})]},t))})}),d&&m.jsx(Za,{product:d,isNew:f,onClose:()=>p(null),onSave:async(e,t)=>{try{const n={...e,lastEdit:me()};let l=[...r];const o=t||e["Cod produs"];let a=-1;if(f)r.some(t=>t["Cod produs"]===e["Cod produs"]),l.push(n),a=l.length-1;else{if(a=l.findIndex(e=>e["Cod produs"]===o),-1===a)return console.error("Could not find original product to update:",o),void i("Eroare intern: Produsul original nu a fost gsit pentru actualizare.");l[a]=n}const c=n["Cod produs"];let u=0;l=l.map((e,t)=>t!==a&&e["Cod produs"]===c?(u++,{...e,"Cod produs":Ja(),lastEdit:me()}):e),u>0&&alert(`Atenie: Au fost gsite ${u} alte produse cu acelai cod (${c}). Acestea au fost actualizate automat cu coduri EAN13 noi pentru a elimina duplicatele.`),s(l),p(null),await Ba(l)}catch(n){i(`Eroare la salvare: ${n.message}`),we()}},onDelete:Ee,options:{furnizor:Ce,material:je,woodColor:ke,sidesType:Ae,um:Ie,vatRate:Te}}),(g||v)&&m.jsx(he,{onScan:v?Se:e=>{u(e),x(!1),navigator.vibrate&&navigator.vibrate(50)},onClose:()=>{x(!1),w(!1),Y(null)},allowDuplicates:v,duplicateDelayMs:2e3,children:v&&m.jsxs("div",{className:"w-full flex flex-col gap-3",children:[!W&&m.jsxs("div",{className:"relative w-full max-w-sm mx-auto",children:[m.jsxs("div",{className:"relative",children:[m.jsx(se,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 w-4 h-4"}),m.jsx("input",{type:"text",placeholder:"Caut/Adaug: Nume, Cod, Furnizor...",value:K,onChange:e=>X(e.target.value),className:"w-full bg-slate-900/90 backdrop-blur border border-slate-700 rounded-xl pl-10 pr-4 py-3 text-white focus:ring-2 focus:ring-emerald-500 outline-none text-sm"}),K&&m.jsx("button",{onClick:()=>X(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white",children:m.jsx(fe,{className:"w-4 h-4"})})]}),be.length>0&&m.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-slate-800 border border-slate-700 rounded-xl shadow-2xl overflow-hidden max-h-48 overflow-y-auto animate-in slide-in-from-bottom-2 duration-200",children:be.map(e=>m.jsxs("button",{onClick:()=>Se(e.productCode||e.code||e.name),className:"w-full text-left p-3 hover:bg-slate-700 transition-colors border-b border-slate-700 last:border-0 flex flex-col gap-0.5",children:[m.jsx("span",{className:"text-xs font-bold text-white truncate",children:e.name}),m.jsx("span",{className:"text-[10px] text-slate-400 font-mono italic",children:e.productCode||e.code})]},xe(e)))})]}),W&&m.jsxs("div",{className:"w-full max-w-sm mx-auto bg-slate-800 border border-slate-700 rounded-2xl p-4 shadow-2xl animate-in zoom-in duration-200",children:[m.jsxs("div",{className:"flex justify-between items-start mb-3",children:[m.jsxs("div",{className:"min-w-0 pr-4",children:[m.jsx("h3",{className:"text-emerald-400 font-bold text-sm leading-tight truncate",children:W.name}),m.jsx("div",{className:"text-[10px] text-slate-400 font-mono mt-0.5",children:W.productCode||W.code})]}),m.jsx("button",{onClick:()=>Y(null),className:"text-slate-500 hover:text-white p-1",children:m.jsx(fe,{className:"w-4 h-4"})})]}),m.jsxs("div",{className:"flex items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 p-1.5 rounded-xl border border-slate-700",children:[m.jsx("button",{onClick:()=>ne(Math.max(0,te-1)),className:"w-10 h-10 flex items-center justify-center bg-slate-800 rounded-lg hover:bg-slate-700 text-slate-300",children:"-"}),m.jsx("input",{type:"number",value:te,onChange:e=>ne(Number(e.target.value)),className:"w-14 bg-transparent text-center font-bold text-white outline-none text-lg",onFocus:e=>e.target.select()}),m.jsx("button",{onClick:()=>ne(te+1),className:"w-10 h-10 flex items-center justify-center bg-slate-800 rounded-lg hover:bg-slate-700 text-slate-300",children:"+"})]}),m.jsx("button",{onClick:()=>{var e,t;if(!W)return;const n=xe(W);_(e=>({...e,[n]:te})),$({name:W.name,code:(null==(e=W.productCode)?void 0:e.trim())||(null==(t=W.code)?void 0:t.trim())||""}),Y(null)},className:"flex-1 bg-emerald-600 hover:bg-emerald-500 text-white py-3 px-4 rounded-xl font-bold transition-all shadow-lg shadow-emerald-900/20",children:"SALVEAZ"})]}),m.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[m.jsx("button",{onClick:()=>ne(e=>e+1),className:"text-[10px] bg-slate-700/50 hover:bg-slate-700 py-1.5 rounded text-slate-300 transition-colors uppercase font-bold",children:"+1 buc"}),m.jsx("button",{onClick:()=>ne(e=>e+5),className:"text-[10px] bg-slate-700/50 hover:bg-slate-700 py-1.5 rounded text-slate-300 transition-colors uppercase font-bold",children:"+5 buc"})]})]})]})}),"none"!==ue&&m.jsx(ti,{diffs:R,matches:M,mode:ue,finishedAt:le})]})},ti=({diffs:e,matches:t,mode:n,finishedAt:r})=>{if("none"===n)return null;const s="diffs"===n||"all"===n,l="matches"===n||"all"===n,o=r?r.toLocaleString("ro-RO"):(new Date).toLocaleString("ro-RO");return Xa.createPortal(m.jsxs("div",{className:"print-area inventory-print-report",children:[m.jsxs("div",{className:"report-header",children:[m.jsx("h1",{children:"Raport Inventar"}),m.jsx("div",{className:"report-meta",children:m.jsxs("div",{children:[m.jsx("strong",{children:"Data i ora finalizrii:"})," ",o]})})]}),s&&e.length>0&&m.jsxs("div",{className:"report-section",children:[m.jsx("h2",{children:"Diferene detectate"}),m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Produs"}),m.jsx("th",{children:"Cod"}),m.jsx("th",{children:"Status"}),m.jsx("th",{children:"Oblio"}),m.jsx("th",{children:"Inventar"}),m.jsx("th",{children:"Dif."})]})}),m.jsx("tbody",{children:e.map(e=>m.jsxs("tr",{children:[m.jsx("td",{children:e.name}),m.jsx("td",{children:e.code||e.key}),m.jsx("td",{className:"font-bold",children:"new"===e.status?"STOC 0  APARE":"more"===e.status?"MAI MULTE":"less"===e.status?"MAI PUINE":"missing"===e.status?"LIPS":"unknown"===e.status?"COD NECUNOSCUT":e.status.toUpperCase()}),m.jsx("td",{children:e.expected}),m.jsx("td",{className:"font-bold",children:e.counted}),m.jsx("td",{className:"font-bold "+(e.delta>0?"text-green":"text-red"),children:e.delta>0?`+${e.delta}`:e.delta})]},e.key))})]})]}),l&&t.length>0&&m.jsxs("div",{className:"report-section",children:[m.jsx("h2",{children:"Produse conforme (stoc corect)"}),m.jsxs("table",{children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Produs"}),m.jsx("th",{children:"Cod"}),m.jsx("th",{children:"Cantitate"}),m.jsx("th",{children:"Status"})]})}),m.jsx("tbody",{children:t.map(e=>m.jsxs("tr",{children:[m.jsx("td",{children:e.name}),m.jsx("td",{children:e.code||e.key}),m.jsx("td",{className:"font-bold",children:e.counted}),m.jsx("td",{className:"text-green font-bold",children:"OK"})]},e.key))})]})]})]}),document.body)};var ni=(e=>(e.CLASSIC="CLASSIC",e.MODERN="MODERN",e.MINIMAL="MINIMAL",e.ELEGANT="ELEGANT",e.ROYAL="ROYAL",e.VINTAGE="VINTAGE",e.PRESTIGE="PRESTIGE",e.ORNAMENTAL="ORNAMENTAL",e))(ni||{});const ri=[{id:"S",label:"SOCIAL (S)",dims:{length:180,width:55,height:45},weight:100},{id:"M",label:"STANDARD (M)",dims:{length:190,width:60,height:45},weight:100},{id:"L",label:"LARGE (L)",dims:{length:195,width:60,height:50},weight:120},{id:"XL",label:"EXTRA LARGE (XL)",dims:{length:200,width:65,height:50},weight:130},{id:"XXL",label:"GIANT (XXL)",dims:{length:210,width:75,height:55},weight:150}],si={id:"new",code:"",modelName:"",sidesType:"",woodColor:"",material:"",furnizor:"",price:0,lidFeature:"RESPET",accessories:["PERN","ORAR MIC I MARE","PNZ FA"],crossOptions:[{type:"BRAD",price:250},{type:"FAG",price:350},{type:"TRIFOI",price:350}],accessoriesPrice:250,crucifixPrice:100,dimensions:{length:195,width:60,height:50},weightCapacityMin:100,weightCapacityMax:120,currency:"RON",imageUrl:"https://funerare24.ro/wp-content/smush-webp/s03-f24-1500-lei.jpg.webp",showCompleteEchipat:!0,showDetaliiInterior:!0,sizeClass:"L"},li=({product:e,onSave:t,onClose:r})=>{const[s,l]=n.useState({...e}),[o,a]=n.useState(e.accessories.join(", ")),i=e=>{const{name:t,value:n}=e.target;if(t.includes(".")){const[e,r]=t.split(".");l(s=>({...s,[e]:{...s[e],[r]:t.startsWith("dimensions.")||t.startsWith("weight")?Number(n):n}}))}else if("checkbox"===e.target.type){const{checked:n}=e.target;l(e=>({...e,[t]:n}))}else l(e=>({...e,[t]:"price"===t||"accessoriesPrice"===t||"crucifixPrice"===t||t.startsWith("weight")?Number(n):n}))},c=(e,t,n)=>{const r=[...s.crossOptions];r[e]={...r[e],[t]:"price"===t?Number(n):n},l(e=>({...e,crossOptions:r}))},u=e=>{e.preventDefault();const n={...s,accessories:o.split(",").map(e=>e.trim()).filter(e=>""!==e)};t(n)},d="w-full bg-gray-50 text-gray-900 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:bg-white outline-none transition-all",p="block text-xs font-bold text-gray-500 mb-1 uppercase tracking-wider";return m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white w-full max-w-4xl max-h-[90vh] overflow-hidden rounded-2xl shadow-2xl flex flex-col animate-in zoom-in-95 duration-200",children:[m.jsxs("header",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-blue-600 text-white w-10 h-10 rounded-lg flex items-center justify-center shadow-md",children:m.jsx("i",{className:"fa-solid fa-pen-nib text-lg"})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Editare Etichet"}),m.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["Model: ",e.modelName,"  Cod: ",e.code]})]})]}),m.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-full",children:m.jsx("i",{className:"fa-solid fa-xmark text-2xl"})})]}),m.jsxs("form",{onSubmit:u,className:"overflow-y-auto p-6 space-y-8 bg-white",children:[m.jsxs("section",{children:[m.jsx("div",{className:"flex items-center justify-between mb-4 border-b border-gray-100 pb-2",children:m.jsxs("h3",{className:"text-sm font-black text-blue-600 uppercase tracking-widest flex items-center gap-2",children:[m.jsx("i",{className:"fa-solid fa-tag"})," Date Generale"]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:p,children:"Nume Model"}),m.jsx("input",{type:"text",name:"modelName",value:s.modelName,onChange:i,className:d,required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:p,children:"Cod EAN / Bare"}),m.jsx("input",{type:"text",name:"code",value:s.code,onChange:i,className:d,required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{className:p,children:["Pre (",s.currency,")"]}),m.jsx("input",{type:"number",name:"price",value:s.price,onChange:i,className:`${d} font-bold text-blue-700`,required:!0})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4 "+(s.isSmallLabel?"opacity-40 grayscale pointer-events-none":""),children:[m.jsxs("div",{children:[m.jsx("label",{className:p,children:"Tip Laturi"}),m.jsx("input",{type:"text",name:"sidesType",value:s.sidesType,onChange:i,className:d,disabled:s.isSmallLabel})]}),m.jsxs("div",{children:[m.jsx("label",{className:p,children:"Culoare Lemn"}),m.jsx("input",{type:"text",name:"woodColor",value:s.woodColor,onChange:i,className:d,disabled:s.isSmallLabel})]}),m.jsxs("div",{children:[m.jsx("label",{className:p,children:"Material"}),m.jsx("input",{type:"text",name:"material",value:s.material,onChange:i,className:`${d} font-bold`})]}),m.jsxs("div",{children:[m.jsx("label",{className:p,children:"Furnizor"}),m.jsx("input",{type:"text",name:"furnizor",value:s.furnizor,onChange:i,className:d})]})]}),m.jsxs("div",{className:"mt-6 flex flex-wrap gap-6 bg-blue-50/50 p-4 rounded-xl border border-blue-100",children:[m.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"checkbox",name:"isSmallLabel",checked:s.isSmallLabel,onChange:i,className:"sr-only"}),m.jsx("div",{className:"w-10 h-6 rounded-full transition-colors "+(s.isSmallLabel?"bg-indigo-600":"bg-gray-300")}),m.jsx("div",{className:"absolute top-1 left-1 bg-white w-4 h-4 rounded-full transition-transform "+(s.isSmallLabel?"translate-x-4":"")})]}),m.jsx("span",{className:"text-sm font-black text-indigo-700 uppercase tracking-tighter",children:"ETICHET MIC (4/pag)"})]}),!s.isSmallLabel&&m.jsxs(m.Fragment,{children:[m.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"checkbox",name:"showCompleteEchipat",checked:s.showCompleteEchipat,onChange:i,className:"sr-only"}),m.jsx("div",{className:"w-10 h-6 rounded-full transition-colors "+(s.showCompleteEchipat?"bg-blue-600":"bg-gray-300")}),m.jsx("div",{className:"absolute top-1 left-1 bg-white w-4 h-4 rounded-full transition-transform "+(s.showCompleteEchipat?"translate-x-4":"")})]}),m.jsx("span",{className:"text-xs font-bold text-gray-700 uppercase tracking-tight",children:"SICRIU COMPLET ECHIPAT"})]}),m.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"checkbox",name:"showDetaliiInterior",checked:s.showDetaliiInterior,onChange:i,className:"sr-only"}),m.jsx("div",{className:"w-10 h-6 rounded-full transition-colors "+(s.showDetaliiInterior?"bg-blue-600":"bg-gray-300")}),m.jsx("div",{className:"absolute top-1 left-1 bg-white w-4 h-4 rounded-full transition-transform "+(s.showDetaliiInterior?"translate-x-4":"")})]}),m.jsx("span",{className:"text-xs font-bold text-gray-700 uppercase tracking-tight",children:"DETALII INTERIOR"})]})]})]})]}),!s.isSmallLabel&&m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[m.jsxs("section",{children:[m.jsxs("h3",{className:"text-sm font-black text-emerald-600 uppercase tracking-widest mb-4 flex items-center gap-2 border-b border-gray-100 pb-2",children:[m.jsx("i",{className:"fa-solid fa-couch"})," Interior & Accesorii"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:p,children:"Tip Capitonaj Capac"}),m.jsx("input",{type:"text",name:"lidFeature",value:s.lidFeature,onChange:i,className:`${d} font-medium`})]}),m.jsxs("div",{children:[m.jsx("label",{className:p,children:"Accesorii (separate prin virgul)"}),m.jsx("textarea",{value:o,onChange:e=>a(e.target.value),rows:3,className:`${d} resize-none`})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:p,children:"Pre Accesorii Extra"}),m.jsx("input",{type:"number",name:"accessoriesPrice",value:s.accessoriesPrice,onChange:i,className:d})]}),m.jsxs("div",{children:[m.jsx("label",{className:p,children:"Pre Crucifix"}),m.jsx("input",{type:"number",name:"crucifixPrice",value:s.crucifixPrice,onChange:i,className:d})]})]})]})]}),m.jsxs("section",{children:[m.jsxs("h3",{className:"text-sm font-black text-amber-600 uppercase tracking-widest mb-4 flex items-center gap-2 border-b border-gray-100 pb-2",children:[m.jsx("i",{className:"fa-solid fa-cross"})," Opiuni Cruce"]}),m.jsx("div",{className:"space-y-3",children:s.crossOptions.map((e,t)=>m.jsxs("div",{className:"flex gap-2 group",children:[m.jsx("input",{type:"text",value:e.type,onChange:e=>c(t,"type",e.target.value),className:`${d} flex-1 py-1.5 text-sm`,placeholder:"Tip Lemn"}),m.jsx("input",{type:"number",value:e.price,onChange:e=>c(t,"price",e.target.value),className:`${d} w-24 py-1.5 text-sm font-bold`,placeholder:"Pret"})]},t))})]})]}),m.jsxs("section",{className:"bg-gray-50 p-5 rounded-2xl border border-gray-200 shadow-inner",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4 border-b border-gray-200/50 pb-2",children:[m.jsxs("h3",{className:"text-sm font-black text-slate-600 uppercase tracking-widest flex items-center gap-2",children:[m.jsx("i",{className:"fa-solid fa-ruler-combined"})," Dimensiuni & Imagine"]}),m.jsxs("div",{className:"flex items-center gap-2 bg-white/60 p-1.5 rounded-xl border border-gray-200 shadow-sm",children:[m.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Configurare Rapid:"}),m.jsx("div",{className:"flex gap-1",children:ri.map(e=>m.jsx("button",{type:"button",onClick:()=>(e=>{const t=ri.find(t=>t.id===e);t&&l(n=>({...n,sizeClass:e,dimensions:{...t.dims},weightCapacityMax:t.weight}))})(e.id),title:e.label,className:"px-2.5 py-1 text-[11px] font-black rounded-lg transition-all "+(s.sizeClass===e.id?"bg-blue-600 text-white shadow-md scale-105":"text-gray-500 hover:text-blue-600 hover:bg-white"),children:e.id},e.id))})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:p,children:"Lungime (cm)"}),m.jsx("input",{type:"number",name:"dimensions.length",value:s.dimensions.length,onChange:i,className:d})]}),m.jsxs("div",{children:[m.jsx("label",{className:p,children:"Lime (cm)"}),m.jsx("input",{type:"number",name:"dimensions.width",value:s.dimensions.width,onChange:i,className:d})]}),m.jsxs("div",{children:[m.jsx("label",{className:p,children:"nlime (cm)"}),m.jsx("input",{type:"number",name:"dimensions.height",value:s.dimensions.height,onChange:i,className:d})]}),m.jsxs("div",{children:[m.jsx("label",{className:p,children:"Greutate Max (kg)"}),m.jsx("input",{type:"number",name:"weightCapacityMax",value:s.weightCapacityMax,onChange:i,className:`${d} font-bold text-slate-700`})]})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("label",{className:p,children:"URL Imagine Produs"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",name:"imageUrl",value:s.imageUrl||"",onChange:i,placeholder:"https://...",className:`${d} text-xs text-blue-600 flex-1`}),s.imageUrl&&m.jsx("div",{className:"w-10 h-10 rounded border bg-white flex items-center justify-center overflow-hidden shrink-0 shadow-sm",children:m.jsx("img",{src:s.imageUrl,alt:"Thumb",className:"w-full h-full object-contain"})})]})]})]})]}),m.jsxs("footer",{className:"px-6 py-4 border-t border-gray-100 flex justify-between items-center bg-gray-50/50",children:[m.jsx("div",{className:"text-xs text-gray-400 font-medium italic",children:"* Modificrile sunt salvate doar n sesiunea curent."}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 text-sm font-bold text-gray-500 hover:text-gray-700 transition-colors uppercase tracking-wider",children:"ANULEAZ"}),m.jsx("button",{onClick:u,className:"px-8 py-2 bg-blue-600 text-white rounded-xl text-sm font-bold shadow-lg hover:bg-blue-700 transition-all hover:scale-[1.02] active:scale-95 uppercase tracking-wider",children:"SALVEAZ MODIFICRILE"})]})]})]})})},oi=()=>{let e="594";for(let n=0;n<9;n++)e+=Math.floor(10*Math.random());const t=(e=>{let t=0;for(let r=0;r<12;r++){const n=parseInt(e[r]);if(isNaN(n))return-1;t+=r%2==0?1*n:3*n}const n=t%10;return 0===n?0:10-n})(e);return e+t},ai=e=>{if(!e)return"";const t=String(e).trim();return/^\d+$/.test(t)?(13===t.length||t.length,t):t},ii=({product:e,logoUrl:t,showImages:n})=>{const r=ai(e.code);return m.jsxs("div",{className:"w-[180mm] h-[130mm] border-4 border-double border-gray-800 p-3 relative bg-gray-50 text-gray-900 font-serif flex flex-col justify-between shadow-sm overflow-hidden box-border",children:[m.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"radial-gradient(#000 1px, transparent 1px)",backgroundSize:"20px 20px"}}),m.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[m.jsxs("div",{className:"flex flex-row h-3/4",children:[m.jsxs("div",{className:(n?"w-1/3":"w-1/2")+" flex flex-col items-center text-center border-r-2 border-dotted border-gray-400 pr-2",children:[m.jsx("div",{className:(n?"h-20":"h-24")+" w-full flex items-center justify-center mb-1",children:t?m.jsx("img",{src:t,alt:"Logo",className:"max-h-full max-w-full object-contain"}):m.jsx("div",{className:"border-2 border-dashed border-gray-300 w-16 h-16 flex items-center justify-center text-gray-400 text-xs",children:"LOGO"})}),m.jsx("h2",{className:(n?"text-xl":"text-4xl")+" font-bold uppercase mt-1 font-['Cinzel'] tracking-wider leading-tight",children:e.modelName}),m.jsx("h3",{className:(n?"text-md":"text-2xl")+" font-bold uppercase mt-1 text-gray-700 font-['Playfair_Display']",children:e.sidesType}),m.jsxs("p",{className:(n?"text-xs":"text-lg")+" uppercase text-gray-500 mt-1 font-sans font-bold",children:["Furnizor: ",e.furnizor]}),m.jsxs("div",{className:"mt-auto mb-2 w-full",children:[m.jsxs("h2",{className:(n?"text-2xl":"text-5xl")+" font-black mt-2 border-t-2 border-b-2 border-gray-800 py-1",children:[e.price," ",e.currency]}),m.jsxs("div",{className:"mt-2",children:[m.jsx("h3",{className:(n?"text-lg":"text-3xl")+" font-bold uppercase tracking-widest text-gray-800 leading-none",children:e.woodColor}),m.jsx("p",{className:(n?"text-2xl":"text-5xl")+" font-black uppercase text-gray-900 mt-1",children:e.material})]})]})]}),n&&m.jsxs("div",{className:"w-1/3 flex flex-col items-center text-center border-r-2 border-dotted border-gray-400 px-2 pt-1",children:[e.imageUrl&&m.jsx("div",{className:"w-full h-24 mb-2 flex items-center justify-center",children:m.jsx("img",{src:e.imageUrl,alt:e.modelName,className:"max-h-full max-w-full object-contain border border-gray-200 p-1 bg-white"})}),m.jsx("h4",{className:"text-sm font-bold uppercase border-b border-gray-400 pb-1 mb-1 w-full",children:"Capitonaj Capac"}),m.jsx("p",{className:"text-lg font-bold uppercase mb-2",children:e.lidFeature}),m.jsx("div",{className:"flex flex-col gap-1 mt-1",children:e.accessories.map((e,t)=>m.jsx("p",{className:"text-sm font-semibold uppercase leading-tight",children:e},t))})]}),m.jsxs("div",{className:(n?"w-1/3":"w-1/2")+" flex flex-col items-center text-center pl-2 pt-2",children:[!n&&m.jsxs("div",{className:"mb-4 w-full border-b-2 border-gray-300 pb-2",children:[m.jsxs("h4",{className:"text-xl font-bold uppercase text-gray-500",children:["Capitonaj: ",m.jsx("span",{className:"text-black",children:e.lidFeature})]}),m.jsx("div",{className:"flex flex-wrap justify-center gap-2 mt-1",children:e.accessories.map((e,t)=>m.jsx("span",{className:"text-lg font-bold uppercase border border-gray-400 px-2",children:e},t))})]}),m.jsx("h4",{className:(n?"text-sm":"text-xl")+" font-bold uppercase border-b border-gray-400 pb-1 mb-2 w-full",children:"Cruce Inscripionat:"}),m.jsx("ul",{className:"w-full",children:e.crossOptions.map((e,t)=>m.jsxs("li",{className:`flex justify-between ${n?"text-sm":"text-xl"} font-bold uppercase px-1 mb-1`,children:[m.jsx("span",{children:e.type}),m.jsxs("span",{children:[e.price," LEI"]})]},t))}),m.jsxs("div",{className:"mt-auto w-full mb-2",children:[m.jsxs("div",{className:`flex justify-between ${n?"text-sm":"text-xl"} font-bold uppercase px-1 mb-1`,children:[m.jsx("span",{children:"ACCESORII:"}),m.jsxs("span",{children:[e.accessoriesPrice," LEI"]})]}),m.jsxs("div",{className:`flex justify-between ${n?"text-sm":"text-xl"} font-bold uppercase px-1`,children:[m.jsx("span",{children:"CRUCIFIX:"}),m.jsxs("span",{children:[e.crucifixPrice," LEI"]})]}),m.jsx("div",{className:"mt-2 text-right opacity-80 flex flex-col items-end",children:m.jsx("div",{style:{transform:n?"scaleX(2)":"scale(2.5) translateX(-20%)",transformOrigin:"right bottom"},children:m.jsx("span",{style:{fontFamily:"'Libre Barcode EAN13 Text'"},className:(n?"text-5xl":"text-6xl")+" leading-none",children:r})})})]})]})]}),m.jsxs("div",{className:"h-1/4 border-t-2 border-gray-800 flex mt-1 pt-1",children:[m.jsxs("div",{className:"w-1/2 flex flex-col items-center justify-center border-r border-gray-400",children:[m.jsx("h5",{className:(n?"text-sm":"text-xl")+" font-bold uppercase mb-1 text-gray-600",children:"Dimensiuni:"}),m.jsxs("p",{className:(n?"text-2xl":"text-4xl")+" font-black uppercase",children:[[e.dimensions.length>0?`L-${e.dimensions.length}`:null,e.dimensions.width>0?`l-${e.dimensions.width}`:null,e.dimensions.height>0?`H-${e.dimensions.height}`:null].filter(Boolean).join(", ")," CM"]})]}),m.jsxs("div",{className:"w-1/2 flex flex-col items-center justify-center",children:[m.jsx("h5",{className:(n?"text-sm":"text-xl")+" font-bold uppercase mb-1 text-gray-600",children:"Greutate Suportat:"}),m.jsxs("p",{className:(n?"text-2xl":"text-4xl")+" font-black",children:["Pn la: ",e.weightCapacityMin,"-",e.weightCapacityMax," KG"]})]})]})]})]})},ci=({product:e,logoUrl:t,showImages:n})=>{const r=ai(e.code);return m.jsxs("div",{className:"w-[180mm] h-[130mm] bg-white border border-gray-200 text-slate-800 font-sans flex flex-row overflow-hidden shadow-sm relative",children:[m.jsxs("div",{className:(n?"w-[60mm]":"w-[80mm]")+" bg-slate-900 text-white p-4 flex flex-col justify-between shrink-0 transition-all",children:[m.jsx("div",{className:"h-20 w-full flex items-center justify-center mb-4 bg-white/10 rounded-lg p-2",children:t?m.jsx("img",{src:t,alt:"Logo",className:"max-h-full max-w-full object-contain"}):m.jsx("span",{className:"text-gray-400 text-xs",children:"LOGO"})}),m.jsxs("div",{children:[m.jsx("h2",{className:(n?"text-2xl":"text-4xl")+" font-bold uppercase tracking-wide leading-none",children:e.modelName}),m.jsx("p",{className:"text-slate-400 uppercase tracking-widest text-xs mt-1",children:e.sidesType}),m.jsxs("div",{className:"mt-4",children:[m.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:"Culoare"}),m.jsx("p",{className:(n?"text-lg":"text-3xl")+" font-semibold text-amber-500 leading-tight",children:e.woodColor}),m.jsx("p",{className:"text-[10px] text-slate-400 uppercase mt-2",children:"Material"}),m.jsx("p",{className:(n?"text-2xl":"text-5xl")+" font-black text-white uppercase",children:e.material}),m.jsx("p",{className:"text-[10px] text-slate-400 uppercase mt-2",children:"Furnizor"}),m.jsx("p",{className:(n?"text-sm":"text-xl")+" font-bold text-gray-300 uppercase",children:e.furnizor})]})]}),m.jsxs("div",{className:"mt-auto",children:[m.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:"Pre Final"}),m.jsxs("p",{className:(n?"text-3xl":"text-6xl")+" font-bold text-white mb-2",children:[e.price," ",m.jsx("span",{className:(n?"text-sm":"text-xl")+" font-normal",children:e.currency})]}),m.jsx("div",{className:"bg-white p-1 rounded flex flex-col items-center overflow-hidden",children:m.jsx("div",{style:{transform:n?"scaleX(1.5)":"scaleX(2)",transformOrigin:"center"},children:m.jsx("span",{style:{fontFamily:"'Libre Barcode EAN13 Text'"},className:"text-5xl text-black leading-none block",children:r})})})]})]}),m.jsxs("div",{className:"flex-grow p-4 flex flex-col",children:[m.jsxs("div",{className:"flex gap-4 mb-4 "+(n?"h-24":"h-auto flex-grow"),children:[n&&e.imageUrl&&m.jsx("div",{className:"w-1/3 bg-slate-50 rounded border border-slate-100 flex items-center justify-center p-1",children:m.jsx("img",{src:e.imageUrl,alt:e.modelName,className:"max-h-full max-w-full object-contain mix-blend-multiply"})}),m.jsxs("div",{className:"flex-grow flex flex-col justify-center",children:[m.jsx("h3",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Capitonaj"}),m.jsx("p",{className:(n?"font-semibold text-base":"font-bold text-3xl")+" mb-2",children:e.lidFeature}),m.jsx("h3",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Include"}),m.jsx("div",{className:(n?"text-xs":"text-xl font-medium")+" space-y-0.5",children:e.accessories.map((e,t)=>m.jsxs("span",{className:`inline-block mr-2 bg-slate-100 px-1 rounded text-slate-600 ${!n&&"p-2 mb-1"}`,children:[" ",e]},t))})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 "+(n?"h-full":"h-1/2"),children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h3",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Opiuni Cruce"}),m.jsx("div",{className:"space-y-1 flex-grow",children:e.crossOptions.map((e,t)=>m.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 "+(n?"pb-0.5":"pb-2"),children:[m.jsx("span",{className:""+(n?"font-medium text-xs":"font-bold text-xl"),children:e.type}),m.jsxs("span",{className:(n?"font-bold text-xs":"font-black text-xl")+" text-slate-900",children:[e.price," LEI"]})]},t))}),m.jsxs("div",{className:"bg-slate-50 p-2 rounded border border-slate-100 mt-2",children:[m.jsxs("div",{className:"flex justify-between text-xs mb-0.5",children:[m.jsx("span",{className:(n?"":"text-lg")+" text-slate-500",children:"Accesorii"}),m.jsxs("span",{className:""+(n?"font-bold":"font-black text-xl"),children:[e.accessoriesPrice," LEI"]})]}),m.jsxs("div",{className:"flex justify-between text-xs",children:[m.jsx("span",{className:(n?"":"text-lg")+" text-slate-500",children:"Crucifix"}),m.jsxs("span",{className:""+(n?"font-bold":"font-black text-xl"),children:[e.crucifixPrice," LEI"]})]})]})]}),m.jsx("div",{className:"flex flex-col justify-end",children:m.jsxs("div",{className:"grid grid-cols-1 gap-2 text-center",children:[m.jsxs("div",{className:"bg-slate-100 p-2 rounded",children:[m.jsx("p",{className:"text-[10px] text-slate-500 uppercase",children:"Dimensiuni (cm)"}),m.jsx("p",{className:(n?"text-xl":"text-2xl")+" font-bold leading-tight",children:[e.dimensions.length>0?e.dimensions.length:null,e.dimensions.width>0?e.dimensions.width:null,e.dimensions.height>0?e.dimensions.height:null].filter(Boolean).join(" x ")})]}),m.jsxs("div",{className:"bg-slate-100 p-2 rounded",children:[m.jsx("p",{className:"text-[10px] text-slate-500 uppercase",children:"Greutate (kg)"}),m.jsxs("p",{className:(n?"text-xl":"text-2xl")+" font-bold leading-tight",children:[e.weightCapacityMin," - ",e.weightCapacityMax]})]})]})})]})]})]})},ui=({product:e,logoUrl:t,showImages:n})=>{const r=ai(e.code);return m.jsxs("div",{className:"w-[180mm] h-[130mm] bg-white border-2 border-gray-900 p-6 text-gray-900 font-mono flex flex-col justify-between relative box-border overflow-hidden",children:[m.jsxs("div",{className:"flex justify-between items-start border-b-2 border-gray-900 pb-2 mb-2",children:[m.jsxs("div",{className:"w-2/3",children:[m.jsx("h1",{className:(n?"text-3xl":"text-5xl")+" font-black uppercase tracking-tighter leading-none",children:e.modelName}),m.jsxs("div",{className:"flex gap-4 items-baseline mt-2",children:[m.jsx("span",{className:"text-sm uppercase font-bold",children:e.sidesType}),m.jsx("span",{className:"text-sm uppercase font-bold text-gray-600",children:e.woodColor}),m.jsx("span",{className:(n?"text-2xl":"text-4xl")+" uppercase font-black bg-gray-900 text-white px-2",children:e.material})]})]}),m.jsxs("div",{className:"text-right w-1/3 flex flex-col items-end",children:[m.jsxs("h2",{className:(n?"text-3xl":"text-6xl")+" font-bold",children:[e.price," ",e.currency]}),t?m.jsx("img",{src:t,alt:"Logo",className:"h-8 object-contain mt-1 ml-auto grayscale"}):m.jsx("span",{className:"text-[10px] uppercase border border-gray-400 px-1 mt-1 inline-block",children:"Logo"}),m.jsxs("span",{className:"text-[10px] uppercase font-bold text-gray-500 mt-1",children:["Furnizor: ",e.furnizor]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-6 flex-grow",children:[m.jsxs("div",{className:"flex flex-col gap-4 justify-center",children:[m.jsxs("div",{children:[m.jsx("span",{className:"bg-gray-900 text-white px-1.5 py-0.5 text-xs font-bold uppercase",children:"Capitonaj"}),m.jsx("p",{className:(n?"text-lg":"text-3xl")+" font-bold mt-1",children:e.lidFeature})]}),m.jsxs("div",{children:[m.jsx("span",{className:"bg-gray-200 text-gray-900 px-1.5 py-0.5 text-xs font-bold uppercase",children:"Include"}),m.jsx("ul",{className:"mt-1 space-y-0.5 list-disc list-inside font-semibold "+(n?"text-sm":"text-xl"),children:e.accessories.map((e,t)=>m.jsx("li",{children:e},t))})]})]}),m.jsxs("div",{className:"flex flex-col h-full",children:[n&&e.imageUrl?m.jsx("div",{className:"w-full h-24 border border-gray-200 mb-2 flex items-center justify-center p-1",children:m.jsx("img",{src:e.imageUrl,alt:"Product",className:"max-h-full max-w-full object-contain grayscale"})}):!n&&m.jsx("div",{className:"flex-grow"}),m.jsxs("div",{className:"mt-auto",children:[m.jsx("span",{className:"bg-gray-200 text-gray-900 px-1.5 py-0.5 text-xs font-bold uppercase",children:"Opiuni Cruce"}),m.jsx("ul",{className:"mt-1 space-y-1 "+(n?"text-sm":"text-lg"),children:e.crossOptions.map((e,t)=>m.jsxs("li",{className:"flex justify-between border-b border-gray-300 border-dashed pb-0.5",children:[m.jsx("span",{children:e.type}),m.jsx("span",{className:"font-bold",children:e.price})]},t))}),m.jsxs("div",{className:`flex justify-between items-center ${n?"text-xs":"text-lg"} font-bold mt-2`,children:[m.jsx("span",{children:"ACCESORII EXTRA:"}),m.jsxs("span",{children:[e.accessoriesPrice," LEI"]})]}),m.jsxs("div",{className:`flex justify-between items-center ${n?"text-xs":"text-lg"} font-bold`,children:[m.jsx("span",{children:"CRUCIFIX:"}),m.jsxs("span",{children:[e.crucifixPrice," LEI"]})]})]})]})]}),m.jsxs("div",{className:"border-t-2 border-gray-900 pt-2 flex justify-between items-center bg-gray-50 p-3 -mx-6 -mb-6 mt-2",children:[m.jsxs("div",{className:(n?"text-xl":"text-3xl")+" font-black uppercase text-center",children:[[e.dimensions.length>0?e.dimensions.length:null,e.dimensions.width>0?e.dimensions.width:null,e.dimensions.height>0?e.dimensions.height:null].filter(Boolean).join("x")," CM"]}),m.jsx("div",{className:"text-right flex flex-col items-center",children:m.jsx("div",{style:{transform:n?"scaleX(2)":"scale(2.5)",transformOrigin:"center"},children:m.jsx("span",{style:{fontFamily:"'Libre Barcode EAN13 Text'"},className:(n?"text-5xl":"text-6xl")+" leading-none block",children:r})})}),m.jsxs("div",{className:(n?"text-xl":"text-3xl")+" font-black uppercase",children:["MAX ",e.weightCapacityMax," KG"]})]})]})},di=({product:e,logoUrl:t,showImages:n})=>{const r=ai(e.code),s=[];e.dimensions.length>0&&s.push(e.dimensions.length),e.dimensions.width>0&&s.push(e.dimensions.width),e.dimensions.height>0&&s.push(e.dimensions.height);const l=s.length>0?s.join("x")+" CM":"";return e.isSmallLabel?m.jsxs("div",{className:"w-[140mm] h-[100mm] bg-[#fffbf0] border-[6px] border-double border-[#8B5A2B] pt-4 px-6 pb-6 text-[#3e2723] flex flex-col box-border relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-1.5 left-1.5 w-8 h-8 border-t-2 border-l-2 border-[#8B5A2B] opacity-40"}),m.jsx("div",{className:"absolute top-1.5 right-1.5 w-8 h-8 border-t-2 border-r-2 border-[#8B5A2B] opacity-40"}),m.jsx("div",{className:"absolute bottom-1.5 left-1.5 w-8 h-8 border-b-2 border-l-2 border-[#8B5A2B] opacity-40"}),m.jsx("div",{className:"absolute bottom-1.5 right-1.5 w-8 h-8 border-b-2 border-r-2 border-[#8B5A2B] opacity-40"}),m.jsxs("div",{className:"flex justify-between items-start mb-1 h-20",children:[m.jsxs("div",{className:"w-[60%] flex flex-col items-center justify-center h-full",children:[m.jsx("h1",{className:"text-2xl font-serif text-[#8B5A2B] tracking-wide font-bold leading-tight text-center uppercase",children:e.modelName}),m.jsx("p",{className:"text-[14px] font-bold uppercase tracking-widest text-[#8B5A2B] mt-1",children:e.material})]}),m.jsx("div",{className:"w-[40%] h-full flex items-center justify-center p-1",children:t&&"null"!==t&&m.jsx("img",{src:t,alt:"Logo",className:"max-h-full max-w-full object-contain"})})]}),m.jsxs("div",{className:"flex-grow flex flex-col justify-center items-center py-2",children:[m.jsxs("div",{className:"flex items-center gap-2 bg-[#8B5A2B]/5 px-3 py-1 border-t border-b border-[#8B5A2B]/20 mb-1",children:[m.jsx("p",{className:"text-xl uppercase text-[#3e2723] font-black tracking-widest leading-none",children:l}),e.sizeClass&&m.jsx("div",{className:"bg-[#8B5A2B] text-white px-2 py-0.5 rounded text-sm font-black",children:e.sizeClass})]}),m.jsxs("p",{className:"text-[12px] font-bold text-[#8B5A2B] uppercase",children:["Producator: ",e.furnizor]})]}),m.jsxs("div",{className:"flex items-end justify-between mt-auto",children:[m.jsxs("div",{className:"flex items-baseline gap-1",children:[m.jsx("p",{className:"text-4xl font-serif font-bold text-[#8B5A2B] leading-none",children:e.price}),m.jsx("span",{className:"text-2xl font-serif font-bold text-[#8B5A2B]",children:e.currency})]}),m.jsxs("div",{className:"flex flex-col items-center justify-end",children:[m.jsx("div",{style:{transform:"scale(1.4, 0.8)",transformOrigin:"bottom center"},children:m.jsx("span",{style:{fontFamily:"'Libre Barcode EAN13 Text'"},className:"text-5xl leading-none block",children:r})}),m.jsx("p",{className:"text-sm font-bold tracking-[0.2em] text-black font-mono mt-1",children:e.code})]})]})]}):m.jsxs("div",{className:"w-[190mm] h-[130mm] bg-[#fffbf0] border-[8px] border-double border-[#8B5A2B] pt-2 px-10 pb-10 text-[#3e2723] flex flex-col box-border relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-2 left-2 w-12 h-12 border-t-2 border-l-2 border-[#8B5A2B] opacity-40"}),m.jsx("div",{className:"absolute top-2 right-2 w-12 h-12 border-t-2 border-r-2 border-[#8B5A2B] opacity-40"}),m.jsx("div",{className:"absolute bottom-2 left-2 w-12 h-12 border-b-2 border-l-2 border-[#8B5A2B] opacity-40"}),m.jsx("div",{className:"absolute bottom-2 right-2 w-12 h-12 border-b-2 border-r-2 border-[#8B5A2B] opacity-40"}),m.jsxs("div",{className:"flex items-center justify-between my-1 relative z-10 pb-2 h-36",children:[m.jsxs("div",{className:"w-1/2 flex flex-col items-center justify-center pr-1 h-full py-1",children:[m.jsx("h1",{className:(n?"text-3xl":"text-4xl")+" font-serif text-[#8B5A2B] tracking-wide font-bold leading-[.9] text-center uppercase",children:e.modelName}),m.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-1.5 text-base uppercase tracking-widest font-bold text-center",children:[e.sidesType&&m.jsx("span",{children:e.sidesType}),e.sidesType&&e.woodColor&&m.jsx("span",{className:"w-1 h-1 rounded-full bg-[#8B5A2B]"}),e.woodColor&&m.jsx("span",{children:e.woodColor}),e.woodColor&&e.material&&m.jsx("span",{className:"w-1 h-1 rounded-full bg-[#8B5A2B]"}),e.material&&m.jsx("span",{children:e.material})]}),e.showCompleteEchipat&&m.jsx("h2",{className:"font-serif italic text-xl text-[#8B5A2B]",children:"SICRIU COMPLET ECHIPAT"})]}),m.jsx("div",{className:"w-1/2 flex items-center justify-center h-full",children:t&&"null"!==t?m.jsx("div",{className:"w-full h-full flex items-center justify-center overflow-hidden",children:m.jsx("img",{src:t,alt:"Logo",className:"max-h-full max-w-full object-contain",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.parentElement.innerHTML='<span class="text-[#8B5A2B] font-serif text-xl italic">Logo Firm</span>'}})}):m.jsx("div",{className:"border-2 border-dashed border-[#8B5A2B]/20 p-1 rounded-xl flex items-center justify-center",children:m.jsx("span",{className:"text-[#8B5A2B] font-serif text-lg italic",children:"Fr Logo"})})})]}),m.jsxs("div",{className:`flex-grow grid ${n?"grid-cols-3":"grid-cols-2"} gap-4 relative z-10 px-2`,children:[m.jsxs("div",{className:"flex flex-col items-center text-center pr-2 h-full",children:[m.jsxs("div",{className:"flex-grow flex flex-col justify-center w-full",children:[e.showDetaliiInterior&&m.jsx("h2",{className:"font-serif italic text-xl text-[#8B5A2B] mb-1.5 text-center",children:"DETALII INTERIOR"}),m.jsx("p",{className:"text-xl font-medium mb-1 leading-none",children:e.lidFeature}),m.jsx("div",{className:"space-y-0.5 mt-1.1",children:e.accessories.map((e,t)=>m.jsx("p",{className:"text-[#5D4037] font-medium text-xl",children:e},t))})]}),m.jsxs("div",{className:"pt-1 shrink-0 w-full mb-1",children:[!n&&(l||e.sizeClass)&&m.jsxs("div",{className:"mb-1 border-t border-b border-[#8B5A2B]/30 py-1 bg-[#8B5A2B]/5",children:[m.jsxs("div",{className:"flex items-center justify-center gap-4",children:[l&&m.jsx("p",{className:"text-2xl uppercase text-[#3e2723] font-black tracking-widest leading-none",children:l}),e.sizeClass&&m.jsx("div",{className:"flex items-center justify-center bg-[#8B5A2B] text-white px-3 py-1 rounded-md",children:m.jsx("span",{className:"text-xl font-black",children:e.sizeClass})})]}),e.weightCapacityMax>0&&m.jsxs("p",{className:"text-xl uppercase text-[#8B5A2B] font-bold tracking-widest mt-1",children:["Max ",e.weightCapacityMax," kg"]})]}),m.jsxs("p",{className:"text-[16px] font-bold text-[#8B5A2B] uppercase",children:["Producator: ",e.furnizor]}),m.jsxs("div",{className:"flex items-baseline justify-center gap-2",children:[m.jsx("p",{className:(n?"text-2xl":"text-5xl")+" font-serif font-bold text-[#8B5A2B] leading-none",children:e.price}),m.jsx("span",{className:(n?"text-lg":"text-4xl")+" font-serif font-bold text-[#8B5A2B]",children:e.currency})]})]})]}),n&&m.jsxs("div",{className:"flex flex-col items-center justify-center px-1",children:[e.imageUrl&&m.jsx("div",{className:"w-full h-32 border-[4px] border-[#8B5A2B]/10 p-1 bg-white mb-4",children:m.jsx("img",{src:e.imageUrl,alt:e.modelName,className:"w-full h-full object-contain"})}),l&&m.jsxs("div",{className:"bg-[#8B5A2B]/5 p-2 w-full text-center",children:[m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsx("p",{className:"text-xl uppercase text-[#8B5A2B] font-black tracking-widest text-center leading-tight",children:l}),e.sizeClass&&m.jsx("div",{className:"bg-[#8B5A2B] text-white px-2 py-0.5 rounded text-sm font-bold",children:e.sizeClass})]}),e.weightCapacityMax>0&&m.jsxs("p",{className:"text-xl uppercase text-[#8B5A2B] font-black tracking-widest text-center leading-tight mt-1",children:["Max ",e.weightCapacityMax," kg"]})]})]}),m.jsxs("div",{className:"flex flex-col pl-1 overflow-hidden h-full",children:[m.jsx("div",{className:"flex-grow flex flex-col justify-center w-full",children:e.crossOptions.some(e=>e.price>0)&&m.jsxs(m.Fragment,{children:[m.jsx("h2",{className:"font-serif italic text-xl text-[#8B5A2B] mb-2 text-center",children:"CRUCE INSCRIPTIONATA"}),m.jsx("div",{className:`space-y-1 ${n?"text-xs":"text-lg font-bold"} w-[80%] mx-auto`,children:e.crossOptions.filter(e=>e.price>0).map((e,t)=>m.jsxs("div",{className:"flex justify-between items-end",children:[m.jsx("span",{className:"font-bold uppercase text-[#5D4037]",children:e.type}),m.jsx("span",{className:"border-b border-dotted border-[#8B5A2B] flex-grow mx-1 mb-1"}),m.jsxs("span",{className:"font-bold",children:[e.price," Lei"]})]},t))})]})}),m.jsxs("div",{className:`pt-2 border-t border-[#8B5A2B]/20 space-y-1.5 ${n?"text-sm":"text-xl"} shrink-0 mt-2 w-[80%] mx-auto`,children:[e.accessoriesPrice>0&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-[#8B5A2B] italic",children:"Accesorii:"}),m.jsxs("span",{className:"font-bold",children:[e.accessoriesPrice," Lei"]})]}),e.crucifixPrice>0&&m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-[#8B5A2B] italic",children:"Crucifix:"}),m.jsxs("span",{className:"font-bold",children:[e.crucifixPrice," Lei"]})]}),m.jsx("div",{className:"text-center pt-2 flex flex-col items-center justify-end relative min-h-[100px]",children:m.jsxs("div",{className:"flex flex-col items-center justify-center",children:[m.jsx("div",{style:{transform:n?"scale(2.2, 1)":"scale(2.1, 1)",transformOrigin:"bottom center"},children:m.jsx("span",{style:{fontFamily:"'Libre Barcode EAN13 Text'"},className:"text-6xl leading-none block",children:r})}),m.jsx("p",{className:"text-lg font-bold tracking-[0.1em] text-black font-mono",children:e.code})]})})]})]})]})]})},pi=({product:e,logoUrl:t,showImages:n})=>{const r=ai(e.code);return m.jsx("div",{className:"w-[180mm] h-[130mm] bg-white border-[8px] border-[#1a237e] p-1 text-[#1a237e] flex flex-col box-border relative overflow-hidden",children:m.jsxs("div",{className:"w-full h-full border-[2px] border-[#ffd700] p-4 flex flex-col relative",children:[m.jsxs("div",{className:"flex flex-col items-center border-b-2 border-[#1a237e] pb-2 mb-2",children:[m.jsx("div",{className:"h-16 w-full flex items-center justify-center mb-1",children:t?m.jsx("img",{src:t,alt:"Logo",className:"max-h-full max-w-full object-contain"}):m.jsx("div",{className:"text-2xl font-serif font-bold text-[#1a237e] uppercase tracking-widest",children:"Royal Funeral"})}),m.jsx("h1",{className:(n?"text-4xl":"text-6xl")+" font-['Cinzel'] font-bold uppercase tracking-wide leading-none text-center",children:e.modelName}),m.jsxs("div",{className:"flex gap-6 mt-2 items-baseline",children:[m.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:e.sidesType}),m.jsx("span",{className:"w-2 h-2 rounded-full bg-[#ffd700]"}),m.jsx("span",{className:"text-sm font-bold uppercase tracking-wider",children:e.woodColor}),m.jsx("span",{className:"w-2 h-2 rounded-full bg-[#ffd700]"}),m.jsx("span",{className:(n?"text-2xl":"text-5xl")+" font-black uppercase text-[#1a237e]",children:e.material})]})]}),m.jsxs("div",{className:`flex-grow grid ${n?"grid-cols-3":"grid-cols-2"} gap-4`,children:[m.jsxs("div",{className:"flex flex-col justify-center text-center space-y-2",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500 mb-1",children:"Capitonaj"}),m.jsx("p",{className:`font-serif ${n?"text-lg":"text-3xl"} font-bold`,children:e.lidFeature})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500 mb-1",children:"Accesorii Incluse"}),m.jsx("ul",{className:(n?"text-xs":"text-base")+" font-bold space-y-0.5",children:e.accessories.map((e,t)=>m.jsx("li",{children:e},t))})]}),m.jsxs("div",{className:"mt-2 p-2 border border-[#1a237e] rounded",children:[m.jsx("p",{className:(n?"text-3xl":"text-6xl")+" font-black",children:e.price}),m.jsx("p",{className:"text-xs font-bold",children:e.currency})]})]}),n&&m.jsx("div",{className:"flex items-center justify-center p-2",children:e.imageUrl?m.jsx("img",{src:e.imageUrl,className:"max-h-32 object-contain drop-shadow-xl"}):m.jsx("span",{className:"text-xs text-gray-300",children:"FOTO"})}),m.jsxs("div",{className:"flex flex-col justify-center text-center space-y-2",children:[m.jsx("h3",{className:"text-xs font-bold uppercase text-gray-500 mb-1",children:"Opiuni Cruce"}),m.jsx("ul",{className:(n?"text-xs":"text-base")+" space-y-1 w-full",children:e.crossOptions.map((e,t)=>m.jsxs("li",{className:"flex justify-between border-b border-gray-200 pb-0.5",children:[m.jsx("span",{className:"font-bold",children:e.type}),m.jsx("span",{children:e.price})]},t))}),m.jsxs("div",{className:`mt-auto ${n?"text-xs":"text-sm"} space-y-1 pt-2`,children:[m.jsxs("div",{className:"flex justify-between font-bold",children:[m.jsx("span",{children:"Accesorii:"}),m.jsx("span",{children:e.accessoriesPrice})]}),m.jsxs("div",{className:"flex justify-between font-bold",children:[m.jsx("span",{children:"Crucifix:"}),m.jsx("span",{children:e.crucifixPrice})]})]})]})]}),m.jsxs("div",{className:"mt-2 bg-[#1a237e] text-white p-2 flex justify-between items-center -mx-4 -mb-4",children:[m.jsxs("div",{className:"text-center w-1/2",children:[m.jsxs("span",{className:`block ${n?"text-xl":"text-3xl"} font-bold uppercase tracking-wider`,children:[[e.dimensions.length>0?e.dimensions.length:null,e.dimensions.width>0?e.dimensions.width:null,e.dimensions.height>0?e.dimensions.height:null].filter(Boolean).join(" x ")," cm"]}),m.jsxs("span",{className:`block ${n?"text-xl":"text-3xl"} font-bold uppercase tracking-wider text-[#ffd700]`,children:["Cap: ",e.weightCapacityMax," KG"]}),m.jsxs("span",{className:"block text-xs uppercase tracking-widest text-gray-300 mt-0.5",children:["Furnizor: ",e.furnizor]})]}),m.jsx("div",{className:"bg-white text-black px-2 py-1 rounded w-1/2 text-center flex flex-col items-center justify-center",children:m.jsx("div",{style:{transform:n?"scaleX(2)":"scale(2.5)",transformOrigin:"center"},children:m.jsx("span",{style:{fontFamily:"'Libre Barcode EAN13 Text'"},className:"text-5xl leading-none block",children:r})})})]})]})})},fi=({product:e,logoUrl:t,showImages:n})=>{const r=ai(e.code);return m.jsx("div",{className:"w-[180mm] h-[130mm] bg-[#fdfbf7] p-3 box-border overflow-hidden relative text-[#4a4a4a]",children:m.jsx("div",{className:"w-full h-full border-4 border-double border-[#8d6e63] rounded-lg p-1 relative",children:m.jsxs("div",{className:"w-full h-full border border-[#8d6e63] rounded p-3 flex flex-col relative",children:[m.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-4 border-l-4 border-[#8d6e63] rounded-tl-lg"}),m.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-4 border-r-4 border-[#8d6e63] rounded-tr-lg"}),m.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-4 border-l-4 border-[#8d6e63] rounded-bl-lg"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-4 border-r-4 border-[#8d6e63] rounded-br-lg"}),m.jsxs("div",{className:"flex justify-between items-center mb-2 border-b-2 border-[#d7ccc8] pb-2",children:[m.jsxs("div",{className:"w-1/4",children:[t?m.jsx("img",{src:t,alt:"Logo",className:"max-h-14 max-w-full object-contain grayscale opacity-80"}):m.jsx("div",{className:"text-[10px] text-center border p-1 italic",children:"Logo"}),m.jsx("div",{className:"text-[9px] uppercase font-bold text-[#8d6e63] mt-1 text-center",children:e.furnizor})]}),m.jsxs("div",{className:"text-center w-1/2",children:[m.jsx("h1",{className:`font-serif ${n?"text-3xl":"text-5xl"} text-[#5d4037] font-bold tracking-tight uppercase leading-none`,children:e.modelName}),m.jsxs("p",{className:"font-serif italic text-[#8d6e63] text-sm",children:[e.woodColor,"  ",e.sidesType]}),m.jsx("p",{className:`font-bold uppercase text-[#3e2723] ${n?"text-xl":"text-3xl"} mt-1`,children:e.material})]}),m.jsx("div",{className:"w-1/4 text-right",children:m.jsxs("div",{className:"inline-block border-2 border-[#5d4037] p-1.5 rounded transform rotate-[-2deg] bg-[#efebe9]",children:[m.jsx("p",{className:(n?"text-xl":"text-4xl")+" font-bold leading-none",children:e.price}),m.jsx("p",{className:"text-[10px] font-bold text-center",children:e.currency})]})})]}),m.jsxs("div",{className:"flex-grow grid grid-cols-12 gap-4",children:[m.jsxs("div",{className:n?"col-span-4":"col-span-6",children:[m.jsx("h3",{className:"font-bold border-b border-[#8d6e63] mb-1 text-[#5d4037] uppercase text-xs",children:"Specificaii"}),m.jsxs("div",{className:"pl-2 border-l-2 border-[#d7ccc8]",children:[m.jsx("p",{className:`font-serif ${n?"text-lg":"text-2xl"} mb-1`,children:e.lidFeature}),m.jsx("ul",{className:(n?"text-xs":"text-sm font-semibold")+" list-disc list-inside space-y-0.5 italic text-gray-700",children:e.accessories.map((e,t)=>m.jsx("li",{children:e},t))})]}),m.jsxs("div",{className:"mt-4",children:[m.jsx("h3",{className:"font-bold border-b border-[#8d6e63] mb-1 text-[#5d4037] uppercase text-xs",children:"Extra"}),m.jsx("div",{className:""+(n?"text-xs":"text-sm font-semibold"),children:e.crossOptions.map((e,t)=>m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{children:e.type}),m.jsxs("span",{className:"font-bold",children:[e.price," Lei"]})]},t))})]})]}),n&&m.jsx("div",{className:"col-span-4 flex flex-col items-center justify-center",children:e.imageUrl&&m.jsx("div",{className:"bg-white p-2 shadow-md border border-[#d7ccc8] transform rotate-1",children:m.jsx("img",{src:e.imageUrl,alt:"Product",className:"w-full h-auto max-h-32 object-contain sepia-[.3]"})})}),m.jsxs("div",{className:n?"col-span-4 text-right":"col-span-6 text-right",children:[m.jsx("h3",{className:"font-bold border-b border-[#8d6e63] mb-1 text-[#5d4037] uppercase text-xs",children:"Totaluri"}),m.jsx("table",{className:"w-full "+(n?"text-xs":"text-sm"),children:m.jsxs("tbody",{children:[m.jsxs("tr",{children:[m.jsx("td",{className:"py-1 italic pt-2",children:"Accesorii"}),m.jsxs("td",{className:"text-right pt-2 font-bold",children:[e.accessoriesPrice," Lei"]})]}),m.jsxs("tr",{children:[m.jsx("td",{className:"py-1 italic",children:"Crucifix"}),m.jsxs("td",{className:"text-right font-bold",children:[e.crucifixPrice," Lei"]})]})]})}),m.jsxs("div",{className:"mt-4 border border-[#d7ccc8] p-2 bg-[#efebe9] text-center shadow-sm relative",children:[m.jsx("p",{className:"text-[10px] uppercase text-[#8d6e63]",children:"Dimensiuni & Greutate"}),m.jsxs("p",{className:`font-black ${n?"text-lg":"text-2xl"} text-[#3e2723] leading-none mb-1`,children:[[e.dimensions.length>0?e.dimensions.length:null,e.dimensions.width>0?e.dimensions.width:null,e.dimensions.height>0?e.dimensions.height:null].filter(Boolean).join(" x ")," cm"]}),m.jsxs("p",{className:`font-black ${n?"text-lg":"text-2xl"} text-[#3e2723] leading-none`,children:[e.weightCapacityMin,"-",e.weightCapacityMax," kg"]})]}),m.jsx("div",{className:"mt-2 opacity-80 transform rotate-1 text-right flex flex-col items-end",children:m.jsx("div",{style:{transform:n?"scaleX(2)":"scale(2.5) translateX(-20%)",transformOrigin:"right"},children:m.jsx("span",{style:{fontFamily:"'Libre Barcode EAN13 Text'"},className:"text-5xl leading-none",children:r})})})]})]})]})})})},mi=({product:e,logoUrl:t,showImages:n})=>{const r=ai(e.code);return m.jsxs("div",{className:"w-[180mm] h-[130mm] bg-white text-gray-800 font-sans p-6 box-border overflow-hidden relative flex flex-col",children:[m.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gray-800"}),m.jsx("div",{className:"absolute top-3 left-0 w-full h-px bg-gray-300"}),m.jsxs("div",{className:"flex justify-between items-end mb-4 mt-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-400 mb-0.5",children:"Sicriu Model"}),m.jsx("h1",{className:(n?"text-4xl":"text-6xl")+" font-light tracking-tight text-gray-900",children:e.modelName})]}),m.jsx("div",{className:"text-right",children:t?m.jsx("img",{src:t,alt:"Logo",className:"h-12 object-contain"}):m.jsx("span",{className:"text-lg font-serif italic text-gray-400",children:"Brand Logo"})})]}),m.jsxs("div",{className:"grid grid-cols-12 gap-4 flex-grow border-t border-b border-gray-200 py-4",children:[m.jsxs("div",{className:(n?"col-span-3":"col-span-5")+" border-r border-gray-100 pr-2 flex flex-col justify-center",children:[m.jsx("h3",{className:"text-[10px] font-bold uppercase text-gray-400 mb-1",children:"Detalii"}),m.jsx("p",{className:(n?"text-md":"text-2xl")+" font-bold mb-0.5",children:e.woodColor}),m.jsx("p",{className:(n?"text-sm":"text-xl")+" text-gray-600 mb-2",children:e.sidesType}),m.jsx("h3",{className:"text-[10px] font-bold uppercase text-gray-400 mb-1",children:"Material"}),m.jsx("p",{className:(n?"text-xl":"text-4xl")+" font-black text-gray-800 mb-4",children:e.material}),m.jsx("h3",{className:"text-[10px] font-bold uppercase text-gray-400 mb-1",children:"Furnizor"}),m.jsx("p",{className:"text-sm font-bold text-gray-800 mb-2",children:e.furnizor}),m.jsx("h3",{className:"text-[10px] font-bold uppercase text-gray-400 mb-1 mt-auto",children:"Pre Total"}),m.jsxs("p",{className:(n?"text-2xl":"text-5xl")+" font-bold text-gray-900",children:[e.price," ",m.jsx("span",{className:"text-xs font-normal text-gray-500",children:e.currency})]})]}),m.jsxs("div",{className:`${n?"col-span-5":"col-span-7"} ${n?"border-r border-gray-100":""} pr-2 pl-2`,children:[m.jsx("h3",{className:"text-[10px] font-bold uppercase text-gray-400 mb-2",children:"Configuraie"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{children:[m.jsx("span",{className:`block ${n?"text-xs":"text-xl"} font-semibold text-gray-900`,children:e.lidFeature}),m.jsx("span",{className:"text-[10px] text-gray-500",children:"Capitonaj Capac"})]}),m.jsx("ul",{className:(n?"text-xs":"text-sm font-medium")+" space-y-0.5 text-gray-700 mt-2",children:e.accessories.map((e,t)=>m.jsxs("li",{children:[" ",e]},t))})]}),m.jsxs("ul",{className:"space-y-1 "+(n?"text-xs":"text-sm font-medium"),children:[e.crossOptions.map((e,t)=>m.jsxs("li",{className:"flex justify-between",children:[m.jsx("span",{children:e.type}),m.jsx("span",{className:"font-semibold",children:e.price})]},t)),m.jsxs("li",{className:"flex justify-between pt-1 border-t border-gray-100 mt-1",children:[m.jsx("span",{className:"text-gray-500",children:"Accesorii"}),m.jsx("span",{children:e.accessoriesPrice})]}),m.jsxs("li",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-500",children:"Crucifix"}),m.jsx("span",{children:e.crucifixPrice})]})]})]}),!n&&m.jsx("div",{className:"mt-8 flex justify-end",children:m.jsx("div",{style:{transform:"scale(2.5)",transformOrigin:"right bottom"},children:m.jsx("span",{style:{fontFamily:"'Libre Barcode EAN13 Text'"},className:"text-5xl leading-none block",children:r})})})]}),n&&m.jsxs("div",{className:"col-span-4 pl-2 flex flex-col items-center justify-center",children:[e.imageUrl?m.jsx("img",{src:e.imageUrl,className:"max-h-32 object-contain"}):m.jsx("div",{className:"w-full h-32 bg-gray-50 flex items-center justify-center text-xs text-gray-400",children:"FOTO"}),m.jsx("div",{className:"mt-4 flex flex-col items-center",children:m.jsx("div",{style:{transform:"scaleX(2)",transformOrigin:"center"},children:m.jsx("span",{style:{fontFamily:"'Libre Barcode EAN13 Text'"},className:"text-5xl leading-none block",children:r})})})]})]}),m.jsxs("div",{className:`mt-2 flex justify-between ${n?"text-lg":"text-2xl"} font-bold uppercase tracking-wider text-gray-700`,children:[m.jsxs("span",{children:["Dimensiuni: ",[e.dimensions.length>0?e.dimensions.length:null,e.dimensions.width>0?e.dimensions.width:null,e.dimensions.height>0?e.dimensions.height:null].filter(Boolean).join(" x ")," cm"]}),m.jsxs("span",{children:["Sarcin Maxim: ",e.weightCapacityMax," kg"]})]})]})},hi=({product:e,logoUrl:t,showImages:n})=>{const r=ai(e.code);return m.jsx("div",{className:"w-[180mm] h-[130mm] bg-white p-2 box-border overflow-hidden relative text-slate-800",children:m.jsx("div",{className:"w-full h-full border-[1px] border-slate-300 p-1",children:m.jsxs("div",{className:"w-full h-full border-[3px] border-slate-800 flex flex-col p-3 relative",children:[m.jsxs("div",{className:"flex flex-col items-center mb-2 pb-2 border-b border-slate-200",children:[m.jsx("div",{className:"h-10 mb-1",children:t?m.jsx("img",{src:t,className:"h-full object-contain"}):m.jsx("i",{className:"fa-solid fa-cross text-2xl text-slate-400"})}),m.jsx("h1",{className:`font-serif ${n?"text-2xl":"text-5xl"} font-bold uppercase tracking-wider leading-none`,children:e.modelName}),m.jsxs("div",{className:"flex gap-4 text-xs font-bold text-slate-500 uppercase mt-0.5 items-center",children:[m.jsx("span",{className:n?"":"text-xl",children:e.woodColor}),m.jsx("span",{children:""}),m.jsx("span",{className:n?"":"text-xl",children:e.sidesType}),m.jsx("span",{children:""}),m.jsx("span",{className:(n?"text-xl":"text-4xl")+" font-black text-slate-800",children:e.material})]}),!n&&m.jsxs("div",{className:"mt-2 text-4xl font-black text-slate-900 border-2 border-slate-800 px-4 py-1",children:[e.price," ",e.currency]})]}),m.jsxs("div",{className:`grid ${n?"grid-cols-3":"grid-cols-2"} gap-2 flex-grow items-center`,children:[m.jsxs("div",{className:"text-center space-y-1",children:[m.jsx("h3",{className:"font-serif italic font-bold text-sm text-slate-700",children:"Interior"}),m.jsx("div",{className:"w-6 h-0.5 bg-slate-800 mx-auto"}),m.jsx("p",{className:"font-bold "+(n?"text-sm":"text-2xl"),children:e.lidFeature}),m.jsx("div",{className:(n?"text-xs":"text-base font-semibold")+" text-slate-600 space-y-0.5",children:e.accessories.map((e,t)=>m.jsx("p",{children:e},t))}),m.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase mt-2",children:["Furnizor: ",e.furnizor]})]}),n&&m.jsx("div",{className:"h-full flex flex-col justify-center items-center relative z-10",children:m.jsxs("div",{className:"w-32 h-32 rounded-full border-4 border-slate-100 overflow-hidden flex items-center justify-center bg-slate-50 relative",children:[e.imageUrl?m.jsx("img",{src:e.imageUrl,className:"w-full h-full object-contain"}):m.jsx("span",{className:"text-xs text-slate-300",children:"FOTO"}),m.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-slate-900 text-white w-14 h-14 rounded-full flex flex-col items-center justify-center shadow-md border-2 border-white",children:[m.jsx("span",{className:"text-xs font-bold leading-none",children:e.price}),m.jsx("span",{className:"text-[8px] leading-none",children:e.currency})]})]})}),m.jsxs("div",{className:"text-center space-y-1",children:[m.jsx("h3",{className:"font-serif italic font-bold text-sm text-slate-700",children:"Extra"}),m.jsx("div",{className:"w-6 h-0.5 bg-slate-800 mx-auto"}),m.jsx("div",{className:(n?"text-xs":"text-base")+" space-y-0.5",children:e.crossOptions.map((e,t)=>m.jsxs("p",{children:[m.jsx("strong",{children:e.type}),": ",e.price]},t))}),m.jsxs("p",{className:"text-[10px] text-slate-500 pt-1 border-t border-slate-200 w-3/4 mx-auto mt-1",children:["+ Accesorii: ",e.accessoriesPrice+e.crucifixPrice]})]})]}),m.jsxs("div",{className:"absolute bottom-1 left-0 w-full flex justify-between px-4 items-end",children:[m.jsxs("div",{className:`text-left bg-white px-2 ${n?"text-lg":"text-2xl"} font-bold uppercase tracking-widest text-slate-600`,children:[[e.dimensions.length>0?e.dimensions.length:null,e.dimensions.width>0?e.dimensions.width:null,e.dimensions.height>0?e.dimensions.height:null].filter(Boolean).join(" x ")," cm",m.jsx("br",{})," Max ",e.weightCapacityMax," kg"]}),m.jsx("div",{className:"text-right flex flex-col items-end",children:m.jsx("div",{style:{transform:n?"scaleX(2)":"scale(2.5) translateX(-20%)",transformOrigin:"right"},children:m.jsx("span",{style:{fontFamily:"'Libre Barcode EAN13 Text'"},className:"text-5xl leading-none block",children:r})})})]})]})})})},gi=({products:e,template:t,logoUrl:n,showImages:r})=>{const s=[];let l=0;for(;l<e.length;){const t=e[l].isSmallLabel?4:2;s.push(e.slice(l,l+t)),l+=t}return Xa.createPortal(m.jsx("div",{className:"print-area",children:s.map((e,s)=>{var l;const o=null==(l=e[0])?void 0:l.isSmallLabel;return m.jsx("div",{className:"label-page",style:{gridTemplateRows:"1fr 1fr",gridTemplateColumns:o?"1fr 1fr":"1fr",gap:o?"5mm":"17mm",padding:o?"5mm":"10mm"},children:e.map(e=>m.jsx("div",{className:"label-container",children:(()=>{const s={product:e,logoUrl:n,showImages:r};switch(t){case ni.MODERN:return m.jsx(ci,{...s});case ni.MINIMAL:return m.jsx(ui,{...s});case ni.ELEGANT:return m.jsx(di,{...s});case ni.ROYAL:return m.jsx(pi,{...s});case ni.VINTAGE:return m.jsx(fi,{...s});case ni.PRESTIGE:return m.jsx(mi,{...s});case ni.ORNAMENTAL:return m.jsx(hi,{...s});case ni.CLASSIC:default:return m.jsx(ii,{...s})}})()},e.id))},s)})}),document.body)},xi=["BRAD","FAG","STEJAR","FRASIN","PIN","TEI","CIRES","WENGE","ALB","NEGRU"],bi=["4 LATURI","6 LATURI","8 LATURI","PATRU LATURI","SASE LATURI"],yi=()=>m.jsx("i",{className:"fa-solid fa-print text-lg"}),vi=()=>m.jsx("i",{className:"fa-solid fa-file-pdf"}),wi=()=>m.jsx("i",{className:"fa-solid fa-download"}),Ni=()=>m.jsx("i",{className:"fa-solid fa-id-card text-blue-500"}),Si=()=>m.jsx("i",{className:"fa-solid fa-cloud-arrow-down"}),Ei=()=>m.jsx("i",{className:"fa-solid fa-upload"}),Ci=()=>m.jsx("i",{className:"fa-solid fa-database text-amber-500"}),ji=()=>m.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),ki=()=>m.jsx("i",{className:"fa-solid fa-file-import"}),Ai=()=>m.jsx("i",{className:"fa-solid fa-clock-rotate-left"}),Ii=()=>m.jsx("i",{className:"fa-solid fa-palette text-pink-500"}),Ti=()=>m.jsx("i",{className:"fa-solid fa-magnifying-glass absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),_i=()=>m.jsx("i",{className:"fa-solid fa-barcode text-[8px]"}),Oi=()=>m.jsx("i",{className:"fa-solid fa-minus text-xs"}),Pi=()=>m.jsx("i",{className:"fa-solid fa-plus text-xs"}),Ri=()=>m.jsx("i",{className:"fa-solid fa-pen-to-square"}),Di=()=>m.jsx("i",{className:"fa-solid fa-copy"}),Mi=()=>m.jsx("i",{className:"fa-solid fa-trash"}),Li=()=>m.jsx("i",{className:"fa-solid fa-x"}),Ui=()=>m.jsx("i",{className:"fa-solid fa-cog"}),Fi=({inventory:e})=>{const[t,r]=n.useState([]),[s,l]=n.useState({}),[o,a]=n.useState("https://ai24stiri.ro/scan/public/logo-transparent.png"),[i,c]=n.useState(ni.ELEGANT),[u,d]=n.useState(!1),[p,f]=n.useState(""),[h,g]=n.useState(null),[x,b]=n.useState(!1),[y,v]=n.useState("https://ai24stiri.ro/scan/public/logo-transparent.png"),w=n.useRef(null),N=n.useRef(null),S=n.useRef(null),E=n.useCallback((e,t)=>{if(!Array.isArray(e))return{processed:[],duplicatesSkipped:0};const n=new Set(t.map(e=>e.code)),r=new Set,s=[];let l=0;return e.forEach((e,t)=>{let o=e.productCode||e.code||e["Cod produs"];const a=o?String(o).replace(/\s/g,""):oi();if(n.has(a)||r.has(a))return void l++;r.add(a);const i=e.name||e["Denumire produs"]||e.modelName||"",c=Number(e.Pret||e.price||e["Pret vanzare"]||0),u=e.Moneda||e.currency||e["Moneda vanzare"]||"RON",d=i.toUpperCase();let p=e.material||xi.find(e=>d.includes(e))||"BRAD",f=e.sidesType||bi.find(e=>d.includes(e))||"4 LATURI",m=e.woodColor||(d.includes("MAHON")?"MAHON":"NUC"),h=e.furnizor||"Diverse",g=e.sizeClass||"L",x=Number(e.weightCapacityMax||0),b={...si.dimensions};const y=e.Descriere||e.description;if(y){const t=y.split("\n").map(e=>e.trim()).filter(e=>""!==e);if(t.length>=1&&(h=t[0]),t.length>=2&&(p=t[1]),t.length>=3&&(m=t[2]),t.length>=4){const e=t[3].trim(),n=e.match(/^(\d+)\s*[xX]\s*(\d+)\s*[xX]\s*(\d+)$/);if(n)b={length:parseInt(n[1]),width:parseInt(n[2]),height:parseInt(n[3])},g="";else{const t=e.toUpperCase(),n=ri.find(e=>e.id===t);n?(g=n.id,b={...n.dims},x=n.weight):g=e}}if(t.length>=5){const e=parseFloat(t[4].replace(/[^\d.]/g,""));isNaN(e)||(x=e)}t.length>=6&&(e.isSmallLabel=t[5].includes("SMALL: DA"))}const v=`id-${Date.now()}-${t}-${Math.random().toString(36).substr(2,5)}`;s.push({...si,...e,modelName:i,price:c,furnizor:h,currency:u,code:a,id:v,sidesType:f,woodColor:m,material:p,sizeClass:g,weightCapacityMax:x,dimensions:b,isSmallLabel:e.isSmallLabel||!1,rawStockData:e})}),{processed:s,duplicatesSkipped:l}},[]);n.useEffect(()=>{(async()=>{let t=[];try{t=await Va()}catch(s){console.error("Could not fetch server stocks:",s)}const n=E(t,[]).processed;if(e.length>0){const{processed:t}=E(e,n);r([...n,...t])}else n.length>0&&r(n)})()},[e,E]);const C=e=>{l(t=>{const n={...t};return void 0!==n[e]?delete n[e]:n[e]=1,n})},j=(e,t)=>{l(n=>{const r=n[e]||0,s=Math.max(0,r+t),l={...n};return 0===s?delete l[e]:l[e]=s,l})},k=t.filter(e=>{var t;const n=p.toLowerCase();return e.modelName.toLowerCase().includes(n)||e.code.toLowerCase().includes(n)||(null==(t=e.furnizor)?void 0:t.toLowerCase().includes(n))}),A=[];t.forEach(e=>{const t=s[e.id]||0;for(let n=0;n<t;n++)A.push(e)});const I=Object.values(s).reduce((e,t)=>e+t,0);return m.jsxs("div",{className:"flex flex-col font-sans text-gray-900 bg-gray-50/50 min-h-full",children:[m.jsx("div",{className:"no-print p-3 sm:p-6 max-w-[1920px] mx-auto w-full space-y-6 sm:space-y-8",children:m.jsxs("div",{className:(x?"grid":"flex flex-col")+" grid-cols-1 xl:grid-cols-12 gap-8",children:[m.jsx("aside",{className:(x?"xl:col-span-3 min-w-[320px]":"hidden")+" space-y-6 transition-all duration-300",children:m.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-2xl shadow-sm border border-gray-200",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4 border-b pb-3",children:[m.jsxs("h3",{className:"font-bold text-lg text-gray-800 flex items-center gap-2 uppercase tracking-tighter",children:[m.jsx(Ui,{})," Setri"]}),m.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 xl:hidden",children:m.jsx(Li,{})})]}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("section",{children:[m.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[m.jsx(Ni,{})," Logo Firm"]}),m.jsxs("div",{className:"space-y-4",children:[o&&m.jsxs("div",{className:"w-full h-24 bg-gray-50 rounded-xl border border-gray-100 p-2 flex items-center justify-center mb-4 relative group",children:[m.jsx("img",{src:o,alt:"Logo",className:"max-h-full max-w-full object-contain"}),m.jsx("button",{onClick:()=>a(null),className:"absolute top-1 right-1 w-6 h-6 bg-red-500 text-white rounded-full text-[10px] opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:m.jsx(Li,{})})]}),m.jsxs("div",{className:"bg-blue-50/50 p-4 rounded-xl border border-blue-100 space-y-3",children:[m.jsx("label",{className:"text-[10px] font-black text-blue-700 uppercase tracking-widest block",children:"URL Logo Server"}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("input",{type:"text",value:y,onChange:e=>v(e.target.value),className:"flex-1 px-3 py-2 text-xs border border-blue-200 rounded-lg outline-none bg-white"}),m.jsx("button",{onClick:()=>{y&&a(y)},className:"w-10 h-10 flex items-center justify-center rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-all shadow-sm",children:m.jsx(Si,{})})]})]}),m.jsx("input",{type:"file",ref:S,onChange:e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];if(n){const e=new FileReader;e.onloadend=()=>a(e.result),e.readAsDataURL(n)}},accept:"image/*",className:"hidden"}),m.jsxs("button",{onClick:()=>{var e;return null==(e=S.current)?void 0:e.click()},className:"w-full py-3 px-4 bg-gray-50 text-gray-700 border border-gray-200 rounded-xl hover:bg-gray-100 transition font-black flex justify-between items-center text-xs uppercase tracking-widest",children:[m.jsx("span",{children:"ncarc Logo Local"})," ",m.jsx(Ei,{})]})]})]}),m.jsxs("section",{children:[m.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[m.jsx(Ci,{})," Scule Date"]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("input",{type:"file",ref:w,onChange:e=>{var n;const s=null==(n=e.target.files)?void 0:n[0];if(!s)return;const l=new FileReader;l.onload=e=>{var n;try{const s=JSON.parse(null==(n=e.target)?void 0:n.result),{processed:l}=E(s,t);l.length>0&&r(e=>[...e,...l])}catch(s){}},l.readAsText(s)},accept:".json",className:"hidden"}),m.jsxs("button",{onClick:()=>{var e;return null==(e=w.current)?void 0:e.click()},className:"w-full py-3 px-4 bg-gray-50 text-gray-700 border border-gray-200 rounded-xl hover:bg-gray-100 transition font-bold flex justify-between items-center text-xs uppercase tracking-widest",children:[m.jsx("span",{children:"Import Fiier JSON"})," ",m.jsx(ki,{})]}),m.jsxs("button",{onClick:()=>{var e;return null==(e=N.current)?void 0:e.click()},className:"w-full py-3 px-4 bg-red-50 text-red-700 border border-red-100 rounded-xl hover:bg-red-100 transition font-black flex justify-between items-center text-xs uppercase tracking-widest",children:[m.jsx("span",{children:"Recupereaz din HTML"})," ",m.jsx(Ai,{})]}),m.jsx("input",{type:"file",ref:N,onChange:async e=>{const n=e.target.files;if(!n||0===n.length)return;let s=[];for(let t=0;t<n.length;t++){const e=await n[t].text(),r=(new DOMParser).parseFromString(e,"text/html").getElementById("label-metadata");if(r)try{const e=JSON.parse(r.textContent||"[]");s=[...s,...e]}catch(o){}}const{processed:l}=E(s,t);l.length>0&&r(e=>[...e,...l])},accept:".html",multiple:!0,className:"hidden"}),m.jsxs("button",{onClick:()=>{if(0===t.length)return;const e=t.map(e=>{var t;return{"Denumire produs":e.modelName,"Cod produs":e.code,Pret:e.price,Moneda:e.currency,Descriere:(null==(t=e.rawStockData)?void 0:t.Descriere)||""}}),n=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=`gestiune_${(new Date).toISOString().slice(0,10)}.json`,s.click(),URL.revokeObjectURL(r)},className:"w-full py-3 px-4 bg-indigo-50 text-indigo-700 border border-indigo-100 rounded-xl hover:bg-indigo-100 transition font-black flex justify-between items-center text-xs uppercase tracking-widest",children:[m.jsx("span",{children:"Export Workspace JSON"})," ",m.jsx(wi,{})]})]})]}),m.jsxs("section",{children:[m.jsxs("h4",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[m.jsx(Ii,{})," Stil Vizual"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-xl border border-gray-200",children:[m.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Afieaz Imagine"}),m.jsx("button",{onClick:()=>d(!u),className:"relative w-12 h-6 rounded-full transition-colors duration-300 "+(u?"bg-indigo-600":"bg-gray-300"),children:m.jsx("span",{className:"absolute top-1 left-1 bg-white w-4 h-4 rounded-full shadow transition-transform duration-300 "+(u?"translate-x-6":"translate-x-0")})})]}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.values(ni).map(e=>m.jsx("button",{onClick:()=>c(e),className:"py-2 px-1 text-[10px] font-black uppercase rounded-lg border-2 transition-all "+(i===e?"bg-indigo-600 text-white border-indigo-600":"bg-white text-gray-400 border-gray-100"),children:e},e))})]})]})]})]})}),m.jsxs("main",{className:(x?"xl:col-span-9":"xl:col-span-12")+" bg-white rounded-2xl border border-gray-200 p-4 sm:p-6 flex flex-col shadow-sm min-h-[600px] transition-all duration-300",children:[m.jsxs("div",{className:"flex flex-col gap-6 mb-8 border-b border-gray-100 pb-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>b(!x),className:"w-10 h-10 flex items-center justify-center rounded-xl border transition-all "+(x?"bg-indigo-600 text-white border-indigo-600":"bg-white text-indigo-600 border-indigo-200 hover:bg-indigo-50"),children:m.jsx(Ui,{})}),m.jsxs("h2",{className:"text-xl font-black text-gray-800 tracking-tight uppercase",children:["Workspace ",m.jsxs("span",{className:"text-indigo-500 ml-2 font-normal text-sm lowercase italic",children:["(",t.length," modele)"]})]})]}),m.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.jsxs("button",{onClick:async()=>{if(0!==e.length&&confirm(`Importai ${e.length} produse din Oblio?`))try{const t=await Va(),n=Wa(e),s=[...t];n.forEach(e=>{const t=s.findIndex(t=>t["Cod produs"]===e["Cod produs"]);-1!==t?s[t]={...s[t],Stoc:e.Stoc,Pret:e.Pret,"Denumire produs":e["Denumire produs"],"Cota TVA":e["Cota TVA"]}:s.push(e)}),await Ba(s);const{processed:l}=E(s,[]);r(l),alert("Sincronizare finalizat!")}catch(t){alert("Eroare: "+t.message)}},className:"px-4 py-2 rounded-lg font-bold text-emerald-600 border border-emerald-100 hover:bg-emerald-50 transition-colors flex items-center gap-2 text-xs",children:[m.jsx("i",{className:"fa-solid fa-cloud-arrow-down"})," Import Oblio pe Server"]}),m.jsxs("button",{onClick:async()=>{if(0!==t.length&&confirm("Sigur dorii s actualizai descrierile de pe server cu datele din acest Workspace?"))try{const e=[...await Va()];t.forEach(t=>{const n=Ya(t),r=e.findIndex(e=>e["Cod produs"]===t.code);-1!==r?e[r]={...e[r],...n,Stoc:e[r].Stoc}:e.push(n)}),await Ba(e),alert("Datele au fost salvate pe server!")}catch(e){alert("Eroare la salvare: "+e.message)}},className:"px-4 py-2 rounded-lg font-bold text-amber-600 border border-amber-100 hover:bg-amber-50 transition-colors flex items-center gap-2 text-xs",children:[m.jsx("i",{className:"fa-solid fa-floppy-disk"})," Salveaz Workspace pe Server"]}),m.jsxs("button",{onClick:()=>window.location.href=$a(),className:"px-4 py-2 rounded-lg font-bold text-blue-600 border border-blue-100 hover:bg-blue-50 transition-colors flex items-center gap-2 text-xs",children:[m.jsx("i",{className:"fa-solid fa-file-excel"})," Export XLS (Oblio)"]}),m.jsx("div",{className:"w-px h-8 bg-gray-200 mx-2 hidden md:block"}),m.jsxs("button",{onClick:()=>{const e=document.querySelector(".print-area");if(!e)return;const n=t.filter(e=>(s[e.id]||0)>0),r=`<!DOCTYPE html><html lang="ro"><head><meta charset="UTF-8"><title>Export Etichete</title><script src="https://cdn.tailwindcss.com"><\/script><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" /><link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Roboto:wght@300;400;700&family=Libre+Barcode+EAN13&family=Libre+Barcode+EAN13+Text&display=swap" rel="stylesheet"><style>@media print {@page {size: A4; margin: 0; } body {margin: 0; padding: 0; -webkit-print-color-adjust: exact; } } body {background: white; font-family: 'Roboto', sans-serif; } .label-page {page-break-after: always; height: 297mm; width: 210mm; display: grid; grid-template-rows: 1fr 1fr; padding: 10mm; gap: 17mm; box-sizing: border-box; } .label-container {display: flex; align-items: center; justify-content: center; overflow: hidden; width: 100%; height: 100%; } .label-container:nth-child(1) {border-bottom: none; } * {-webkit-print-color-adjust: exact !important; }</style></head><body><script id="label-metadata" type="application/json">${JSON.stringify(n)}<\/script><div class="print-area">${e.innerHTML}</div><script>window.onload = function() {setTimeout(function () { window.print(); }, 1000); };<\/script></body></html>`,l=new Blob([r],{type:"text/html"}),o=URL.createObjectURL(l),a=document.createElement("a");a.href=o,a.download=`etichete_${(new Date).toISOString().slice(0,10)}.html`,a.click(),URL.revokeObjectURL(o)},className:"px-4 py-2 rounded-lg font-bold text-indigo-600 border border-indigo-100 hover:bg-indigo-50 flex items-center gap-2 text-xs "+(0===I?"opacity-50":""),children:[m.jsx(vi,{})," Export HTML"]}),m.jsxs("button",{onClick:()=>{0!==Object.keys(s).length&&window.print()},className:"px-6 py-2 rounded-xl font-black shadow-xl transition-all flex items-center justify-center gap-3 text-sm uppercase tracking-widest "+(0===I?"bg-gray-200 text-gray-400":"bg-indigo-600 hover:bg-indigo-700 text-white shadow-indigo-200"),children:[m.jsx(yi,{})," IMPRIM (",I,")"]})]})]}),m.jsxs("div",{className:"relative flex-1",children:[m.jsx(Ti,{}),m.jsx("input",{type:"text",value:p,onChange:e=>f(e.target.value),placeholder:"Caut model, cod...",className:"w-full pl-12 pr-4 py-3.5 bg-gray-50 border-none rounded-2xl focus:ring-2 focus:ring-indigo-500 transition-all font-medium text-gray-700"})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 max-h-[800px] pr-2 custom-scrollbar",children:0===t.length?m.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-indigo-500 py-20",children:[m.jsx(ji,{}),m.jsx("p",{className:"font-bold mt-4",children:"Nu exist produse."})]}):k.map(e=>{const t=s[e.id]||0,n=t>0;return m.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-3 lg:gap-4 p-4 rounded-2xl border transition-all "+(n?"bg-indigo-50/30 border-indigo-100":"bg-white border-gray-100 hover:border-indigo-100"),children:[m.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[m.jsx("input",{type:"checkbox",checked:n,onChange:()=>C(e.id),className:"w-6 h-6 rounded-lg text-indigo-600 cursor-pointer border-gray-300 mt-0.5"}),m.jsxs("div",{className:"flex-1",onClick:()=>!n&&C(e.id),children:[m.jsx("p",{className:"font-black text-gray-900 uppercase tracking-tight text-sm sm:text-base",children:e.modelName}),m.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-1 text-[10px] font-bold text-gray-400 uppercase mt-1.5",children:[m.jsxs("span",{className:"text-indigo-500 font-mono",children:[m.jsx(_i,{})," ",e.code]}),m.jsxs("span",{className:"text-emerald-600",children:[e.price," ",e.currency]}),m.jsx("span",{className:"bg-gray-100 px-1.5 rounded text-gray-500",children:e.material})]})]})]}),m.jsxs("div",{className:"flex items-center justify-between lg:justify-end gap-3 mt-1 lg:mt-0",children:[m.jsxs("div",{className:"flex items-center gap-1 bg-white border rounded-xl p-1 border-gray-100",children:[m.jsx("button",{onClick:()=>j(e.id,-1),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-50 text-gray-400 hover:text-red-500",children:m.jsx(Oi,{})}),m.jsx("span",{className:"w-8 text-center font-black text-sm "+(n?"text-indigo-600":"text-gray-400"),children:t}),m.jsx("button",{onClick:()=>j(e.id,1),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-50 text-gray-400 hover:text-indigo-600",children:m.jsx(Pi,{})})]}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:()=>g(e),className:"w-9 h-9 flex items-center justify-center rounded-xl bg-white text-indigo-500 border border-indigo-50 hover:bg-indigo-500 hover:text-white transition-all",children:m.jsx(Ri,{})}),m.jsx("button",{onClick:()=>(e=>{const t=`clone-${Date.now()}`,n={...e,id:t,code:oi()};r(e=>[...e,n]),l(e=>({...e,[t]:1}))})(e),className:"w-9 h-9 flex items-center justify-center rounded-xl bg-white text-emerald-500 border border-emerald-50 hover:bg-emerald-500 hover:text-white transition-all",children:m.jsx(Di,{})}),m.jsx("button",{onClick:()=>{return t=e.id,r(e=>e.filter(e=>e.id!==t)),void l(e=>{const n={...e};return delete n[t],n});var t},className:"w-9 h-9 flex items-center justify-center rounded-xl bg-white text-red-500 border border-red-50 hover:bg-red-500 hover:text-white transition-all",children:m.jsx(Mi,{})})]})]})]},e.id)})})]})]})}),m.jsx(gi,{products:A,template:i,logoUrl:o,showImages:u}),h&&m.jsx(li,{product:h,onSave:async e=>{r(t=>t.map(t=>t.id===e.id?e:t)),g(null);try{const t=await Va(),n=Ya(e),r=t.findIndex(t=>t["Cod produs"]===e.code);-1!==r?t[r]={...t[r],...n}:t.push(n),await Ba(t)}catch(t){}},onClose:()=>g(null)})]})},zi="oblio_config",qi={email:"",apiSecret:"",cif:"",seriesName:"",workStation:""},Gi=()=>{const[e,t]=n.useState(()=>{try{const e=localStorage.getItem(zi);return e?{...qi,...JSON.parse(e)}:qi}catch(e){return console.error("Eroare la ncrcarea configurrii din localStorage:",e),qi}}),[r,s]=n.useState([]),[l,o]=n.useState([]),[a,i]=n.useState(!1),[c,u]=n.useState(!1),[d,p]=n.useState(!1),[f,h]=n.useState(!1),[g,x]=n.useState(!1),[b,y]=n.useState(null),[v,w]=n.useState(!1),[N,S]=n.useState(me.IDLE),[E,C]=n.useState(""),[j,k]=n.useState(""),[I,T]=n.useState(null),[_,O]=n.useState("INVOICE"),[P,R]=n.useState(0);n.useEffect(()=>{localStorage.setItem(zi,JSON.stringify(e))},[e]),n.useEffect(()=>{(async()=>{const t=[];if(e.email||t.push("Email"),e.apiSecret||t.push("API Secret"),e.cif||t.push("CIF"),t.length>0)return T(`Configurare incomplet. Lipsesc: ${t.join(", ")}.`),void o([]);T(null),i(!0);try{const t=[...await ve(e)].sort((e,t)=>e.name.localeCompare(t.name,"ro",{sensitivity:"base"}));o(t),console.log("Inventory loaded and sorted:",t.length,"items")}catch(n){console.error("Failed to load inventory",n),S(me.ERROR),T(n.message||"Eroare necunoscut la conectarea cu Oblio."),o([])}finally{i(!1)}})()},[e]);const D=(e,t,n=3e3)=>{S(e),C(t),n>0&&setTimeout(()=>{S(me.IDLE),C("")},n)},U=n.useCallback(e=>{const t=e.trim();if(console.log("handleScan called with code:",e,"trimmed:",t),console.log("Inventory length:",l.length),l.length>0){const e=l[0];console.log("First product sample:",{name:e.name,code:e.code,productCode:e.productCode,codeType:typeof e.code,productCodeType:typeof e.productCode}),"10000000000001"===t&&(console.log("Searching for code 10000000000001 in inventory..."),l.forEach((e,n)=>{var r,s;console.log(`Product ${n}:`,{name:e.name,code:e.code,productCode:e.productCode,codeMatch:e.code===t,productCodeMatch:e.productCode===t,codeTrimMatch:(null==(r=e.code)?void 0:r.trim())===t,productCodeTrimMatch:(null==(s=e.productCode)?void 0:s.trim())===t})}))}const n=l.find(e=>{const n=e.productCode&&e.productCode.trim()===t,r=e.code&&e.code.trim()===t&&e.code!==e.productCode;return n||r});if(console.log("Product found:",n?n.name:"NOT FOUND"),!n)return navigator.vibrate&&navigator.vibrate([200,100,200]),void D(me.ERROR,`Codul ${e} nu a fost gsit n inventarul Oblio.`);const o=n.stock<=0,a=r.findIndex(t=>t.barcode===e||n.productCode&&t.barcode===n.productCode||n.code&&t.barcode===n.code);if(a>=0)s(e=>{const t=[...e];return t[a].quantity+=1,t}),o?(navigator.vibrate&&navigator.vibrate([100,50,100]),D(me.WARNING,"Cantitate actualizat (Atenie: Stoc 0 n Oblio)",4e3)):(navigator.vibrate&&navigator.vibrate(50),D(me.SUCCESS,"Cantitate actualizat (+1)"));else{const e={id:Date.now().toString(),name:n.name,barcode:n.productCode||n.code,quantity:1,price:n.price,vatPercentage:n.vatPercentage,unit:n.measuringUnit};s(t=>[...t,e]),h(!1),o?(navigator.vibrate&&navigator.vibrate([100,50,100]),D(me.WARNING,"Produs adugat (Atenie: Stoc 0 n Oblio)",4e3)):(navigator.vibrate&&navigator.vibrate([50,50,50]),D(me.SUCCESS,"Produs adugat din stoc"))}},[r,l,D]),F=()=>{j.trim()&&(U(j.trim()),k(""))},z=(e,t)=>{s(n=>n.map(n=>n.id===e?{...n,quantity:Math.max(1,n.quantity+t)}:n))};return m.jsxs("div",{className:"min-h-screen bg-slate-900 pb-24 relative overflow-hidden font-sans",children:[m.jsxs("header",{className:"no-print sticky top-0 z-40 bg-slate-900/90 backdrop-blur-md border-b border-slate-800 px-4 py-3 flex flex-col gap-2 shadow-md",children:[m.jsxs("div",{className:"flex justify-between items-center w-full relative",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-emerald-500 p-2 rounded-lg shadow-emerald-500/20 shadow-lg",children:m.jsx(re,{className:"w-5 h-5 text-white"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-lg font-bold text-white leading-tight",children:"Scan2Oblio"}),"INVOICE"===_&&m.jsxs("div",{onClick:()=>l.length>0&&u(!0),className:"flex items-center gap-1.5 mt-1 transition-all active:scale-95 "+(l.length>0?"cursor-pointer hover:opacity-80":"opacity-70"),children:[m.jsx("div",{className:"w-2 h-2 rounded-full "+(a?"bg-yellow-400 animate-pulse":l.length>0?"bg-emerald-400":"bg-red-400")}),m.jsx("span",{className:"text-[10px] text-slate-400 uppercase tracking-wider font-semibold",children:a?"Se ncarc...":l.length>0?`${l.length} PRODUSE`:"Deconectat"}),l.length>0&&m.jsx("span",{className:"text-[9px] text-slate-600 ml-1",children:"(Vezi)"})]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"flex bg-slate-800 rounded-lg p-1 border border-slate-700 shadow-xl",children:[m.jsx("button",{onClick:()=>O("INVOICE"),className:"px-3 py-1.5 rounded-md text-xs font-bold transition-all "+("INVOICE"===_?"bg-emerald-600 text-white shadow-lg":"text-slate-400 hover:text-white"),children:"Facturare"}),m.jsx("button",{onClick:()=>O("STOCKS"),className:"px-3 py-1.5 rounded-md text-xs font-bold transition-all "+("STOCKS"===_?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:text-white"),children:"Stocuri"}),m.jsx("button",{onClick:()=>O("LABELS"),className:"px-3 py-1.5 rounded-md text-xs font-bold transition-all "+("LABELS"===_?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-white"),children:"Etichete"})]}),m.jsx("button",{onClick:()=>w(!v),className:"p-2 text-slate-400 hover:text-white transition-colors bg-slate-800 rounded-full hover:bg-slate-700",children:m.jsx(le,{className:"w-5 h-5"})})]})]}),("INVOICE"===_||"STOCKS"===_||"LABELS"===_)&&!a&&m.jsxs("div",{className:"flex gap-2 px-4 pb-2",children:[m.jsx("div",{className:"flex-1",children:m.jsx(qa,{config:e,selectedStation:e.workStation||"",onSelect:n=>{const r={...e,workStation:n};t(r),localStorage.setItem("oblio_config",JSON.stringify(r))}})}),m.jsx("div",{className:"flex-1 md:flex-initial md:min-w-[200px]",children:m.jsx(Ka,{config:e,onSuccess:e=>{o(e),R(Date.now())},onError:e=>T(e)})})]})]}),m.jsxs("main",{className:"p-2 sm:p-4 mx-auto space-y-4",children:[v&&m.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",children:m.jsx(xe,{config:e,onSave:e=>{t(e),w(!1)},onClose:()=>w(!1)})}),"STOCKS"===_?m.jsx(ei,{config:e},P):"LABELS"===_?m.jsx(Fi,{inventory:l}):m.jsxs(m.Fragment,{children:[c&&m.jsx(be,{inventory:l,onClose:()=>u(!1),onAddToCart:(e,t)=>{const n=e.stock<=0,l=e.productCode||e.code,o=r.findIndex(t=>t.barcode===l||t.barcode===e.code||t.barcode===e.productCode);if(o>=0)s(e=>{const n=[...e];return n[o].quantity+=t,n}),D(me.SUCCESS,`Cantitate actualizat (+${t})`);else{const n={id:Date.now().toString(),name:e.name,barcode:e.productCode||e.code,quantity:t,price:e.price,vatPercentage:e.vatPercentage,unit:e.measuringUnit};s(e=>[...e,n]),D(me.SUCCESS,`Produs adugat n co (+${t})`)}n&&setTimeout(()=>{D(me.WARNING,"Atenie: Stoc 0 n Oblio",3e3)},1500)}}),b&&m.jsx("div",{className:"fixed inset-0 z-[60] bg-black/80 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in zoom-in duration-200",children:m.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6 w-full max-w-sm shadow-2xl relative",children:[m.jsx("button",{onClick:()=>y(null),className:"absolute top-4 right-4 p-1 hover:bg-slate-800 rounded-full transition-colors text-slate-400",children:m.jsx(fe,{className:"w-5 h-5"})}),m.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[m.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center",children:m.jsx(A,{className:"w-8 h-8 text-blue-400"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-white text-lg font-bold mb-1",children:"Rezultat Scanare Test"}),m.jsx("p",{className:"text-slate-400 text-sm",children:"Acesta este numrul decodat din imagine:"})]}),m.jsxs("div",{className:"bg-black/50 border border-slate-700 rounded-lg p-4 w-full flex items-center justify-between gap-3",children:[m.jsx("code",{className:"text-emerald-400 font-mono text-xl font-bold tracking-wider truncate",children:b}),m.jsx("button",{onClick:()=>{navigator.clipboard.writeText(b),D(me.SUCCESS,"Copiat!",1500)},className:"p-2 hover:bg-slate-800 rounded text-slate-500 hover:text-white transition-colors",children:m.jsx(q,{className:"w-4 h-4"})})]}),m.jsx("button",{onClick:()=>y(null),className:"w-full py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-semibold transition-colors mt-2",children:"nchide"})]})]})}),I&&m.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 rounded-xl p-4 flex items-start gap-3 shadow-lg",children:[m.jsx("div",{className:"bg-red-500/20 p-2 rounded-full shrink-0",children:m.jsx(ue,{className:"w-5 h-5 text-red-400"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-red-200 font-bold text-sm",children:"Eroare Conexiune Oblio"}),m.jsx("p",{className:"text-red-300/80 text-xs mt-1 leading-relaxed",children:I}),m.jsx("button",{onClick:()=>w(!0),className:"mt-3 text-xs font-semibold bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-400 transition-colors shadow-lg shadow-red-900/20",children:"Verific Setrile"})]})]}),0===r.length?m.jsxs("div",{className:"flex flex-col items-center justify-center mt-8 text-slate-500 gap-6 px-8 text-center",children:[m.jsxs("div",{className:"w-24 h-24 bg-slate-800 rounded-full flex items-center justify-center mb-2 relative",children:[m.jsx(oe,{className:"w-10 h-10 text-slate-600"}),m.jsx("div",{className:"absolute bottom-0 right-0 p-2 rounded-full border-4 border-slate-900 "+(I?"bg-red-500":"bg-emerald-500"),children:I?m.jsx(ue,{className:"w-4 h-4 text-white"}):m.jsx(H,{className:"w-4 h-4 text-white"})})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-white text-lg font-medium mb-2",children:"Coul este gol"}),m.jsx("p",{className:"text-sm",children:I?"Rezolvai eroarea de conexiune pentru a continua.":"Scanai produse pentru a le cuta n inventarul Oblio."})]}),m.jsxs("button",{onClick:()=>h(!0),disabled:0===l.length,className:`mt-2 px-8 py-3.5 rounded-xl font-bold shadow-lg transition-all flex items-center gap-2 transform active:scale-95 w-full max-w-xs justify-center\n                 ${l.length>0?"bg-emerald-600 hover:bg-emerald-500 text-white shadow-emerald-500/20":"bg-slate-700 text-slate-400 cursor-not-allowed"}\n              `,children:[m.jsx(re,{className:"w-5 h-5"}),l.length>0?"ncepe Scanarea":"Conectare necesar"]}),m.jsxs("button",{onClick:()=>x(!0),className:"w-full max-w-xs py-2 px-4 rounded-lg border border-blue-500/30 bg-blue-500/10 text-blue-400 hover:bg-blue-500/20 transition-colors text-sm font-medium flex items-center justify-center gap-2",children:[m.jsx(A,{className:"w-4 h-4"}),"Test Scanner (Fr Oblio)"]}),l.length>0&&m.jsxs("div",{className:"flex items-center gap-2 w-full max-w-xs",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx("input",{type:"text",value:j,onChange:e=>k(e.target.value),onKeyDown:e=>"Enter"===e.key&&F(),placeholder:"Sau introdu cod manual...",className:"w-full bg-slate-800 border border-slate-700 text-white rounded-lg py-3 pl-10 pr-4 focus:ring-2 focus:ring-emerald-500 outline-none placeholder:text-slate-500 text-sm"}),m.jsx($,{className:"w-4 h-4 text-slate-500 absolute left-3 top-1/2 -translate-y-1/2"})]}),m.jsx("button",{onClick:F,disabled:!j,className:"bg-slate-700 hover:bg-slate-600 text-white p-3 rounded-lg border border-slate-600 transition-colors disabled:opacity-50",children:m.jsx(Z,{className:"w-5 h-5"})})]})]}):m.jsxs("div",{className:"space-y-3 pb-8",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4 bg-slate-800/80 backdrop-blur p-2 rounded-xl border border-slate-700 shadow-sm sticky top-0 z-10",children:[m.jsx($,{className:"w-5 h-5 text-emerald-500 ml-2"}),m.jsx("input",{value:j,onChange:e=>k(e.target.value),onKeyDown:e=>"Enter"===e.key&&F(),placeholder:"Adaug rapid un produs dup cod...",className:"flex-1 bg-transparent text-white border-none focus:outline-none placeholder:text-slate-500 text-sm h-8"}),m.jsx("button",{onClick:F,disabled:!j,className:"bg-emerald-600 hover:bg-emerald-500 disabled:bg-slate-700 text-white p-1.5 rounded-lg transition-colors",children:m.jsx(Z,{className:"w-5 h-5"})})]}),r.map(e=>m.jsxs("div",{className:"group bg-slate-800 hover:bg-slate-750 transition-colors rounded-xl p-4 flex items-center justify-between shadow-lg border border-slate-700/50",children:[m.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[m.jsx("div",{className:"flex items-start justify-between mb-1",children:m.jsx("h3",{className:"font-semibold text-white truncate text-base leading-tight",children:e.name})}),m.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[e.barcode?m.jsx("span",{className:"bg-slate-900 px-1.5 py-0.5 rounded text-slate-300 font-mono tracking-wide",children:e.barcode}):m.jsx("span",{className:"bg-emerald-500/10 text-emerald-300 px-1.5 py-0.5 rounded flex items-center gap-1",children:"Manual"}),m.jsx("span",{children:"|"}),m.jsxs("span",{children:[e.price," RON"]}),m.jsx("span",{children:"|"}),m.jsxs("span",{children:["TVA ",e.vatPercentage,"%"]})]})]}),m.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[m.jsxs("div",{className:"flex items-center bg-slate-900 rounded-lg border border-slate-700 h-9",children:[m.jsx("button",{onClick:()=>z(e.id,-1),className:"w-8 h-full flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-700 rounded-l-lg transition-colors",children:"-"}),m.jsx("span",{className:"w-8 text-center text-sm font-bold text-white tabular-nums",children:e.quantity}),m.jsx("button",{onClick:()=>z(e.id,1),className:"w-8 h-full flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-700 rounded-r-lg transition-colors",children:"+"})]}),m.jsx("button",{onClick:()=>{return t=e.id,void s(e=>e.filter(e=>e.id!==t));var t},className:"w-9 h-9 flex items-center justify-center text-red-400 hover:text-red-300 bg-red-500/10 hover:bg-red-500/20 rounded-lg transition-colors",children:m.jsx(ce,{className:"w-4 h-4"})})]})]},e.id)),m.jsx("div",{className:"mt-6 bg-gradient-to-r from-slate-800 to-slate-800/80 rounded-xl p-5 border border-slate-700 shadow-xl",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-slate-400 font-medium",children:"Total Estimativ"}),m.jsxs("span",{className:"text-2xl font-bold text-white tracking-tight",children:[r.reduce((e,t)=>e+t.price*t.quantity,0).toFixed(2)," ",m.jsx("span",{className:"text-sm font-normal text-emerald-400",children:"RON"})]})]})})]})]})]}),"INVOICE"===_&&m.jsx("div",{className:"no-print fixed bottom-0 left-0 right-0 bg-slate-900/95 backdrop-blur-md border-t border-slate-800 p-4 safe-area-pb z-30",children:m.jsxs("div",{className:"max-w-2xl mx-auto flex gap-3",children:[m.jsxs("button",{onClick:()=>h(!0),disabled:0===l.length,className:`flex-1 py-3.5 rounded-xl font-bold flex items-center justify-center gap-2 transition-all active:scale-[0.98] border border-slate-700\n                    ${l.length>0?"bg-slate-800 text-white hover:bg-slate-700":"bg-slate-800/50 text-slate-600 cursor-not-allowed"}\n                `,children:[m.jsx(re,{className:"w-5 h-5 "+(l.length>0?"text-emerald-400":"text-slate-600")}),"Scan"]}),m.jsx("button",{onClick:()=>{if(0===l.length)return void D(me.ERROR,"Inventarul nu este ncrcat.");const e=prompt("Caut produs n stoc (Nume sau Cod):");if(!e)return;const t=e.toLowerCase(),n=l.find(n=>{const r=n.productCode&&n.productCode.trim()===e.trim(),s=n.code&&n.code.trim()===e.trim()&&n.code!==n.productCode,l=n.name.toLowerCase().includes(t);return r||s||l});if(n){const e=n.stock<=0,t=n.productCode||n.code,l=r.findIndex(e=>e.barcode===t||e.barcode===n.code||e.barcode===n.productCode);if(l>=0)s(e=>{const t=[...e];return t[l].quantity+=1,t}),e?D(me.WARNING,"Cantitate actualizat (Atenie: Stoc 0)",4e3):D(me.SUCCESS,"Cantitate actualizat (+1)");else{const t={id:Date.now().toString(),name:n.name,barcode:n.productCode||n.code,quantity:1,price:n.price,vatPercentage:n.vatPercentage,unit:n.measuringUnit};s(e=>[...e,t]),e?D(me.WARNING,"Produs adugat (Atenie: Stoc 0)",4e3):D(me.SUCCESS,"Produs adugat din stoc")}}else alert(`Produsul "${e}" nu a fost gsit n stocul Oblio. V rugm s verificai inventarul.`)},className:"px-4 bg-slate-800 text-white rounded-xl font-medium border border-slate-700 hover:bg-slate-700 flex items-center justify-center transition-all active:scale-[0.98]","aria-label":"Adaug Manual",children:m.jsx(Z,{className:"w-6 h-6 text-slate-300"})}),m.jsxs("button",{onClick:()=>{0!==r.length&&(e.email&&e.apiSecret?p(!0):w(!0))},disabled:0===r.length,className:`flex-[2] py-3.5 rounded-xl font-bold flex items-center justify-center gap-2 transition-all active:scale-[0.98]\n                    ${0===r.length?"bg-slate-800 text-slate-600 cursor-not-allowed border border-slate-700":"bg-emerald-600 hover:bg-emerald-500 text-white shadow-lg shadow-emerald-500/25 border border-emerald-500"}\n                `,children:[m.jsx(B,{className:"w-5 h-5"}),"Creeaz Factur"]})]})}),(f||g)&&m.jsx(he,{onScan:g?e=>{console.log("handleTestScan called with code:",e),navigator.vibrate&&navigator.vibrate([50,50,50]),x(!1),y(e)}:U,onClose:()=>{h(!1),x(!1)}}),d&&m.jsx(Ga,{config:e,initialProducts:r,onClose:()=>p(!1),onSuccess:()=>{p(!1),D(me.SUCCESS,"Factura a fost emis cu succes!",5e3),setTimeout(()=>{s([])},2e3)}}),N!==me.IDLE&&N!==me.SENDING_OBLIO&&m.jsx("div",{className:"no-print fixed top-20 left-1/2 -translate-x-1/2 z-[60] flex justify-center w-full px-4 pointer-events-none",children:m.jsxs("div",{className:`\n                pointer-events-auto max-w-sm w-full p-4 rounded-xl shadow-2xl flex items-center gap-3 backdrop-blur-md border animate-in slide-in-from-top-5 fade-in duration-300\n                ${N===me.SUCCESS?"bg-emerald-900/90 border-emerald-500/50 text-emerald-50":""}\n                ${N===me.WARNING?"bg-amber-900/90 border-amber-500/50 text-amber-50":""}\n                ${N===me.ERROR?"bg-red-900/90 border-red-500/50 text-red-50":""}\n            `,children:[N===me.SUCCESS&&m.jsx(L,{className:"w-6 h-6 text-emerald-400 shrink-0"}),N===me.WARNING&&m.jsx(M,{className:"w-6 h-6 text-amber-400 shrink-0"}),N===me.ERROR&&m.jsx(ue,{className:"w-6 h-6 text-red-400 shrink-0"}),m.jsx("div",{className:"flex-1",children:m.jsx("p",{className:"text-sm font-medium leading-snug",children:E})})]})})]})},Hi=document.getElementById("root");if(!Hi)throw new Error("Could not find root element to mount to");w.createRoot(Hi).render(m.jsx(s.StrictMode,{children:m.jsx(Gi,{})}));
